(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4902],{87350:function(e,a,c){"use strict";var u=c(67133).Buffer,p=e.exports;p.version="v"+c(84481).i8,p.versionGuard=function(e){if(void 0!==e)throw Error("More than one instance of bitcore-lib found. Please make sure to require bitcore-lib and check that submodules do not also include their own bitcore-lib dependency.")},p.versionGuard(c.g._bitcore),c.g._bitcore=p.version,p.crypto={},p.crypto.BN=c(76070),p.crypto.ECDSA=c(217),p.crypto.Schnorr=c(34861),p.crypto.Hash=c(75327),p.crypto.Random=c(65569),p.crypto.Point=c(8535),p.crypto.Signature=c(7099),p.crypto.TaggedHash=c(4182),p.encoding={},p.encoding.Base58=c(94945),p.encoding.Base58Check=c(72403),p.encoding.BufferReader=c(47851),p.encoding.BufferWriter=c(6244),p.encoding.Varint=c(89141),p.util={},p.util.buffer=c(61302),p.util.js=c(27606),p.util.preconditions=c(4682),p.errors=c(72700),p.Address=c(17586),p.Block=c(10666),p.MerkleBlock=c(39644),p.BlockHeader=c(29919),p.HDPrivateKey=c(39996),p.HDPublicKey=c(48031),p.Message=c(68977),p.Networks=c(84454),p.Opcode=c(46136),p.PrivateKey=c(21470),p.PublicKey=c(81633),p.Script=c(17566),p.Transaction=c(33519),p.URI=c(94442),p.Unit=c(23661),p.deps={},p.deps.bnjs=c(71704),p.deps.bs58=c(68870),p.deps.Buffer=u,p.deps.elliptic=c(61041),p.deps._=c(2890),p.Transaction.sighash=c(80624)},17586:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(2890),f=c(4682),m=c(72700),y=c(72403),w=c(18819),E=c(84454),S=c(75327),A=c(27606),k=c(81633);function Address(e,a,c,u){if(!(this instanceof Address))return new Address(e,a,c);if(p.isArray(e)&&p.isNumber(a))return Address.createMultisig(e,a,c,!1,u);if(e instanceof Address)return e;if(f.checkArgument(e,"First argument is required, please include address data.","guide/address.html"),a&&!E.get(a))throw TypeError('Second argument must be "livenet" or "testnet".');if(c&&c!==Address.PayToPublicKeyHash&&c!==Address.PayToScriptHash&&c!==Address.PayToWitnessPublicKeyHash&&c!==Address.PayToWitnessScriptHash&&c!==Address.PayToTaproot)throw TypeError('Third argument must be "pubkeyhash", "scripthash", "witnesspubkeyhash", "witnessscripthash", or "taproot".');var m=this._classifyArguments(e,a,c);return m.network=m.network||E.get(a)||E.defaultNetwork,m.type=m.type||c||Address.PayToPublicKeyHash,A.defineImmutable(this,{hashBuffer:m.hashBuffer,network:m.network,type:m.type}),this}Address.prototype._classifyArguments=function(e,a,c){if((e instanceof u||e instanceof Uint8Array)&&(20===e.length||32===e.length))return Address._transformHash(e,a,c);if((e instanceof u||e instanceof Uint8Array)&&e.length>=21)return Address._transformBuffer(e,a,c);if(e instanceof k)return Address._transformPublicKey(e,a,c);if(e instanceof T)return Address._transformScript(e,a);if("string"==typeof e)return Address._transformString(e,a,c);if(p.isObject(e))return Address._transformObject(e);throw TypeError("First argument is an unrecognized data format.")},Address.PayToPublicKeyHash="pubkeyhash",Address.PayToScriptHash="scripthash",Address.PayToWitnessPublicKeyHash="witnesspubkeyhash",Address.PayToWitnessScriptHash="witnessscripthash",Address.PayToTaproot="taproot",Address._transformHash=function(e,a,c){var p={};if(!(e instanceof u)&&!(e instanceof Uint8Array))throw TypeError("Address supplied is not a buffer.");if(20!==e.length&&32!==e.length)throw TypeError("Address hashbuffers must be either 20 or 32 bytes.");return p.hashBuffer=e,p.network=E.get(a)||E.defaultNetwork,p.type=c,p},Address._transformObject=function(e){return f.checkArgument(e.hash||e.hashBuffer,"Must provide a `hash` or `hashBuffer` property"),f.checkArgument(e.type,"Must provide a `type` property"),{hashBuffer:e.hash?u.from(e.hash,"hex"):e.hashBuffer,network:E.get(e.network)||E.defaultNetwork,type:e.type}},Address._classifyFromVersion=function(e){var a={};if(e.length>21){var c=w.decode(e.toString("utf8"));if(0!==c.version&&1!==c.version)throw TypeError("Only witness v0 and v1 addresses are supported.");if(0===c.version){if(20===c.data.length)a.type=Address.PayToWitnessPublicKeyHash;else if(32===c.data.length)a.type=Address.PayToWitnessScriptHash;else throw TypeError("Witness data must be either 20 or 32 bytes.")}else if(1===c.version){if(32===c.data.length)a.type=Address.PayToTaproot;else throw TypeError("Witness data must be 32 bytes for v1")}a.network=E.get(c.prefix,"bech32prefix")}else{var u=E.get(e[0],"pubkeyhash"),p=E.get(e[0],"scripthash");u?(a.network=u,a.type=Address.PayToPublicKeyHash):p&&(a.network=p,a.type=Address.PayToScriptHash)}return a},Address._transformBuffer=function(e,a,c){var p={};if(!(e instanceof u)&&!(e instanceof Uint8Array))throw TypeError("Address supplied is not a buffer.");if(e.length<21)throw TypeError("Address buffer is incorrect length.");var f=E.get(a),m=Address._classifyFromVersion(e);if(a&&!f)throw TypeError("Unknown network");if(!m.network||f&&f.xpubkey!==m.network.xpubkey)throw TypeError("Address has mismatched network type.");if(!m.type||c&&c!==m.type)throw TypeError("Address has mismatched type.");return e.length>21?p.hashBuffer=w.decode(e.toString("utf8")).data:p.hashBuffer=e.slice(1),p.network=f||m.network,p.type=m.type,p},Address._transformPublicKey=function(e,a,c){var u={};if(!(e instanceof k))throw TypeError("Address must be an instance of PublicKey.");if(c&&c!==Address.PayToScriptHash&&c!==Address.PayToWitnessPublicKeyHash&&c!==Address.PayToPublicKeyHash&&c!==Address.PayToTaproot)throw TypeError("Type must be either pubkeyhash, witnesspubkeyhash, scripthash, or taproot to transform public key.");if(!e.compressed&&(c===Address.PayToScriptHash||c===Address.PayToWitnessPublicKeyHash))throw TypeError("Witness addresses must use compressed public keys.");return c===Address.PayToScriptHash?u.hashBuffer=S.sha256ripemd160(T.buildWitnessV0Out(e).toBuffer()):c===Address.PayToTaproot?u.hashBuffer=e.createTapTweak().tweakedPubKey:u.hashBuffer=S.sha256ripemd160(e.toBuffer()),u.type=c||Address.PayToPublicKeyHash,u},Address._transformScript=function(e,a){f.checkArgument(e instanceof T,"script must be a Script instance");var c=e.getAddressInfo(a);if(!c)throw new m.Script.CantDeriveAddress(e);return c},Address.createMultisig=function(e,a,c,u,f){if(c=c||e[0].network||E.defaultNetwork,f&&f!==Address.PayToScriptHash&&f!==Address.PayToWitnessScriptHash)throw TypeError("Type must be either scripthash or witnessscripthash to create multisig.");if(u||f===Address.PayToWitnessScriptHash){e=p.map(e,k);for(var m=0;m<e.length;m++)if(!e[m].compressed)throw TypeError("Witness addresses must use compressed public keys.")}var y=T.buildMultisigOut(e,a);return u?Address.payingTo(T.buildWitnessMultisigOutFromScript(y),c):Address.payingTo(y,c,f)},Address._transformString=function(e,a,c){if("string"!=typeof e)throw TypeError("data parameter supplied is not a string.");if(e.length>100)throw TypeError("address string is too long");if(a&&!E.get(a))throw TypeError("Unknown network");e=e.trim();try{var p=Address._transformBuffer(u.from(e,"utf8"),a,c);return p}catch(e){if(c===Address.PayToWitnessPublicKeyHash||c===Address.PayToWitnessScriptHash||c===Address.PayToTaproot)throw e}var f=y.decode(e),p=Address._transformBuffer(f,a,c);return p},Address.fromPublicKey=function(e,a,c){var u=Address._transformPublicKey(e,a,c);return a=a||E.defaultNetwork,new Address(u.hashBuffer,a,u.type)},Address.fromPublicKeyHash=function(e,a){var c=Address._transformHash(e);return new Address(c.hashBuffer,a,Address.PayToPublicKeyHash)},Address.fromScriptHash=function(e,a,c){f.checkArgument(e,"hash parameter is required");var u=Address._transformHash(e);if(c===Address.PayToWitnessScriptHash&&32!==e.length)throw TypeError("Address hashbuffer must be exactly 32 bytes for v0 witness script hash.");var c=c||Address.PayToScriptHash;return new Address(u.hashBuffer,a,c)},Address.payingTo=function(e,a,c){f.checkArgument(e,"script is required"),f.checkArgument(e instanceof T,"script must be instance of Script"),u=c===Address.PayToWitnessScriptHash?S.sha256(e.toBuffer()):S.sha256ripemd160(e.toBuffer());var u,c=c||Address.PayToScriptHash;return Address.fromScriptHash(u,a,c)},Address.fromScript=function(e,a){f.checkArgument(e instanceof T,"script must be a Script instance");var c=Address._transformScript(e,a);return new Address(c.hashBuffer,a,c.type)},Address.fromBuffer=function(e,a,c){var u=Address._transformBuffer(e,a,c);return new Address(u.hashBuffer,u.network,u.type)},Address.fromString=function(e,a,c){var u=Address._transformString(e,a,c);return new Address(u.hashBuffer,u.network,u.type)},Address.fromObject=function(e){f.checkState(A.isHexa(e.hash),'Unexpected hash property, "'+e.hash+'", expected to be hex.');var a=u.from(e.hash,"hex");return new Address(a,e.network,e.type)},Address.getValidationError=function(e,a,c){var u;try{new Address(e,a,c)}catch(e){u=e}return u},Address.isValid=function(e,a,c){return!Address.getValidationError(e,a,c)},Address.prototype.isPayToPublicKeyHash=function(){return this.type===Address.PayToPublicKeyHash},Address.prototype.isPayToScriptHash=function(){return this.type===Address.PayToScriptHash},Address.prototype.isPayToWitnessPublicKeyHash=function(){return this.type===Address.PayToWitnessPublicKeyHash},Address.prototype.isPayToWitnessScriptHash=function(){return this.type===Address.PayToWitnessScriptHash},Address.prototype.isPayToTaproot=function(){return this.type===Address.PayToTaproot},Address.prototype.toBuffer=function(){if(this.isPayToWitnessPublicKeyHash()||this.isPayToWitnessScriptHash())return u.from(this.toString(),"utf8");var e=u.from([this.network[this.type]]);return u.concat([e,this.hashBuffer])},Address.prototype.toObject=Address.prototype.toJSON=function(){return{hash:this.hashBuffer.toString("hex"),type:this.type,network:this.network.toString()}},Address.prototype.toString=function(){if(this.isPayToWitnessPublicKeyHash()||this.isPayToWitnessScriptHash()||this.isPayToTaproot()){let e=this.network.bech32prefix,a=0,c=w.encodings.BECH32;return this.isPayToTaproot()&&(a=1,c=w.encodings.BECH32M),w.encode(e,a,this.hashBuffer,c)}return y.encode(this.toBuffer())},Address.prototype.inspect=function(){return"<Address: "+this.toString()+", type: "+this.type+", network: "+this.network+">"},e.exports=Address;var T=c(17566)},63039:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(2890),f=c(29919),m=c(76070),y=c(61302),w=c(47851),E=c(6244),S=c(75327),A=c(33519),k=c(4682);function Block(e){return this instanceof Block?(p.extend(this,Block._from(e)),this):new Block(e)}Block.MAX_BLOCK_SIZE=1e6,Block._from=function(e){var a={};if(y.isBuffer(e))a=Block._fromBufferReader(w(e));else if(p.isObject(e))a=Block._fromObject(e);else throw TypeError("Unrecognized argument for Block");return a},Block._fromObject=function(e){var a=[];return e.transactions.forEach(function(e){e instanceof A?a.push(e):a.push(A().fromObject(e))}),{header:f.fromObject(e.header),transactions:a}},Block.fromObject=function(e){var a=Block._fromObject(e);return new Block(a)},Block._fromBufferReader=function(e){var a={};k.checkState(!e.finished(),"No block data received"),a.header=f.fromBufferReader(e);var c=e.readVarintNum();a.transactions=[];for(var u=0;u<c;u++)a.transactions.push(A().fromBufferReader(e));return a},Block.fromBufferReader=function(e){k.checkArgument(e,"br is required");var a=Block._fromBufferReader(e);return new Block(a)},Block.fromBuffer=function(e){return Block.fromBufferReader(new w(e))},Block.fromString=function(e){var a=u.from(e,"hex");return Block.fromBuffer(a)},Block.fromRawBlock=function(e){y.isBuffer(e)||(e=u.from(e,"binary"));var a=w(e);a.pos=Block.Values.START_OF_BLOCK;var c=Block._fromBufferReader(a);return new Block(c)},Block.prototype.toObject=Block.prototype.toJSON=function(){var e=[];return this.transactions.forEach(function(a){e.push(a.toObject())}),{header:this.header.toObject(),transactions:e}},Block.prototype.toBuffer=function(){return this.toBufferWriter().concat()},Block.prototype.toString=function(){return this.toBuffer().toString("hex")},Block.prototype.toBufferWriter=function(e){e||(e=new E),e.write(this.header.toBuffer()),e.writeVarintNum(this.transactions.length);for(var a=0;a<this.transactions.length;a++)this.transactions[a].toBufferWriter(e);return e},Block.prototype.getTransactionHashes=function(){var e=[];if(0===this.transactions.length)return[Block.Values.NULL_HASH];for(var a=0;a<this.transactions.length;a++)e.push(this.transactions[a]._getHash());return e},Block.prototype.getMerkleTree=function(){for(var e=this.getTransactionHashes(),a=0,c=this.transactions.length;c>1;c=Math.floor((c+1)/2)){for(var p=0;p<c;p+=2){var f=Math.min(p+1,c-1),m=u.concat([e[a+p],e[a+f]]);e.push(S.sha256sha256(m))}a+=c}return e},Block.prototype.getMerkleRoot=function(){var e=this.getMerkleTree();return e[e.length-1]},Block.prototype.validMerkleRoot=function(){var e=new m(this.header.merkleRoot.toString("hex"),"hex"),a=new m(this.getMerkleRoot().toString("hex"),"hex");return 0===e.cmp(a)},Block.prototype._getHash=function(){return this.header._getHash()};var T={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=this.header.id),this._id},set:p.noop};Object.defineProperty(Block.prototype,"id",T),Object.defineProperty(Block.prototype,"hash",T),Block.prototype.inspect=function(){return"<Block "+this.id+">"},Block.Values={START_OF_BLOCK:8,NULL_HASH:u.from("0000000000000000000000000000000000000000000000000000000000000000","hex")},e.exports=Block},29919:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(2890),f=c(76070),m=c(61302),y=c(47851),w=c(6244),E=c(75327);c(27606);var S=c(4682),BlockHeader=function BlockHeader(e){if(!(this instanceof BlockHeader))return new BlockHeader(e);var a=BlockHeader._from(e);return this.version=a.version,this.prevHash=a.prevHash,this.merkleRoot=a.merkleRoot,this.time=a.time,this.timestamp=a.time,this.bits=a.bits,this.nonce=a.nonce,a.hash&&S.checkState(this.hash===a.hash,"Argument object hash property does not match block hash."),this};BlockHeader._from=function(e){var a={};if(m.isBuffer(e))a=BlockHeader._fromBufferReader(y(e));else if(p.isObject(e))a=BlockHeader._fromObject(e);else throw TypeError("Unrecognized argument for BlockHeader");return a},BlockHeader._fromObject=function(e){S.checkArgument(e,"data is required");var a=e.prevHash,c=e.merkleRoot;return p.isString(e.prevHash)&&(a=m.reverse(u.from(e.prevHash,"hex"))),p.isString(e.merkleRoot)&&(c=m.reverse(u.from(e.merkleRoot,"hex"))),{hash:e.hash,version:e.version,prevHash:a,merkleRoot:c,time:e.time,timestamp:e.time,bits:e.bits,nonce:e.nonce}},BlockHeader.fromObject=function(e){var a=BlockHeader._fromObject(e);return new BlockHeader(a)},BlockHeader.fromRawBlock=function(e){m.isBuffer(e)||(e=u.from(e,"binary"));var a=y(e);a.pos=BlockHeader.Constants.START_OF_HEADER;var c=BlockHeader._fromBufferReader(a);return new BlockHeader(c)},BlockHeader.fromBuffer=function(e){var a=BlockHeader._fromBufferReader(y(e));return new BlockHeader(a)},BlockHeader.fromString=function(e){var a=u.from(e,"hex");return BlockHeader.fromBuffer(a)},BlockHeader._fromBufferReader=function(e){var a={};return a.version=e.readInt32LE(),a.prevHash=e.read(32),a.merkleRoot=e.read(32),a.time=e.readUInt32LE(),a.bits=e.readUInt32LE(),a.nonce=e.readUInt32LE(),a},BlockHeader.fromBufferReader=function(e){var a=BlockHeader._fromBufferReader(e);return new BlockHeader(a)},BlockHeader.prototype.toObject=BlockHeader.prototype.toJSON=function(){return{hash:this.hash,version:this.version,prevHash:m.reverse(this.prevHash).toString("hex"),merkleRoot:m.reverse(this.merkleRoot).toString("hex"),time:this.time,bits:this.bits,nonce:this.nonce}},BlockHeader.prototype.toBuffer=function(){return this.toBufferWriter().concat()},BlockHeader.prototype.toString=function(){return this.toBuffer().toString("hex")},BlockHeader.prototype.toBufferWriter=function(e){return e||(e=new w),e.writeInt32LE(this.version),e.write(this.prevHash),e.write(this.merkleRoot),e.writeUInt32LE(this.time),e.writeUInt32LE(this.bits),e.writeUInt32LE(this.nonce),e},BlockHeader.prototype.getTargetDifficulty=function(e){e=e||this.bits;for(var a=new f(16777215&e),c=8*((e>>>24)-3);c-- >0;)a=a.mul(new f(2));return a},BlockHeader.prototype.getDifficulty=function(){var e=this.getTargetDifficulty(486604799).mul(new f(1e8)),a=this.getTargetDifficulty(),c=e.div(a).toString(10),u=c.length-8;return parseFloat(c=c.slice(0,u)+"."+c.slice(u))},BlockHeader.prototype._getHash=function(){var e=this.toBuffer();return E.sha256sha256(e)};var A={configurable:!1,enumerable:!0,get:function(){return this._id||(this._id=y(this._getHash()).readReverse().toString("hex")),this._id},set:p.noop};Object.defineProperty(BlockHeader.prototype,"id",A),Object.defineProperty(BlockHeader.prototype,"hash",A),BlockHeader.prototype.validTimestamp=function(){var e=Math.round(new Date().getTime()/1e3);return!(this.time>e+BlockHeader.Constants.MAX_TIME_OFFSET)},BlockHeader.prototype.validProofOfWork=function(){var e=new f(this.id,"hex"),a=this.getTargetDifficulty();return!(e.cmp(a)>0)},BlockHeader.prototype.inspect=function(){return"<BlockHeader "+this.id+">"},BlockHeader.Constants={START_OF_HEADER:8,MAX_TIME_OFFSET:7200,LARGEST_HASH:new f("10000000000000000000000000000000000000000000000000000000000000000","hex")},e.exports=BlockHeader},10666:function(e,a,c){e.exports=c(63039),e.exports.BlockHeader=c(29919),e.exports.MerkleBlock=c(39644)},39644:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(2890),f=c(29919),m=c(61302),y=c(47851),w=c(6244),E=c(75327);c(27606);var S=c(33519),A=c(72700),k=c(4682);function MerkleBlock(e){if(!(this instanceof MerkleBlock))return new MerkleBlock(e);var a={};if(m.isBuffer(e))a=MerkleBlock._fromBufferReader(y(e));else if(p.isObject(e))a={header:e.header instanceof f?e.header:f.fromObject(e.header),numTransactions:e.numTransactions,hashes:e.hashes,flags:e.flags};else throw TypeError("Unrecognized argument for MerkleBlock");return p.extend(this,a),this._flagBitsUsed=0,this._hashesUsed=0,this}MerkleBlock.fromBuffer=function(e){return MerkleBlock.fromBufferReader(y(e))},MerkleBlock.fromBufferReader=function(e){return new MerkleBlock(MerkleBlock._fromBufferReader(e))},MerkleBlock.prototype.toBuffer=function(){return this.toBufferWriter().concat()},MerkleBlock.prototype.toBufferWriter=function(e){e||(e=new w),e.write(this.header.toBuffer()),e.writeUInt32LE(this.numTransactions),e.writeVarintNum(this.hashes.length);for(var a=0;a<this.hashes.length;a++)e.write(u.from(this.hashes[a],"hex"));for(e.writeVarintNum(this.flags.length),a=0;a<this.flags.length;a++)e.writeUInt8(this.flags[a]);return e},MerkleBlock.prototype.toObject=MerkleBlock.prototype.toJSON=function(){return{header:this.header.toObject(),numTransactions:this.numTransactions,hashes:this.hashes,flags:this.flags}},MerkleBlock.prototype.validMerkleTree=function(){if(k.checkState(p.isArray(this.flags),"MerkleBlock flags is not an array"),k.checkState(p.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions||8*this.flags.length<this.hashes.length)return!1;var e=this._calcTreeHeight(),a={hashesUsed:0,flagBitsUsed:0},c=this._traverseMerkleTree(e,0,a);return a.hashesUsed===this.hashes.length&&m.equals(c,this.header.merkleRoot)},MerkleBlock.prototype.filterdTxsHash=function(){if(k.checkState(p.isArray(this.flags),"MerkleBlock flags is not an array"),k.checkState(p.isArray(this.hashes),"MerkleBlock hashes is not an array"),this.hashes.length>this.numTransactions||8*this.flags.length<this.hashes.length)throw new A.MerkleBlock.InvalidMerkleTree;if(1===this.hashes.length)return[];var e=this._calcTreeHeight(),a={hashesUsed:0,flagBitsUsed:0},c=this._traverseMerkleTree(e,0,a,!0);if(a.hashesUsed!==this.hashes.length)throw new A.MerkleBlock.InvalidMerkleTree;return c},MerkleBlock.prototype._traverseMerkleTree=function(e,a,c,p){(c=c||{}).txs=c.txs||[],c.flagBitsUsed=c.flagBitsUsed||0,c.hashesUsed=c.hashesUsed||0;var p=p||!1;if(c.flagBitsUsed>8*this.flags.length)return null;var f=this.flags[c.flagBitsUsed>>3]>>>(7&c.flagBitsUsed++)&1;if(0!==e&&f){var m=this._traverseMerkleTree(e-1,2*a,c),y=m;return(2*a+1<this._calcTreeWidth(e-1)&&(y=this._traverseMerkleTree(e-1,2*a+1,c)),p)?c.txs:E.sha256sha256(new u.concat([m,y]))}if(c.hashesUsed>=this.hashes.length)return null;var w=this.hashes[c.hashesUsed++];return 0===e&&f&&c.txs.push(w),u.from(w,"hex")},MerkleBlock.prototype._calcTreeWidth=function(e){return this.numTransactions+(1<<e)-1>>e},MerkleBlock.prototype._calcTreeHeight=function(){for(var e=0;this._calcTreeWidth(e)>1;)e++;return e},MerkleBlock.prototype.hasTransaction=function(e){k.checkArgument(!p.isUndefined(e),"tx cannot be undefined"),k.checkArgument(e instanceof S||"string"==typeof e,'Invalid tx given, tx must be a "string" or "Transaction"');var a=e;e instanceof S&&(a=m.reverse(u.from(e.id,"hex")).toString("hex"));var c=[],f=this._calcTreeHeight();return this._traverseMerkleTree(f,0,{txs:c}),-1!==c.indexOf(a)},MerkleBlock._fromBufferReader=function(e){k.checkState(!e.finished(),"No merkleblock data received");var a={};a.header=f.fromBufferReader(e),a.numTransactions=e.readUInt32LE();var c=e.readVarintNum();a.hashes=[];for(var u=0;u<c;u++)a.hashes.push(e.read(32).toString("hex"));var p=e.readVarintNum();for(u=0,a.flags=[];u<p;u++)a.flags.push(e.readUInt8());return a},MerkleBlock.fromObject=function(e){return new MerkleBlock(e)},e.exports=MerkleBlock},76070:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(71704),f=c(4682),m=c(2890),reversebuf=function(e){for(var a=u.alloc(e.length),c=0;c<e.length;c++)a[c]=e[e.length-1-c];return a};p.Zero=new p(0),p.One=new p(1),p.Minus1=new p(-1),p.fromNumber=function(e){return f.checkArgument(m.isNumber(e)),new p(e)},p.fromString=function(e,a){return f.checkArgument(m.isString(e)),new p(e,a)},p.fromBuffer=function(e,a){void 0!==a&&"little"===a.endian&&(e=reversebuf(e));var c=e.toString("hex");return new p(c,16)},p.fromSM=function(e,a){if(0===e.length)return p.fromBuffer(u.from([0]));var c,f="big";return a&&(f=a.endian),"little"===f&&(e=reversebuf(e)),128&e[0]?(e[0]=127&e[0],(c=p.fromBuffer(e)).neg().copy(c)):c=p.fromBuffer(e),c},p.prototype.toNumber=function(){return parseInt(this.toString(10),10)},p.prototype.toBuffer=function(e){var a,c;if(e&&e.size){var f=(c=this.toString(16,2)).length/2;a=u.from(c,"hex"),f===e.size||(f>e.size?a=p.trim(a,f):f<e.size&&(a=p.pad(a,f,e.size)))}else c=this.toString(16,2),a=u.from(c,"hex");return void 0!==e&&"little"===e.endian&&(a=reversebuf(a)),a},p.prototype.toSMBigEndian=function(){var e;return -1===this.cmp(p.Zero)?128&(e=this.neg().toBuffer())[0]?e=u.concat([u.from([128]),e]):e[0]=128|e[0]:128&(e=this.toBuffer())[0]&&(e=u.concat([u.from([0]),e])),1===e.length&0===e[0]&&(e=u.from([])),e},p.prototype.toSM=function(e){var a=e?e.endian:"big",c=this.toSMBigEndian();return"little"===a&&(c=reversebuf(c)),c},p.fromScriptNumBuffer=function(e,a,c){var u=c||4;if(f.checkArgument(e.length<=u,Error("script number overflow")),a&&e.length>0&&(127&e[e.length-1])==0&&(e.length<=1||(128&e[e.length-2])==0))throw Error("non-minimally encoded script number");return p.fromSM(e,{endian:"little"})},p.prototype.toScriptNumBuffer=function(){return this.toSM({endian:"little"})},p.trim=function(e,a){return e.slice(a-e.length,e.length)},p.pad=function(e,a,c){for(var p=u.alloc(c),f=0;f<e.length;f++)p[p.length-1-f]=e[e.length-1-f];for(f=0;f<c-a;f++)p[f]=0;return p},e.exports=p},217:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(76070),f=c(8535),m=c(7099),y=c(81633),w=c(65569),E=c(75327),S=c(61302),A=c(2890),k=c(4682),ECDSA=function ECDSA(e){if(!(this instanceof ECDSA))return new ECDSA(e);e&&this.set(e)};ECDSA.prototype.set=function(e){return this.hashbuf=e.hashbuf||this.hashbuf,this.endian=e.endian||this.endian,this.privkey=e.privkey||this.privkey,this.pubkey=e.pubkey||(this.privkey?this.privkey.publicKey:this.pubkey),this.sig=e.sig||this.sig,this.k=e.k||this.k,this.verified=e.verified||this.verified,this},ECDSA.prototype.privkey2pubkey=function(){this.pubkey=this.privkey.toPublicKey()},ECDSA.prototype.calci=function(){for(var e,a=0;a<4;a++){this.sig.i=a;try{e=this.toPublicKey()}catch(e){console.error(e);continue}if(e.point.eq(this.pubkey.point))return this.sig.compressed=this.pubkey.compressed,this}throw this.sig.i=void 0,Error("Unable to find valid recovery factor")},ECDSA.fromString=function(e){var a=JSON.parse(e);return new ECDSA(a)},ECDSA.prototype.randomK=function(){var e,a=f.getN();do e=p.fromBuffer(w.getRandomBuffer(32));while(!(e.lt(a)&&e.gt(p.Zero)));return this.k=e,this},ECDSA.prototype.deterministicK=function(e){A.isUndefined(e)&&(e=0);var a=u.alloc(32);a.fill(1);var c=u.alloc(32);c.fill(0);var m=this.privkey.bn.toBuffer({size:32}),y="little"===this.endian?S.reverse(this.hashbuf):this.hashbuf;c=E.sha256hmac(u.concat([a,u.from([0]),m,y]),c),a=E.sha256hmac(a,c),c=E.sha256hmac(u.concat([a,u.from([1]),m,y]),c),a=E.sha256hmac(a,c),a=E.sha256hmac(a,c);for(var w=p.fromBuffer(a),k=f.getN(),T=0;T<e||!(w.lt(k)&&w.gt(p.Zero));T++)c=E.sha256hmac(u.concat([a,u.from([0])]),c),a=E.sha256hmac(a,c),a=E.sha256hmac(a,c),w=p.fromBuffer(a);return this.k=w,this},ECDSA.prototype.toPublicKey=function(){var e=this.sig.i;k.checkArgument(0===e||1===e||2===e||3===e,Error("i must be equal to 0, 1, 2, or 3"));var a=p.fromBuffer(this.hashbuf),c=this.sig.r,u=this.sig.s,m=1&e,w=e>>1,E=f.getN(),S=f.getG(),A=w?c.add(E):c,T=f.fromX(m,A);if(!T.mul(E).isInfinity())throw Error("nR is not a valid curve point");var O=a.neg().umod(E),B=c.invm(E),C=T.mul(u).add(S.mul(O)).mul(B);return y.fromPoint(C,this.sig.compressed)},ECDSA.prototype.sigError=function(){if(!S.isBuffer(this.hashbuf)||32!==this.hashbuf.length)return"hashbuf must be a 32 byte buffer";var e=this.sig.r,a=this.sig.s;if(!(e.gt(p.Zero)&&e.lt(f.getN()))||!(a.gt(p.Zero)&&a.lt(f.getN())))return"r and s not in range";var c=p.fromBuffer(this.hashbuf,this.endian?{endian:this.endian}:void 0),u=f.getN(),m=a.invm(u),y=m.mul(c).umod(u),w=m.mul(e).umod(u),E=f.getG().mulAdd(y,this.pubkey.point,w);return E.isInfinity()?"p is infinity":0!==E.getX().umod(u).cmp(e)&&"Invalid signature"},ECDSA.toLowS=function(e){return e.gt(p.fromBuffer(u.from("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))&&(e=f.getN().sub(e)),e},ECDSA.prototype._findSignature=function(e,a){var c,u,m,y=f.getN(),w=f.getG(),E=0;do(!this.k||E>0)&&this.deterministicK(E),E++,c=this.k,u=w.mul(c).x.umod(y),m=c.invm(y).mul(a.add(e.mul(u))).umod(y);while(0>=u.cmp(p.Zero)||0>=m.cmp(p.Zero));return{s:m=ECDSA.toLowS(m),r:u}},ECDSA.prototype.sign=function(){var e=this.hashbuf,a=this.privkey,c=a.bn;k.checkState(e&&a&&c,Error("invalid parameters")),k.checkState(S.isBuffer(e)&&32===e.length,Error("hashbuf must be a 32 byte buffer"));var u=p.fromBuffer(e,this.endian?{endian:this.endian}:void 0),f=this._findSignature(c,u);return f.compressed=this.pubkey.compressed,this.sig=new m(f),this},ECDSA.prototype.signRandomK=function(){return this.randomK(),this.sign()},ECDSA.prototype.toString=function(){var e={};return this.hashbuf&&(e.hashbuf=this.hashbuf.toString("hex")),this.privkey&&(e.privkey=this.privkey.toString()),this.pubkey&&(e.pubkey=this.pubkey.toString()),this.sig&&(e.sig=this.sig.toString()),this.k&&(e.k=this.k.toString()),JSON.stringify(e)},ECDSA.prototype.verify=function(){return this.sigError()?this.verified=!1:this.verified=!0,this},ECDSA.sign=function(e,a,c){return ECDSA().set({hashbuf:e,endian:c,privkey:a}).sign().sig},ECDSA.verify=function(e,a,c,u){return ECDSA().set({hashbuf:e,endian:u,sig:a,pubkey:c}).verify().verified},e.exports=ECDSA},75327:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(14931),f=c(61302),m=c(4682),y=e.exports;y.sha1=function(e){return m.checkArgument(f.isBuffer(e)),p.createHash("sha1").update(e).digest()},y.sha1.blocksize=512,y.sha256=function(e){return m.checkArgument(f.isBuffer(e)),p.createHash("sha256").update(e).digest()},y.sha256.blocksize=512,y.sha256sha256=function(e){return m.checkArgument(f.isBuffer(e)),y.sha256(y.sha256(e))},y.ripemd160=function(e){return m.checkArgument(f.isBuffer(e)),p.createHash("ripemd160").update(e).digest()},y.sha256ripemd160=function(e){return m.checkArgument(f.isBuffer(e)),y.ripemd160(y.sha256(e))},y.sha512=function(e){return m.checkArgument(f.isBuffer(e)),p.createHash("sha512").update(e).digest()},y.sha512.blocksize=1024,y.hmac=function(e,a,c){m.checkArgument(f.isBuffer(a)),m.checkArgument(f.isBuffer(c)),m.checkArgument(e.blocksize);var p=e.blocksize/8;if(c.length>p)c=e(c);else if(c<p){var y=u.alloc(p);y.fill(0),c.copy(y),c=y}var w=u.alloc(p);w.fill(92);var E=u.alloc(p);E.fill(54);for(var S=u.alloc(p),A=u.alloc(p),k=0;k<p;k++)S[k]=w[k]^c[k],A[k]=E[k]^c[k];return e(u.concat([S,e(u.concat([A,a]))]))},y.sha256hmac=function(e,a){return y.hmac(y.sha256,e,a)},y.sha512hmac=function(e,a){return y.hmac(y.sha512,e,a)}},8535:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(76070),f=c(61302),m=new(c(61041)).ec("secp256k1"),y=m.curve.point.bind(m.curve),w=m.curve.pointFromX.bind(m.curve),Point=function(e,a,c){try{var u=y(e,a,c)}catch(e){throw Error("Invalid Point")}return u.validate(),u};Point.prototype=Object.getPrototypeOf(m.curve.point()),Point.fromX=function(e,a){try{var c=w(a,e)}catch(e){throw Error("Invalid X")}return c.validate(),c},Point.getG=function(){return m.curve.g},Point.getN=function(){return new p(m.curve.n.toArray())},Point.getP=function(){return m.curve.p.clone()},Point.prototype._getX=Point.prototype.getX,Point.prototype.getX=function(){return new p(this._getX().toArray())},Point.prototype._getY=Point.prototype.getY,Point.prototype.getY=function(){return new p(this._getY().toArray())},Point.prototype.validate=function(){var e;if(this.isInfinity())throw Error("Point cannot be equal to Infinity");try{e=w(this.getX(),this.getY().isOdd())}catch(e){throw Error("Point does not lie on the curve")}if(0!==e.y.cmp(this.y))throw Error("Invalid y value for curve.");if(!this.mul(Point.getN()).isInfinity())throw Error("Point times N must be infinity");return this},Point.pointToCompressed=function(e){var a,c=e.getX().toBuffer({size:32}),p=e.getY().toBuffer({size:32});return a=p[p.length-1]%2?u.from([3]):u.from([2]),f.concat([a,c])},Point.prototype.liftX=function(){let e=Point.getP(),a=new p(0),c=new p(1),u=new p(2),f=new p(3),m=new p(4),y=new p(7),w=p.red("k256"),E=this.x.pow(f).add(y).mod(e),S=E.toRed(w).redPow(e.add(c).div(m)).mod(e);if(!E.eq(S.pow(u).mod(e)))throw Error("liftX failed");let A=this.x.red?this.x.fromRed():this.x,k=S.mod(u).eq(a)?S.fromRed():e.sub(S);return new Point(A,k,!0)},e.exports=Point},65569:function(e,a,c){"use strict";var u=c(67133).Buffer;function Random(){}Random.getRandomBuffer=function(e){return Random.getRandomBufferBrowser(e)},Random.getRandomBufferNode=function(e){return c(14931).randomBytes(e)},Random.getRandomBufferBrowser=function(e){if(!window.crypto&&!window.msCrypto)throw Error("window.crypto not available");if(window.crypto&&window.crypto.getRandomValues)var a=window.crypto;else if(window.msCrypto&&window.msCrypto.getRandomValues)var a=window.msCrypto;else throw Error("window.crypto.getRandomValues not available");var c=new Uint8Array(e);return a.getRandomValues(c),u.from(c)},Random.getPseudoRandomBuffer=function(e){for(var a,c=u.alloc(e),p=0;p<=e;p++){var f=Math.floor(p/4);0==p-4*f?(a=4294967296*Math.random(),c[p]=255&a):c[p]=255&(a>>>=8)}return c},e.exports=Random},34861:function(e,a,c){var u=c(67133).Buffer;let p=c(14931),f=c(4682),m=c(27606),y=c(76070),w=c(8535),E=c(4182),Schnorr=function Schnorr(){return this instanceof Schnorr?this:new Schnorr};Schnorr.prototype.set=function(){},Schnorr.sign=function(e,a,c){if(32!==(e=u.isBuffer(e)?e:e.toBuffer()).length)throw Error("Private key should be 32 bytes for schnorr signatures");"string"==typeof a&&(f.checkArgument(m.isHexaString(a),"Schnorr message string is not hex"),a=u.from(a,"hex")),f.checkArgument(f.isType(a,"Buffer"),"Schnorr message must be a hex string or buffer"),c||(c=p.randomBytes(32)),"string"==typeof c&&(f.checkArgument(m.isHexaString(c),"Schnorr aux string is not hex"),c=u.from(c,"hex")),f.checkArgument(f.isType(c,"Buffer"),"Schnorr aux must be a hex string or buffer");let S=w.getG(),A=w.getN(),k=new y(e);if(k.eqn(0)||k.gte(A))throw Error("Invalid private key for schnorr signing");let T=S.mul(k),O=u.from(T.encodeCompressed().slice(1)),B=T.y.isEven()?k:A.sub(k),C=B.xor(new y(new E("BIP0340/aux",c).finalize())),N=new E("BIP0340/nonce",u.concat([C.toBuffer(),O,a])).finalize(),R=new y(N).mod(A);if(R.eqn(0))throw Error("Error creating schnorr signature");let M=S.mul(R),U=u.from(M.encodeCompressed().slice(1)),D=M.y.isEven()?R:A.sub(R),H=new y(new E("BIP0340/challenge",u.concat([U,O,a])).finalize()).mod(A),F=u.concat([U,D.add(H.mul(B)).mod(A).toBuffer()]);if(!Schnorr.verify(O,a,F))throw Error("Error creating schnorr signature. Verification failed");return F},Schnorr.verify=function(e,a,c){if(f.isType(e,"PublicKey")&&(e=e.point.x.toBuffer()),32!==e.length)throw Error("Public key should be 32 bytes for schnorr signatures");if("string"==typeof a&&(f.checkArgument(m.isHexaString(a),"Schnorr message string is not hex"),a=u.from(a,"hex")),32!==a.length)throw Error("Message should be a 32 byte buffer");if("string"==typeof c&&(f.checkArgument(m.isHexaString(c),"Schnorr signature string is not hex"),c=u.from(c,"hex")),"function"==typeof c.toBuffer&&65===(c=c.toBuffer()).length&&(c=c.slice(0,64)),64!==c.length)throw Error("Signature should be a 64 byte buffer");try{let u=w.getP(),p=w.getN(),f=w.fromX(!1,e).liftX(),m=new y(c.slice(0,32)),E=new y(c.slice(32,64));if(m.gte(u)||E.gte(p))return!1;let S=getE(m,f,a),A=w.getG(),k=A.mul(E).add(f.mul(S).neg());if(k.inf||!k.y.isEven()||!k.x.eq(m))return!1;return!0}catch(e){return!1}};let getE=function(e,a,c){let p=w.getN(),f=new E("BIP0340/challenge",u.concat([e.toBuffer({size:32}),a.x.toBuffer({size:32}),c])).finalize();return new y(f).mod(p)};e.exports=Schnorr},7099:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(76070),f=c(2890),m=c(4682),y=c(61302),w=c(27606),Signature=function Signature(e,a,c){if(!(this instanceof Signature))return new Signature(e,a,c);e instanceof p?this.set({r:e,s:a,isSchnorr:c}):e&&this.set(e)};Signature.prototype.set=function(e){return this.r=e.r||this.r||void 0,this.s=e.s||this.s||void 0,this.i=void 0===e.i?this.i:e.i,this.compressed=void 0===e.compressed?this.compressed:e.compressed,this.isSchnorr=void 0===e.isSchnorr?this.isSchnorr:e.isSchnorr,this.nhashtype=e.nhashtype||this.nhashtype||void 0,this},Signature.fromCompact=function(e){m.checkArgument(y.isBuffer(e),"Argument is expected to be a Buffer");var a=new Signature,c=!0,u=e.slice(0,1)[0]-27-4;u<0&&(c=!1,u+=4);var f=e.slice(1,33),w=e.slice(33,65);return m.checkArgument(0===u||1===u||2===u||3===u,Error("i must be 0, 1, 2, or 3")),m.checkArgument(32===f.length,Error("r must be 32 bytes")),m.checkArgument(32===w.length,Error("s must be 32 bytes")),a.compressed=c,a.i=u,a.r=p.fromBuffer(f),a.s=p.fromBuffer(w),a},Signature.fromDER=Signature.fromBuffer=function(e,a){var c=new Signature;if((64===e.length||65===e.length)&&48!=e[0])return Signature.fromSchnorr(e);m.checkArgument(!(64===e.length&&48===e[0]),Error("64 DER (ecdsa) signatures not allowed"));var u=Signature.parseDER(e,a);return c.r=u.r,c.s=u.s,c},Signature.fromTxFormat=function(e){var a=e.readUInt8(e.length-1),c=e.slice(0,e.length-1),u=new Signature.fromDER(c,!1);return u.nhashtype=a,u},Signature.fromString=function(e){var a=u.from(e,"hex");return Signature.fromDER(a)},Signature.parseDER=function(e,a){m.checkArgument(y.isBuffer(e),Error("DER formatted signature should be a buffer")),f.isUndefined(a)&&(a=!0);var c=e[0];m.checkArgument(48===c,Error("Header byte should be 0x30"));var u=e[1],w=e.slice(2).length;m.checkArgument(!a||u===w,Error("Length byte should length of what follows")),u=u<w?u:w;var E=e[2];m.checkArgument(2===E,Error("Integer byte for r should be 0x02"));var S=e[3],A=e.slice(4,4+S),k=p.fromBuffer(A),T=0===e[4];m.checkArgument(S===A.length,Error("Length of r incorrect"));var O=e[4+S+0];m.checkArgument(2===O,Error("Integer byte for s should be 0x02"));var B=e[4+S+1],C=e.slice(4+S+2,4+S+2+B),N=p.fromBuffer(C),R=0===e[4+S+2+2];m.checkArgument(B===C.length,Error("Length of s incorrect"));var M=4+S+2+B;return m.checkArgument(u===M-2,Error("Length of signature incorrect")),{header:c,length:u,rheader:E,rlength:S,rneg:T,rbuf:A,r:k,sheader:O,slength:B,sneg:R,sbuf:C,s:N}},Signature.prototype.toCompact=function(e,a){if(e="number"==typeof e?e:this.i,a="boolean"==typeof a?a:this.compressed,!(0===e||1===e||2===e||3===e))throw Error("i must be equal to 0, 1, 2, or 3");var c=e+27+4;!1===a&&(c-=4);var p=u.from([c]),f=this.r.toBuffer({size:32}),m=this.s.toBuffer({size:32});return u.concat([p,f,m])},Signature.prototype.toBuffer=Signature.prototype.toDER=function(){if(this.isSchnorr){let e=this.nhashtype&&this.nhashtype!==Signature.SIGHASH_DEFAULT?u.from([this.nhashtype]):u.alloc(0);return u.concat([this.r.toBuffer({size:32}),this.s.toBuffer({size:32}),e])}var e=this.r.toBuffer(),a=this.s.toBuffer(),c=!!(128&e[0]),p=!!(128&a[0]),f=c?u.concat([u.from([0]),e]):e,m=p?u.concat([u.from([0]),a]):a,y=f.length,w=m.length,E=2+y+2+w;return u.concat([u.from([48,E,2,y]),f,u.from([2,w]),m])},Signature.prototype.toString=function(){return this.toDER().toString("hex")},Signature.isTxDER=function(e){if(e.length<9||e.length>73||48!==e[0]||e[1]!==e.length-3)return!1;var a=e[3];if(5+a>=e.length)return!1;var c=e[5+a];if(a+c+7!==e.length)return!1;var u=e.slice(4);if(2!==e[2]||0===a||128&u[0]||a>1&&0===u[0]&&!(128&u[1]))return!1;var p=e.slice(6+a);return 2===e[6+a-2]&&0!==c&&!(128&p[0])&&(!(c>1)||0!==p[0]||!!(128&p[1]))},Signature.prototype.hasLowS=function(){return!(this.s.lt(new p(1))||this.s.gt(new p("7FFFFFFFFFFFFFFFFFFFFFFFFFFFFFFF5D576E7357A4501DDFE92F46681B20A0","hex")))},Signature.prototype.hasDefinedHashtype=function(){if(!w.isNaturalNumber(this.nhashtype))return!1;var e=this.nhashtype&~Signature.SIGHASH_ANYONECANPAY;return!(e<Signature.SIGHASH_ALL)&&!(e>Signature.SIGHASH_SINGLE)},Signature.prototype.toTxFormat=function(){var e=this.toDER(),a=u.alloc(1);return a.writeUInt8(this.nhashtype,0),u.concat([e,a])},Signature.fromSchnorr=function(e){m.checkArgument(u.isBuffer(e),"Schnorr signature argument must be a buffer"),m.checkArgument(64===e.length||65===e.length,"Schnorr signatures must be 64 or 65 bytes");let a=new Signature,c=e.slice(0,32),f=e.slice(32,64);return 65===e.length?(a.nhashtype=e[e.length-1],m.checkState(a.nhashtype!==Signature.SIGHASH_DEFAULT,Error("invalid hashtype"))):a.nhashtype=Signature.SIGHASH_DEFAULT,a.r=p.fromBuffer(c),a.s=p.fromBuffer(f),a.isSchnorr=!0,a},Signature.SIGHASH_DEFAULT=0,Signature.SIGHASH_ALL=1,Signature.SIGHASH_NONE=2,Signature.SIGHASH_SINGLE=3,Signature.SIGHASH_ANYONECANPAY=128,Signature.SIGHASH_OUTPUT_MASK=3,Signature.SIGHASH_INPUT_MASK=128,Signature.Version={},Signature.Version.BASE=0,Signature.Version.WITNESS_V0=1,Signature.Version.TAPROOT=2,Signature.Version.TAPSCRIPT=3,e.exports=Signature},4182:function(e,a,c){var u=c(67133).Buffer;let p=c(75327),f=c(6244),m=c(72259);function TaggedHash(e,a,c="hex"){if(!(this instanceof TaggedHash))return new TaggedHash(e,a,c);f.apply(this),e=u.from(e);let m=p.sha256(e);return this.write(m),this.write(m),a&&(a=u.isBuffer(a)?a:u.from(a,c),this.write(a)),this}m(TaggedHash,f),TaggedHash.prototype.finalize=function(){return u.from(p.sha256(this.toBuffer()))},Object.defineProperties(TaggedHash,{TAPSIGHASH:{get:()=>new TaggedHash("TapSighash")},TAPLEAF:{get:()=>new TaggedHash("TapLeaf")},TAPBRANCH:{get:()=>new TaggedHash("TapBranch")}}),e.exports=TaggedHash},94945:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(2890),f=c(68870),m=c(67133),y="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz".split(""),Base58=function Base58(e){if(!(this instanceof Base58))return new Base58(e);u.isBuffer(e)?this.fromBuffer(e):"string"==typeof e?this.fromString(e):e&&this.set(e)};Base58.validCharacters=function(e){return m.Buffer.isBuffer(e)&&(e=e.toString()),p.every(p.map(e,function(e){return p.includes(y,e)}))},Base58.prototype.set=function(e){return this.buf=e.buf||this.buf||void 0,this},Base58.encode=function(e){if(!m.Buffer.isBuffer(e))throw Error("Input should be a buffer");return f.encode(e)},Base58.decode=function(e){if("string"!=typeof e)throw Error("Input should be a string");return u.from(f.decode(e))},Base58.prototype.fromBuffer=function(e){return this.buf=e,this},Base58.prototype.fromString=function(e){var a=Base58.decode(e);return this.buf=a,this},Base58.prototype.toBuffer=function(){return this.buf},Base58.prototype.toString=function(){return Base58.encode(this.buf)},e.exports=Base58},72403:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(2890),f=c(94945);c(67133);var m=c(75327).sha256sha256,Base58Check=function Base58Check(e){if(!(this instanceof Base58Check))return new Base58Check(e);u.isBuffer(e)?this.fromBuffer(e):"string"==typeof e?this.fromString(e):e&&this.set(e)};Base58Check.prototype.set=function(e){return this.buf=e.buf||this.buf||void 0,this},Base58Check.validChecksum=function(e,a){return p.isString(e)&&(e=u.from(f.decode(e))),p.isString(a)&&(a=u.from(f.decode(a))),a||(a=e.slice(-4),e=e.slice(0,-4)),Base58Check.checksum(e).toString("hex")===a.toString("hex")},Base58Check.decode=function(e){if("string"!=typeof e)throw Error("Input must be a string");var a=u.from(f.decode(e));if(a.length<4)throw Error("Input string too short");var c=a.slice(0,-4),p=a.slice(-4),y=m(c).slice(0,4);if(p.toString("hex")!==y.toString("hex"))throw Error("Checksum mismatch");return c},Base58Check.checksum=function(e){return m(e).slice(0,4)},Base58Check.encode=function(e){if(!u.isBuffer(e))throw Error("Input must be a buffer");var a=u.alloc(e.length+4),c=Base58Check.checksum(e);return e.copy(a),c.copy(a,e.length),f.encode(a)},Base58Check.prototype.fromBuffer=function(e){return this.buf=e,this},Base58Check.prototype.fromString=function(e){var a=Base58Check.decode(e);return this.buf=a,this},Base58Check.prototype.toBuffer=function(){return this.buf},Base58Check.prototype.toString=function(){return Base58Check.encode(this.buf)},e.exports=Base58Check},18819:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(46656);let f={BECH32:1,BECH32M:2};e.exports={decode:function(e){var a;if("string"!=typeof e)throw Error("Input should be a string");let c=p.bech32.fromWords,m=f.BECH32;try{a=p.bech32.decode(e)}catch(u){if(u.message.indexOf("Invalid checksum")>-1)a=p.bech32m.decode(e),m=f.BECH32M,c=p.bech32m.fromWords;else throw u}let y=a.words[0];if(y>=1&&m!==f.BECH32M)throw Error("Version 1+ witness address must use Bech32m checksum");return{prefix:a.prefix,data:u.from(c(a.words.slice(1))),version:y}},encode:function(e,a,c,u){if("string"!=typeof e)throw Error("Prefix should be a string");if("number"!=typeof a)throw Error("version should be a number");if(u&&"string"==typeof u&&(u=f[u.toUpperCase()]||-1),u&&!(u==f.BECH32||u==f.BECH32M))throw Error("Invalid encoding specified");let m=u==f.BECH32M?p.bech32m:p.bech32,y=m.toWords(c);return y.unshift(a),m.encode(e,y)},encodings:f}},47851:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(2890),f=c(4682),m=c(61302),y=c(76070),BufferReader=function BufferReader(e){if(!(this instanceof BufferReader))return new BufferReader(e);if(!p.isUndefined(e)){if(u.isBuffer(e))this.set({buf:e});else if(p.isString(e))this.set({buf:u.from(e,"hex")});else if(p.isObject(e))this.set(e);else throw TypeError("Unrecognized argument for BufferReader")}};BufferReader.prototype.set=function(e){return this.buf=e.buf||this.buf||void 0,this.pos=e.pos||this.pos||0,this},BufferReader.prototype.eof=function(){return!this.buf||this.pos>=this.buf.length},BufferReader.prototype.finished=BufferReader.prototype.eof,BufferReader.prototype.read=function(e){f.checkArgument(!p.isUndefined(e),"Must specify a length");var a=this.buf.slice(this.pos,this.pos+e);return this.pos=this.pos+e,a},BufferReader.prototype.readAll=function(){var e=this.buf.slice(this.pos,this.buf.length);return this.pos=this.buf.length,e},BufferReader.prototype.readUInt8=function(){var e=this.buf.readUInt8(this.pos);return this.pos=this.pos+1,e},BufferReader.prototype.readUInt16BE=function(){var e=this.buf.readUInt16BE(this.pos);return this.pos=this.pos+2,e},BufferReader.prototype.readUInt16LE=function(){var e=this.buf.readUInt16LE(this.pos);return this.pos=this.pos+2,e},BufferReader.prototype.readUInt32BE=function(){var e=this.buf.readUInt32BE(this.pos);return this.pos=this.pos+4,e},BufferReader.prototype.readUInt32LE=function(){var e=this.buf.readUInt32LE(this.pos);return this.pos=this.pos+4,e},BufferReader.prototype.readInt32LE=function(){var e=this.buf.readInt32LE(this.pos);return this.pos=this.pos+4,e},BufferReader.prototype.readUInt64BEBN=function(){var e=this.buf.slice(this.pos,this.pos+8),a=y.fromBuffer(e);return this.pos=this.pos+8,a},BufferReader.prototype.readUInt64LEBN=function(){var e,a=this.buf.readUInt32LE(this.pos),c=4294967296*this.buf.readUInt32LE(this.pos+4)+a;if(c<=9007199254740991)e=new y(c);else{var u=Array.prototype.slice.call(this.buf,this.pos,this.pos+8);e=new y(u,10,"le")}return this.pos=this.pos+8,e},BufferReader.prototype.readVarintNum=function(){var e=this.readUInt8();switch(e){case 253:return this.readUInt16LE();case 254:return this.readUInt32LE();case 255:var a=this.readUInt64LEBN().toNumber();if(a<=9007199254740992)return a;throw Error("number too large to retain precision - use readVarintBN");default:return e}},BufferReader.prototype.readVarLengthBuffer=function(){var e=this.readVarintNum(),a=this.read(e);return f.checkState(a.length===e,"Invalid length while reading varlength buffer. Expected to read: "+e+" and read "+a.length),a},BufferReader.prototype.readVarintBuf=function(){switch(this.buf.readUInt8(this.pos)){case 253:return this.read(3);case 254:return this.read(5);case 255:return this.read(9);default:return this.read(1)}},BufferReader.prototype.readVarintBN=function(){var e=this.readUInt8();switch(e){case 253:return new y(this.readUInt16LE());case 254:return new y(this.readUInt32LE());case 255:return this.readUInt64LEBN();default:return new y(e)}},BufferReader.prototype.reverse=function(){for(var e=u.alloc(this.buf.length),a=0;a<e.length;a++)e[a]=this.buf[this.buf.length-1-a];return this.buf=e,this},BufferReader.prototype.readReverse=function(e){p.isUndefined(e)&&(e=this.buf.length);var a=this.buf.slice(this.pos,this.pos+e);return this.pos=this.pos+e,m.reverse(a)},e.exports=BufferReader},6244:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(61302),f=c(69629),BufferWriter=function BufferWriter(e){if(!(this instanceof BufferWriter))return new BufferWriter(e);this.bufLen=0,e?this.set(e):this.bufs=[]};BufferWriter.prototype.set=function(e){return this.bufs=e.bufs||this.bufs||[],this.bufLen=this.bufs.reduce(function(e,a){return e+a.length},0),this},BufferWriter.prototype.toBuffer=function(){return this.concat()},BufferWriter.prototype.concat=function(){return u.concat(this.bufs,this.bufLen)},BufferWriter.prototype.write=function(e){return f(p.isBuffer(e)),this.bufs.push(e),this.bufLen+=e.length,this},BufferWriter.prototype.writeReverse=function(e){return f(p.isBuffer(e)),this.bufs.push(p.reverse(e)),this.bufLen+=e.length,this},BufferWriter.prototype.writeUInt8=function(e){e<0&&(e>>>=0);var a=u.alloc(1);return a.writeUInt8(e,0),this.write(a),this},BufferWriter.prototype.writeUInt16BE=function(e){e<0&&(e>>>=0);var a=u.alloc(2);return a.writeUInt16BE(e,0),this.write(a),this},BufferWriter.prototype.writeUInt16LE=function(e){e<0&&(e>>>=0);var a=u.alloc(2);return a.writeUInt16LE(e,0),this.write(a),this},BufferWriter.prototype.writeUInt32BE=function(e){e<0&&(e>>>=0);var a=u.alloc(4);return a.writeUInt32BE(e,0),this.write(a),this},BufferWriter.prototype.writeInt32LE=function(e){var a=u.alloc(4);return a.writeInt32LE(e,0),this.write(a),this},BufferWriter.prototype.writeUInt32LE=function(e){e<0&&(e>>>=0);var a=u.alloc(4);return a.writeUInt32LE(e,0),this.write(a),this},BufferWriter.prototype.writeUInt64BEBN=function(e){var a=e.toBuffer({size:8});return this.write(a),this},BufferWriter.prototype.writeUInt64LEBN=function(e){var a=e.toBuffer({size:8});return this.writeReverse(a),this},BufferWriter.prototype.writeVarintNum=function(e){var a=BufferWriter.varintBufNum(e);return this.write(a),this},BufferWriter.prototype.writeVarintBN=function(e){var a=BufferWriter.varintBufBN(e);return this.write(a),this},BufferWriter.varintBufNum=function(e){var a=void 0;return e<253?(a=u.alloc(1)).writeUInt8(e,0):e<65536?((a=u.alloc(3)).writeUInt8(253,0),a.writeUInt16LE(e,1)):e<4294967296?((a=u.alloc(5)).writeUInt8(254,0),a.writeUInt32LE(e,1)):((a=u.alloc(9)).writeUInt8(255,0),a.writeInt32LE(-1&e,1),a.writeUInt32LE(Math.floor(e/4294967296),5)),a},BufferWriter.varintBufBN=function(e){var a=void 0,c=e.toNumber();if(c<253)(a=u.alloc(1)).writeUInt8(c,0);else if(c<65536)(a=u.alloc(3)).writeUInt8(253,0),a.writeUInt16LE(c,1);else if(c<4294967296)(a=u.alloc(5)).writeUInt8(254,0),a.writeUInt32LE(c,1);else{var p=new BufferWriter;p.writeUInt8(255),p.writeUInt64LEBN(e);var a=p.concat()}return a},e.exports=BufferWriter},89141:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(6244),f=c(47851),m=c(76070),Varint=function Varint(e){if(!(this instanceof Varint))return new Varint(e);u.isBuffer(e)?this.buf=e:"number"==typeof e?this.fromNumber(e):e instanceof m?this.fromBN(e):e&&this.set(e)};Varint.prototype.set=function(e){return this.buf=e.buf||this.buf,this},Varint.prototype.fromString=function(e){return this.set({buf:u.from(e,"hex")}),this},Varint.prototype.toString=function(){return this.buf.toString("hex")},Varint.prototype.fromBuffer=function(e){return this.buf=e,this},Varint.prototype.fromBufferReader=function(e){return this.buf=e.readVarintBuf(),this},Varint.prototype.fromBN=function(e){return this.buf=p().writeVarintBN(e).concat(),this},Varint.prototype.fromNumber=function(e){return this.buf=p().writeVarintNum(e).concat(),this},Varint.prototype.toBuffer=function(){return this.buf},Varint.prototype.toBN=function(){return f(this.buf).readVarintBN()},Varint.prototype.toNumber=function(){return f(this.buf).readVarintNum()},e.exports=Varint},72700:function(e,a,c){"use strict";var u=c(2890),traverseNode=function(e,a){var NodeError=function(){if(u.isString(a.message)){var e,c;this.message=(e=a.message,c=arguments,e.replace("{0}",c[0]).replace("{1}",c[1]).replace("{2}",c[2]))}else if(u.isFunction(a.message))this.message=a.message.apply(null,arguments);else throw Error("Invalid error definition for "+a.name);this.stack=this.message+"\n"+Error().stack};return NodeError.prototype=Object.create(e.prototype),NodeError.prototype.name=e.prototype.name+a.name,e[a.name]=NodeError,a.errors&&childDefinitions(NodeError,a.errors),NodeError},childDefinitions=function(e,a){u.each(a,function(a){traverseNode(e,a)})},p={};p.Error=function(){this.message="Internal error",this.stack=this.message+"\n"+Error().stack},p.Error.prototype=Object.create(Error.prototype),p.Error.prototype.name="bitcore.Error";var f=c(89690);childDefinitions(p.Error,f),e.exports=p.Error,e.exports.extend=function(e){return traverseNode(p.Error,e)}},89690:function(e){"use strict";e.exports=[{name:"InvalidB58Char",message:"Invalid Base58 character: {0} in {1}"},{name:"InvalidB58Checksum",message:"Invalid Base58 checksum for {0}"},{name:"InvalidNetwork",message:"Invalid version for network: got {0}"},{name:"InvalidState",message:"Invalid state: {0}"},{name:"NotImplemented",message:"Function {0} was not implemented yet"},{name:"InvalidNetworkArgument",message:'Invalid network: must be "livenet" or "testnet", got {0}'},{name:"InvalidArgument",message:function(){return"Invalid Argument"+(arguments[0]?": "+arguments[0]:"")+(arguments[1]?" Documentation: http://bitcore.io/"+arguments[1]:"")}},{name:"AbstractMethodInvoked",message:"Abstract Method Invocation: {0}"},{name:"InvalidArgumentType",message:function(){return"Invalid Argument for "+arguments[2]+", expected "+arguments[1]+" but got "+typeof arguments[0]}},{name:"Unit",message:"Internal Error on Unit {0}",errors:[{name:"UnknownCode",message:"Unrecognized unit code: {0}"},{name:"InvalidRate",message:"Invalid exchange rate: {0}"}]},{name:"MerkleBlock",message:"Internal Error on MerkleBlock {0}",errors:[{name:"InvalidMerkleTree",message:"This MerkleBlock contain an invalid Merkle Tree"}]},{name:"Transaction",message:"Internal Error on Transaction {0}",errors:[{name:"Input",message:"Internal Error on Input {0}",errors:[{name:"MissingScript",message:"Need a script to create an input"},{name:"UnsupportedScript",message:"Unsupported input script type: {0}"},{name:"MissingPreviousOutput",message:"No previous output information."},{name:"BlockHeightOutOfRange",message:"Block Height can only be between 0 and 65535"},{name:"LockTimeRange",message:"Seconds needs to be more that 0 and less that 33553920"}]},{name:"NeedMoreInfo",message:"{0}"},{name:"InvalidSorting",message:"The sorting function provided did not return the change output as one of the array elements"},{name:"InvalidOutputAmountSum",message:"{0}"},{name:"MissingSignatures",message:"Some inputs have not been fully signed"},{name:"InvalidIndex",message:"Invalid index: {0} is not between 0, {1}"},{name:"UnableToVerifySignature",message:"Unable to verify signature: {0}"},{name:"DustOutputs",message:"Dust amount detected in one output"},{name:"InvalidSatoshis",message:"Output satoshis are invalid"},{name:"FeeError",message:"Internal Error on Fee {0}",errors:[{name:"TooSmall",message:"Fee is too small: {0}"},{name:"TooLarge",message:"Fee is too large: {0}"},{name:"Different",message:"Unspent value is different from specified fee: {0}"}]},{name:"ChangeAddressMissing",message:"Change address is missing"},{name:"BlockHeightTooHigh",message:"Block Height can be at most 2^32 -1"},{name:"NLockTimeOutOfRange",message:"Block Height can only be between 0 and 499 999 999"},{name:"LockTimeTooEarly",message:"Lock Time can't be earlier than UNIX date 500 000 000"}]},{name:"Script",message:"Internal Error on Script {0}",errors:[{name:"UnrecognizedAddress",message:"Expected argument {0} to be an address"},{name:"CantDeriveAddress",message:"Can't derive address associated with script {0}, needs to be p2pkh in, p2pkh out, p2sh in, or p2sh out."},{name:"InvalidBuffer",message:"Invalid script buffer: can't parse valid script from given buffer {0}"}]},{name:"HDPrivateKey",message:"Internal Error on HDPrivateKey {0}",errors:[{name:"InvalidDerivationArgument",message:"Invalid derivation argument {0}, expected string, or number and boolean"},{name:"InvalidEntropyArgument",message:"Invalid entropy: must be an hexa string or binary buffer, got {0}",errors:[{name:"TooMuchEntropy",message:'Invalid entropy: more than 512 bits is non standard, got "{0}"'},{name:"NotEnoughEntropy",message:'Invalid entropy: at least 128 bits needed, got "{0}"'}]},{name:"InvalidLength",message:"Invalid length for xprivkey string in {0}"},{name:"InvalidPath",message:"Invalid derivation path: {0}"},{name:"UnrecognizedArgument",message:'Invalid argument: creating a HDPrivateKey requires a string, buffer, json or object, got "{0}"'}]},{name:"HDPublicKey",message:"Internal Error on HDPublicKey {0}",errors:[{name:"ArgumentIsPrivateExtended",message:"Argument is an extended private key: {0}"},{name:"InvalidDerivationArgument",message:"Invalid derivation argument: got {0}"},{name:"InvalidLength",message:'Invalid length for xpubkey: got "{0}"'},{name:"InvalidPath",message:'Invalid derivation path, it should look like: "m/1/100", got "{0}"'},{name:"InvalidIndexCantDeriveHardened",message:"Invalid argument: creating a hardened path requires an HDPrivateKey"},{name:"MustSupplyArgument",message:"Must supply an argument to create a HDPublicKey"},{name:"UnrecognizedArgument",message:"Invalid argument for creation, must be string, json, buffer, or object"}]}]},39996:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(69629),f=c(67133),m=c(2890),y=c(4682),w=c(76070),E=c(94945),S=c(72403),A=c(75327),k=c(84454),T=c(8535),O=c(21470),B=c(65569),C=c(72700),N=C.HDPrivateKey,R=c(61302),M=c(27606),U=1/8;function HDPrivateKey(e){if(e instanceof HDPrivateKey)return e;if(!(this instanceof HDPrivateKey))return new HDPrivateKey(e);if(!e)return this._generateRandomly();if(k.get(e))return this._generateRandomly(e);if(m.isString(e)||R.isBuffer(e)){if(HDPrivateKey.isValidSerialized(e))this._buildFromSerialized(e);else if(M.isValidJSON(e))this._buildFromJSON(e);else if(R.isBuffer(e)&&HDPrivateKey.isValidSerialized(e.toString()))this._buildFromSerialized(e.toString());else throw HDPrivateKey.getSerializedError(e)}else if(m.isObject(e))this._buildFromObject(e);else throw new N.UnrecognizedArgument(e)}HDPrivateKey.isValidPath=function(e,a){if(m.isString(e)){var c=HDPrivateKey._getDerivationIndexes(e);return null!==c&&m.every(c,HDPrivateKey.isValidPath)}return!!m.isNumber(e)&&(e<HDPrivateKey.Hardened&&!0===a&&(e+=HDPrivateKey.Hardened),e>=0&&e<HDPrivateKey.MaxIndex)},HDPrivateKey._getDerivationIndexes=function(e){var a=e.split("/");if(m.includes(HDPrivateKey.RootElementAlias,e))return[];if(!m.includes(HDPrivateKey.RootElementAlias,a[0]))return null;var c=a.slice(1).map(function(e){var a="'"===e.slice(-1);if(a&&(e=e.slice(0,-1)),!e||"-"===e[0])return NaN;var c=+e;return a&&(c+=HDPrivateKey.Hardened),c});return m.some(c,isNaN)?null:c},HDPrivateKey.prototype.derive=function(e,a){return this.deriveNonCompliantChild(e,a)},HDPrivateKey.prototype.deriveChild=function(e,a){if(m.isNumber(e))return this._deriveWithNumber(e,a);if(m.isString(e))return this._deriveFromString(e);throw new N.InvalidDerivationArgument(e)},HDPrivateKey.prototype.deriveNonCompliantChild=function(e,a){if(m.isNumber(e))return this._deriveWithNumber(e,a,!0);if(m.isString(e))return this._deriveFromString(e,!0);throw new N.InvalidDerivationArgument(e)},HDPrivateKey.prototype._deriveWithNumber=function(e,a,c){if(!HDPrivateKey.isValidPath(e,a))throw new N.InvalidPath(e);a=e>=HDPrivateKey.Hardened||a,e<HDPrivateKey.Hardened&&!0===a&&(e+=HDPrivateKey.Hardened);var f,m=R.integerAsBuffer(e);if(a&&c){var y=this.privateKey.bn.toBuffer();f=R.concat([u.from([0]),y,m])}else if(a){var E=this.privateKey.bn.toBuffer({size:32});p(32===E.length,"length of private key buffer is expected to be 32 bytes"),f=R.concat([u.from([0]),E,m])}else f=R.concat([this.publicKey.toBuffer(),m]);var S=A.sha512hmac(f,this._buffers.chainCode),k=w.fromBuffer(S.slice(0,32),{size:32}),B=S.slice(32,64),C=k.add(this.privateKey.toBigNumber()).umod(T.getN()).toBuffer({size:32});return O.isValid(C)?new HDPrivateKey({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:e,chainCode:B,privateKey:C}):this._deriveWithNumber(e+1,null,c)},HDPrivateKey.prototype._deriveFromString=function(e,a){if(!HDPrivateKey.isValidPath(e))throw new N.InvalidPath(e);return HDPrivateKey._getDerivationIndexes(e).reduce(function(e,c){return e._deriveWithNumber(c,null,a)},this)},HDPrivateKey.isValidSerialized=function(e,a){return!HDPrivateKey.getSerializedError(e,a)},HDPrivateKey.getSerializedError=function(e,a){if(!(m.isString(e)||R.isBuffer(e)))return new N.UnrecognizedArgument("Expected string or buffer");if(!E.validCharacters(e))return new C.InvalidB58Char("(unknown)",e);try{e=S.decode(e)}catch(a){return new C.InvalidB58Checksum(e)}if(e.length!==HDPrivateKey.DataLength)return new N.InvalidLength(e);if(!m.isUndefined(a)){var c=HDPrivateKey._validateNetwork(e,a);if(c)return c}return null},HDPrivateKey._validateNetwork=function(e,a){var c=k.get(a);if(!c)return new C.InvalidNetworkArgument(a);var u=e.slice(0,4);return R.integerFromBuffer(u)!==c.xprivkey?new C.InvalidNetwork(u):null},HDPrivateKey.fromString=function(e){return y.checkArgument(m.isString(e),"No valid string was provided"),new HDPrivateKey(e)},HDPrivateKey.fromObject=function(e){return y.checkArgument(m.isObject(e),"No valid argument was provided"),new HDPrivateKey(e)},HDPrivateKey.prototype._buildFromJSON=function(e){return this._buildFromObject(JSON.parse(e))},HDPrivateKey.prototype._buildFromObject=function(e){var a={version:e.network?R.integerAsBuffer(k.get(e.network).xprivkey):e.version,depth:m.isNumber(e.depth)?R.integerAsSingleByteBuffer(e.depth):e.depth,parentFingerPrint:m.isNumber(e.parentFingerPrint)?R.integerAsBuffer(e.parentFingerPrint):e.parentFingerPrint,childIndex:m.isNumber(e.childIndex)?R.integerAsBuffer(e.childIndex):e.childIndex,chainCode:m.isString(e.chainCode)?u.from(e.chainCode,"hex"):e.chainCode,privateKey:m.isString(e.privateKey)&&M.isHexa(e.privateKey)?u.from(e.privateKey,"hex"):e.privateKey,checksum:e.checksum?e.checksum.length?e.checksum:R.integerAsBuffer(e.checksum):void 0};return this._buildFromBuffers(a)},HDPrivateKey.prototype._buildFromSerialized=function(e){var a=S.decode(e),c={version:a.slice(HDPrivateKey.VersionStart,HDPrivateKey.VersionEnd),depth:a.slice(HDPrivateKey.DepthStart,HDPrivateKey.DepthEnd),parentFingerPrint:a.slice(HDPrivateKey.ParentFingerPrintStart,HDPrivateKey.ParentFingerPrintEnd),childIndex:a.slice(HDPrivateKey.ChildIndexStart,HDPrivateKey.ChildIndexEnd),chainCode:a.slice(HDPrivateKey.ChainCodeStart,HDPrivateKey.ChainCodeEnd),privateKey:a.slice(HDPrivateKey.PrivateKeyStart,HDPrivateKey.PrivateKeyEnd),checksum:a.slice(HDPrivateKey.ChecksumStart,HDPrivateKey.ChecksumEnd),xprivkey:e};return this._buildFromBuffers(c)},HDPrivateKey.prototype._generateRandomly=function(e){return HDPrivateKey.fromSeed(B.getRandomBuffer(64),e)},HDPrivateKey.fromSeed=function(e,a){if(M.isHexaString(e)&&(e=u.from(e,"hex")),!u.isBuffer(e))throw new N.InvalidEntropyArgument(e);if(e.length<128*U)throw new N.InvalidEntropyArgument.NotEnoughEntropy(e);if(e.length>512*U)throw new N.InvalidEntropyArgument.TooMuchEntropy(e);var c=A.sha512hmac(e,u.from("Bitcoin seed"));return new HDPrivateKey({network:k.get(a)||k.defaultNetwork,depth:0,parentFingerPrint:0,childIndex:0,privateKey:c.slice(0,32),chainCode:c.slice(32,64)})},HDPrivateKey.prototype._calcHDPublicKey=function(){if(!this._hdPublicKey){var e=c(48031);this._hdPublicKey=new e(this)}},HDPrivateKey.prototype._buildFromBuffers=function(e){HDPrivateKey._validateBufferArguments(e),M.defineImmutable(this,{_buffers:e});var a,c=[e.version,e.depth,e.parentFingerPrint,e.childIndex,e.chainCode,R.emptyBuffer(1),e.privateKey],p=f.Buffer.concat(c);if(e.checksum&&e.checksum.length){if(e.checksum.toString()!==S.checksum(p).toString())throw new C.InvalidB58Checksum(p)}else e.checksum=S.checksum(p);var m=k.get(R.integerFromBuffer(e.version));a=S.encode(f.Buffer.concat(c)),e.xprivkey=u.from(a);var y=new O(w.fromBuffer(e.privateKey),m),E=y.toPublicKey(),T=HDPrivateKey.ParentFingerPrintSize,B=A.sha256ripemd160(E.toBuffer()).slice(0,T);return M.defineImmutable(this,{xprivkey:a,network:m,depth:R.integerFromSingleByteBuffer(e.depth),privateKey:y,publicKey:E,fingerPrint:B}),this._hdPublicKey=null,Object.defineProperty(this,"hdPublicKey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey}}),Object.defineProperty(this,"xpubkey",{configurable:!1,enumerable:!0,get:function(){return this._calcHDPublicKey(),this._hdPublicKey.xpubkey}}),this},HDPrivateKey._validateBufferArguments=function(e){var checkBuffer=function(a,c){var u=e[a];p(R.isBuffer(u),a+" argument is not a buffer"),p(u.length===c,a+" has not the expected size: found "+u.length+", expected "+c)};checkBuffer("version",HDPrivateKey.VersionSize),checkBuffer("depth",HDPrivateKey.DepthSize),checkBuffer("parentFingerPrint",HDPrivateKey.ParentFingerPrintSize),checkBuffer("childIndex",HDPrivateKey.ChildIndexSize),checkBuffer("chainCode",HDPrivateKey.ChainCodeSize),checkBuffer("privateKey",HDPrivateKey.PrivateKeySize),e.checksum&&e.checksum.length&&checkBuffer("checksum",HDPrivateKey.CheckSumSize)},HDPrivateKey.prototype.toString=function(){return this.xprivkey},HDPrivateKey.prototype.inspect=function(){return"<HDPrivateKey: "+this.xprivkey+">"},HDPrivateKey.prototype.toObject=HDPrivateKey.prototype.toJSON=function(){return{network:k.get(R.integerFromBuffer(this._buffers.version),"xprivkey").name,depth:R.integerFromSingleByteBuffer(this._buffers.depth),fingerPrint:R.integerFromBuffer(this.fingerPrint),parentFingerPrint:R.integerFromBuffer(this._buffers.parentFingerPrint),childIndex:R.integerFromBuffer(this._buffers.childIndex),chainCode:R.bufferToHex(this._buffers.chainCode),privateKey:this.privateKey.toBuffer().toString("hex"),checksum:R.integerFromBuffer(this._buffers.checksum),xprivkey:this.xprivkey}},HDPrivateKey.fromBuffer=function(e){return new HDPrivateKey(e.toString())},HDPrivateKey.prototype.toBuffer=function(){return R.copy(this._buffers.xprivkey)},HDPrivateKey.DefaultDepth=0,HDPrivateKey.DefaultFingerprint=0,HDPrivateKey.DefaultChildIndex=0,HDPrivateKey.Hardened=2147483648,HDPrivateKey.MaxIndex=2*HDPrivateKey.Hardened,HDPrivateKey.RootElementAlias=["m","M","m'","M'"],HDPrivateKey.VersionSize=4,HDPrivateKey.DepthSize=1,HDPrivateKey.ParentFingerPrintSize=4,HDPrivateKey.ChildIndexSize=4,HDPrivateKey.ChainCodeSize=32,HDPrivateKey.PrivateKeySize=32,HDPrivateKey.CheckSumSize=4,HDPrivateKey.DataLength=78,HDPrivateKey.SerializedByteSize=82,HDPrivateKey.VersionStart=0,HDPrivateKey.VersionEnd=HDPrivateKey.VersionStart+HDPrivateKey.VersionSize,HDPrivateKey.DepthStart=HDPrivateKey.VersionEnd,HDPrivateKey.DepthEnd=HDPrivateKey.DepthStart+HDPrivateKey.DepthSize,HDPrivateKey.ParentFingerPrintStart=HDPrivateKey.DepthEnd,HDPrivateKey.ParentFingerPrintEnd=HDPrivateKey.ParentFingerPrintStart+HDPrivateKey.ParentFingerPrintSize,HDPrivateKey.ChildIndexStart=HDPrivateKey.ParentFingerPrintEnd,HDPrivateKey.ChildIndexEnd=HDPrivateKey.ChildIndexStart+HDPrivateKey.ChildIndexSize,HDPrivateKey.ChainCodeStart=HDPrivateKey.ChildIndexEnd,HDPrivateKey.ChainCodeEnd=HDPrivateKey.ChainCodeStart+HDPrivateKey.ChainCodeSize,HDPrivateKey.PrivateKeyStart=HDPrivateKey.ChainCodeEnd+1,HDPrivateKey.PrivateKeyEnd=HDPrivateKey.PrivateKeyStart+HDPrivateKey.PrivateKeySize,HDPrivateKey.ChecksumStart=HDPrivateKey.PrivateKeyEnd,HDPrivateKey.ChecksumEnd=HDPrivateKey.ChecksumStart+HDPrivateKey.CheckSumSize,p(HDPrivateKey.ChecksumEnd===HDPrivateKey.SerializedByteSize),e.exports=HDPrivateKey},48031:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(2890),f=c(4682),m=c(76070),y=c(94945),w=c(72403),E=c(75327),S=c(39996),A=c(84454),k=c(8535),T=c(81633),O=c(72700),B=O.HDPublicKey,C=c(69629),N=c(27606),R=c(61302);function HDPublicKey(e){if(e instanceof HDPublicKey)return e;if(!(this instanceof HDPublicKey))return new HDPublicKey(e);if(e){if(p.isString(e)||R.isBuffer(e)){var a=HDPublicKey.getSerializedError(e);if(!a)return this._buildFromSerialized(e);if(R.isBuffer(e)&&!HDPublicKey.getSerializedError(e.toString()))return this._buildFromSerialized(e.toString());if(a instanceof B.ArgumentIsPrivateExtended)return new S(e).hdPublicKey;throw a}if(p.isObject(e))return e instanceof S?this._buildFromPrivate(e):this._buildFromObject(e);throw new B.UnrecognizedArgument(e)}throw new B.MustSupplyArgument}HDPublicKey.isValidPath=function(e){if(p.isString(e)){var a=S._getDerivationIndexes(e);return null!==a&&p.every(a,HDPublicKey.isValidPath)}return!!p.isNumber(e)&&e>=0&&e<HDPublicKey.Hardened},HDPublicKey.prototype.derive=function(e,a){return this.deriveChild(e,a)},HDPublicKey.prototype.deriveChild=function(e,a){if(p.isNumber(e))return this._deriveWithNumber(e,a);if(p.isString(e))return this._deriveFromString(e);throw new B.InvalidDerivationArgument(e)},HDPublicKey.prototype._deriveWithNumber=function(e,a){if(e>=HDPublicKey.Hardened||a)throw new B.InvalidIndexCantDeriveHardened;if(e<0)throw new B.InvalidPath(e);var c,u=R.integerAsBuffer(e),p=R.concat([this.publicKey.toBuffer(),u]),f=E.sha512hmac(p,this._buffers.chainCode),y=m.fromBuffer(f.slice(0,32),{size:32}),w=f.slice(32,64);try{c=T.fromPoint(k.getG().mul(y).add(this.publicKey.point))}catch(a){return this._deriveWithNumber(e+1)}return new HDPublicKey({network:this.network,depth:this.depth+1,parentFingerPrint:this.fingerPrint,childIndex:e,chainCode:w,publicKey:c})},HDPublicKey.prototype._deriveFromString=function(e){if(p.includes(e,"'"))throw new B.InvalidIndexCantDeriveHardened;if(!HDPublicKey.isValidPath(e))throw new B.InvalidPath(e);return S._getDerivationIndexes(e).reduce(function(e,a){return e._deriveWithNumber(a)},this)},HDPublicKey.isValidSerialized=function(e,a){return p.isNull(HDPublicKey.getSerializedError(e,a))},HDPublicKey.getSerializedError=function(e,a){if(!(p.isString(e)||R.isBuffer(e)))return new B.UnrecognizedArgument("expected buffer or string");if(!y.validCharacters(e))return new O.InvalidB58Char("(unknown)",e);try{e=w.decode(e)}catch(a){return new O.InvalidB58Checksum(e)}if(e.length!==HDPublicKey.DataSize)return new B.InvalidLength(e);if(!p.isUndefined(a)){var c=HDPublicKey._validateNetwork(e,a);if(c)return c}var u=R.integerFromBuffer(e.slice(0,4));return u===A.livenet.xprivkey||u===A.testnet.xprivkey?new B.ArgumentIsPrivateExtended:null},HDPublicKey._validateNetwork=function(e,a){var c=A.get(a);if(!c)return new O.InvalidNetworkArgument(a);var u=e.slice(HDPublicKey.VersionStart,HDPublicKey.VersionEnd);return R.integerFromBuffer(u)!==c.xpubkey?new O.InvalidNetwork(u):null},HDPublicKey.prototype._buildFromPrivate=function(e){var a=p.clone(e._buffers),c=k.getG().mul(m.fromBuffer(a.privateKey));return a.publicKey=k.pointToCompressed(c),a.version=R.integerAsBuffer(A.get(R.integerFromBuffer(a.version)).xpubkey),a.privateKey=void 0,a.checksum=void 0,a.xprivkey=void 0,this._buildFromBuffers(a)},HDPublicKey.prototype._buildFromObject=function(e){var a={version:e.network?R.integerAsBuffer(A.get(e.network).xpubkey):e.version,depth:p.isNumber(e.depth)?R.integerAsSingleByteBuffer(e.depth):e.depth,parentFingerPrint:p.isNumber(e.parentFingerPrint)?R.integerAsBuffer(e.parentFingerPrint):e.parentFingerPrint,childIndex:p.isNumber(e.childIndex)?R.integerAsBuffer(e.childIndex):e.childIndex,chainCode:p.isString(e.chainCode)?u.from(e.chainCode,"hex"):e.chainCode,publicKey:p.isString(e.publicKey)?u.from(e.publicKey,"hex"):R.isBuffer(e.publicKey)?e.publicKey:e.publicKey.toBuffer(),checksum:p.isNumber(e.checksum)?R.integerAsBuffer(e.checksum):e.checksum};return this._buildFromBuffers(a)},HDPublicKey.prototype._buildFromSerialized=function(e){var a=w.decode(e),c={version:a.slice(HDPublicKey.VersionStart,HDPublicKey.VersionEnd),depth:a.slice(HDPublicKey.DepthStart,HDPublicKey.DepthEnd),parentFingerPrint:a.slice(HDPublicKey.ParentFingerPrintStart,HDPublicKey.ParentFingerPrintEnd),childIndex:a.slice(HDPublicKey.ChildIndexStart,HDPublicKey.ChildIndexEnd),chainCode:a.slice(HDPublicKey.ChainCodeStart,HDPublicKey.ChainCodeEnd),publicKey:a.slice(HDPublicKey.PublicKeyStart,HDPublicKey.PublicKeyEnd),checksum:a.slice(HDPublicKey.ChecksumStart,HDPublicKey.ChecksumEnd),xpubkey:e};return this._buildFromBuffers(c)},HDPublicKey.prototype._buildFromBuffers=function(e){HDPublicKey._validateBufferArguments(e),N.defineImmutable(this,{_buffers:e});var a,c=[e.version,e.depth,e.parentFingerPrint,e.childIndex,e.chainCode,e.publicKey],p=R.concat(c),f=w.checksum(p);if(e.checksum&&e.checksum.length){if(e.checksum.toString("hex")!==f.toString("hex"))throw new O.InvalidB58Checksum(p,f)}else e.checksum=f;var m=A.get(R.integerFromBuffer(e.version));a=w.encode(R.concat(c)),e.xpubkey=u.from(a);var y=new T(e.publicKey,{network:m}),S=HDPublicKey.ParentFingerPrintSize,k=E.sha256ripemd160(y.toBuffer()).slice(0,S);return N.defineImmutable(this,{xpubkey:a,network:m,depth:R.integerFromSingleByteBuffer(e.depth),publicKey:y,fingerPrint:k}),this},HDPublicKey._validateBufferArguments=function(e){var checkBuffer=function(a,c){var u=e[a];C(R.isBuffer(u),a+" argument is not a buffer, it's "+typeof u),C(u.length===c,a+" has not the expected size: found "+u.length+", expected "+c)};checkBuffer("version",HDPublicKey.VersionSize),checkBuffer("depth",HDPublicKey.DepthSize),checkBuffer("parentFingerPrint",HDPublicKey.ParentFingerPrintSize),checkBuffer("childIndex",HDPublicKey.ChildIndexSize),checkBuffer("chainCode",HDPublicKey.ChainCodeSize),checkBuffer("publicKey",HDPublicKey.PublicKeySize),e.checksum&&e.checksum.length&&checkBuffer("checksum",HDPublicKey.CheckSumSize)},HDPublicKey.fromString=function(e){return f.checkArgument(p.isString(e),"No valid string was provided"),new HDPublicKey(e)},HDPublicKey.fromObject=function(e){return f.checkArgument(p.isObject(e),"No valid argument was provided"),new HDPublicKey(e)},HDPublicKey.prototype.toString=function(){return this.xpubkey},HDPublicKey.prototype.inspect=function(){return"<HDPublicKey: "+this.xpubkey+">"},HDPublicKey.prototype.toObject=HDPublicKey.prototype.toJSON=function(){return{network:A.get(R.integerFromBuffer(this._buffers.version)).name,depth:R.integerFromSingleByteBuffer(this._buffers.depth),fingerPrint:R.integerFromBuffer(this.fingerPrint),parentFingerPrint:R.integerFromBuffer(this._buffers.parentFingerPrint),childIndex:R.integerFromBuffer(this._buffers.childIndex),chainCode:R.bufferToHex(this._buffers.chainCode),publicKey:this.publicKey.toString(),checksum:R.integerFromBuffer(this._buffers.checksum),xpubkey:this.xpubkey}},HDPublicKey.fromBuffer=function(e){return new HDPublicKey(e)},HDPublicKey.prototype.toBuffer=function(){return R.copy(this._buffers.xpubkey)},HDPublicKey.Hardened=2147483648,HDPublicKey.RootElementAlias=["m","M"],HDPublicKey.VersionSize=4,HDPublicKey.DepthSize=1,HDPublicKey.ParentFingerPrintSize=4,HDPublicKey.ChildIndexSize=4,HDPublicKey.ChainCodeSize=32,HDPublicKey.PublicKeySize=33,HDPublicKey.CheckSumSize=4,HDPublicKey.DataSize=78,HDPublicKey.SerializedByteSize=82,HDPublicKey.VersionStart=0,HDPublicKey.VersionEnd=HDPublicKey.VersionStart+HDPublicKey.VersionSize,HDPublicKey.DepthStart=HDPublicKey.VersionEnd,HDPublicKey.DepthEnd=HDPublicKey.DepthStart+HDPublicKey.DepthSize,HDPublicKey.ParentFingerPrintStart=HDPublicKey.DepthEnd,HDPublicKey.ParentFingerPrintEnd=HDPublicKey.ParentFingerPrintStart+HDPublicKey.ParentFingerPrintSize,HDPublicKey.ChildIndexStart=HDPublicKey.ParentFingerPrintEnd,HDPublicKey.ChildIndexEnd=HDPublicKey.ChildIndexStart+HDPublicKey.ChildIndexSize,HDPublicKey.ChainCodeStart=HDPublicKey.ChildIndexEnd,HDPublicKey.ChainCodeEnd=HDPublicKey.ChainCodeStart+HDPublicKey.ChainCodeSize,HDPublicKey.PublicKeyStart=HDPublicKey.ChainCodeEnd,HDPublicKey.PublicKeyEnd=HDPublicKey.PublicKeyStart+HDPublicKey.PublicKeySize,HDPublicKey.ChecksumStart=HDPublicKey.PublicKeyEnd,HDPublicKey.ChecksumEnd=HDPublicKey.ChecksumStart+HDPublicKey.CheckSumSize,C(HDPublicKey.PublicKeyEnd===HDPublicKey.DataSize),C(HDPublicKey.ChecksumEnd===HDPublicKey.SerializedByteSize),e.exports=HDPublicKey},68977:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(2890),f=c(21470),m=c(81633),y=c(17586),w=c(6244),E=c(217),S=c(7099),A=c(75327).sha256sha256,k=c(27606),T=c(4682);function Message(e){return this instanceof Message?(T.checkArgument(p.isString(e),"First argument should be a string"),this.message=e,this):new Message(e)}Message.MAGIC_BYTES=u.from("Bitcoin Signed Message:\n"),Message.prototype.magicHash=function(){var e=w.varintBufNum(Message.MAGIC_BYTES.length),a=u.from(this.message),c=w.varintBufNum(a.length);return A(u.concat([e,Message.MAGIC_BYTES,c,a]))},Message.prototype._sign=function(e){T.checkArgument(e instanceof f,"First argument should be an instance of PrivateKey");var a=this.magicHash(),c=new E;return c.hashbuf=a,c.privkey=e,c.pubkey=e.toPublicKey(),c.signRandomK(),c.calci(),c.sig},Message.prototype.sign=function(e){return this._sign(e).toCompact().toString("base64")},Message.prototype._verify=function(e,a){T.checkArgument(e instanceof m,"First argument should be an instance of PublicKey"),T.checkArgument(a instanceof S,"Second argument should be an instance of Signature");var c=this.magicHash(),u=E.verify(c,a,e);return u||(this.error="The signature was invalid"),u},Message.prototype.verify=function(e,a){T.checkArgument(e),T.checkArgument(a&&p.isString(a)),p.isString(e)&&(e=y.fromString(e));var c=S.fromCompact(u.from(a,"base64")),f=new E;f.hashbuf=this.magicHash(),f.sig=c;var m=f.toPublicKey(),w=y.fromPublicKey(m,e.network);return e.toString()!==w.toString()?(this.error="The signature did not match the message digest",!1):this._verify(m,c)},Message.prototype.recoverPublicKey=function(e,a){T.checkArgument(e),T.checkArgument(a&&p.isString(a)),p.isString(e)&&(e=y.fromString(e));var c=S.fromCompact(u.from(a,"base64")),f=new E;f.hashbuf=this.magicHash(),f.sig=c;var m=f.toPublicKey(),w=y.fromPublicKey(m,e.network);return e.toString()!==w.toString()&&(this.error="The signature did not match the message digest"),m.toString()},Message.fromString=function(e){return new Message(e)},Message.fromJSON=function(e){return k.isValidJSON(e)&&(e=JSON.parse(e)),new Message(e.message)},Message.prototype.toObject=function(){return{message:this.message}},Message.prototype.toJSON=function(){return JSON.stringify(this.toObject())},Message.prototype.toString=function(){return this.message},Message.prototype.inspect=function(){return"<Message: "+this.toString()+">"},e.exports=Message,c(17566)},84454:function(e,a,c){"use strict";var u=c(61302),p=c(27606),f=[],m={};function Network(){}function get(e,a){if(~f.indexOf(e))return e;if(a){for(let c in Array.isArray(a)||(a=[a]),f)if(a.some(a=>f[c][a]===e))return f[c];return}return m[e]&&m[e].length>=1?m[e][0]:m[e]}function is(e){return this.name==e||this.alias==e}function addNetwork(e){var a=new Network;for(let c of(p.defineImmutable(a,{name:e.name,alias:e.alias,is:e.is,pubkeyhash:e.pubkeyhash,privatekey:e.privatekey,scripthash:e.scripthash,bech32prefix:e.bech32prefix,xpubkey:e.xpubkey,xprivkey:e.xprivkey}),e.networkMagic&&p.defineImmutable(a,{networkMagic:u.integerAsBuffer(e.networkMagic)}),e.port&&p.defineImmutable(a,{port:e.port}),e.dnsSeeds&&p.defineImmutable(a,{dnsSeeds:e.dnsSeeds}),Object.values(a)))null!=c&&"object"!=typeof c&&(m[c]||(m[c]=[]),m[c].push(a));for(let c of(f.push(a),e.variants||[]))addNetwork({...e,variants:void 0,...c});return a}Network.prototype.toString=function(){return this.name},addNetwork({name:"livenet",alias:"mainnet",is,pubkeyhash:0,privatekey:128,scripthash:5,bech32prefix:"bc",xpubkey:76067358,xprivkey:76066276,networkMagic:4190024921,port:8333,dnsSeeds:["seed.bitcoin.sipa.be","dnsseed.bluematt.me","dnsseed.bitcoin.dashjr.org","seed.bitcoinstats.com","seed.bitnodes.io","bitseed.xf2.org"]});var y=get("livenet");addNetwork({name:"testnet",alias:"testnet",is,pubkeyhash:111,privatekey:239,scripthash:196,bech32prefix:"tb",xpubkey:70617039,xprivkey:70615956,variants:[{name:"testnet3",networkMagic:185665799,port:18333,dnsSeeds:["testnet-seed.bitcoin.petertodd.org","testnet-seed.bluematt.me","testnet-seed.alexykot.me","testnet-seed.bitcoin.schildbach.de"]},{name:"signet",networkMagic:168021824,port:38332,dnsSeeds:["178.128.221.177","103.16.128.63","153.126.143.201","192.241.163.142"]}]});var w=get("testnet"),E=get("testnet3"),S=get("signet");addNetwork({name:"regtest",alias:"dev",is,pubkeyhash:111,privatekey:239,scripthash:196,bech32prefix:"bcrt",xpubkey:70617039,xprivkey:70615956,networkMagic:4206867930,port:18444,dnsSeeds:[]});var A=get("regtest");e.exports={add:addNetwork,remove:function(e){"object"!=typeof e&&(e=get(e));for(var a=0;a<f.length;a++)f[a]===e&&f.splice(a,1);for(var c in m)if(m[c].length){let a=m[c].indexOf(e);a>=0&&m[c].splice(a,1),0===m[c].length&&delete m[c]}else m[c]===e&&delete m[c]},defaultNetwork:y,livenet:y,mainnet:y,testnet:w,testnet3:E,signet:S,regtest:A,get:get,enableRegtest:function(){w.regtestEnabled=!0},disableRegtest:function(){w.regtestEnabled=!1}}},46136:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(2890),f=c(4682),m=c(61302),y=c(27606);function Opcode(e){var a;if(!(this instanceof Opcode))return new Opcode(e);if(p.isNumber(e))a=e;else if(p.isString(e))a=Opcode.map[e];else throw TypeError('Unrecognized num type: "'+typeof e+'" for Opcode');return y.defineImmutable(this,{num:a}),this}for(var w in Opcode.fromBuffer=function(e){return f.checkArgument(m.isBuffer(e)),new Opcode(Number("0x"+e.toString("hex")))},Opcode.fromNumber=function(e){return f.checkArgument(p.isNumber(e)),new Opcode(e)},Opcode.fromString=function(e){f.checkArgument(p.isString(e));var a=Opcode.map[e];if(void 0===a)throw TypeError("Invalid opcodestr");return new Opcode(a)},Opcode.prototype.toHex=function(){return this.num.toString(16)},Opcode.prototype.toBuffer=function(){return u.from(this.toHex(),"hex")},Opcode.prototype.toNumber=function(){return this.num},Opcode.prototype.toString=function(){var e=Opcode.reverseMap[this.num];if(void 0===e)throw Error("Opcode does not have a string representation");return e},Opcode.smallInt=function(e){return(f.checkArgument(p.isNumber(e),"Invalid Argument: n should be number"),f.checkArgument(e>=0&&e<=16,"Invalid Argument: n must be between 0 and 16"),0===e)?Opcode("OP_0"):new Opcode(Opcode.map.OP_1+e-1)},Opcode.decodeOpN=function(e){return e===Opcode.OP_0?0:(f.checkArgument(e>=Opcode.OP_1&&e<=Opcode.OP_16,Error("Invalid opcode: "+JSON.stringify(e))),e-(Opcode.OP_1-1))},Opcode.isOpSuccess=function(e){return"string"!=typeof e||parseInt(e)||(e=Opcode[e]),80==e||98==e||e>=126&&e<=129||e>=131&&e<=134||e>=137&&e<=138||e>=141&&e<=142||e>=149&&e<=153||e>=187&&e<=254},Opcode.map={OP_FALSE:0,OP_0:0,OP_PUSHDATA1:76,OP_PUSHDATA2:77,OP_PUSHDATA4:78,OP_1NEGATE:79,OP_RESERVED:80,OP_TRUE:81,OP_1:81,OP_2:82,OP_3:83,OP_4:84,OP_5:85,OP_6:86,OP_7:87,OP_8:88,OP_9:89,OP_10:90,OP_11:91,OP_12:92,OP_13:93,OP_14:94,OP_15:95,OP_16:96,OP_NOP:97,OP_VER:98,OP_IF:99,OP_NOTIF:100,OP_VERIF:101,OP_VERNOTIF:102,OP_ELSE:103,OP_ENDIF:104,OP_VERIFY:105,OP_RETURN:106,OP_TOALTSTACK:107,OP_FROMALTSTACK:108,OP_2DROP:109,OP_2DUP:110,OP_3DUP:111,OP_2OVER:112,OP_2ROT:113,OP_2SWAP:114,OP_IFDUP:115,OP_DEPTH:116,OP_DROP:117,OP_DUP:118,OP_NIP:119,OP_OVER:120,OP_PICK:121,OP_ROLL:122,OP_ROT:123,OP_SWAP:124,OP_TUCK:125,OP_CAT:126,OP_SUBSTR:127,OP_LEFT:128,OP_RIGHT:129,OP_SIZE:130,OP_INVERT:131,OP_AND:132,OP_OR:133,OP_XOR:134,OP_EQUAL:135,OP_EQUALVERIFY:136,OP_RESERVED1:137,OP_RESERVED2:138,OP_1ADD:139,OP_1SUB:140,OP_2MUL:141,OP_2DIV:142,OP_NEGATE:143,OP_ABS:144,OP_NOT:145,OP_0NOTEQUAL:146,OP_ADD:147,OP_SUB:148,OP_MUL:149,OP_DIV:150,OP_MOD:151,OP_LSHIFT:152,OP_RSHIFT:153,OP_BOOLAND:154,OP_BOOLOR:155,OP_NUMEQUAL:156,OP_NUMEQUALVERIFY:157,OP_NUMNOTEQUAL:158,OP_LESSTHAN:159,OP_GREATERTHAN:160,OP_LESSTHANOREQUAL:161,OP_GREATERTHANOREQUAL:162,OP_MIN:163,OP_MAX:164,OP_WITHIN:165,OP_RIPEMD160:166,OP_SHA1:167,OP_SHA256:168,OP_HASH160:169,OP_HASH256:170,OP_CODESEPARATOR:171,OP_CHECKSIG:172,OP_CHECKSIGVERIFY:173,OP_CHECKMULTISIG:174,OP_CHECKMULTISIGVERIFY:175,OP_CHECKLOCKTIMEVERIFY:177,OP_CHECKSEQUENCEVERIFY:178,OP_NOP1:176,OP_NOP2:177,OP_NOP3:178,OP_NOP4:179,OP_NOP5:180,OP_NOP6:181,OP_NOP7:182,OP_NOP8:183,OP_NOP9:184,OP_NOP10:185,OP_CHECKSIGADD:186,OP_PUBKEYHASH:253,OP_PUBKEY:254,OP_INVALIDOPCODE:255},Opcode.reverseMap=[],Opcode.map)Opcode.reverseMap[Opcode.map[w]]=w;p.extend(Opcode,Opcode.map),Opcode.isSmallIntOp=function(e){return e instanceof Opcode&&(e=e.toNumber()),e===Opcode.map.OP_0||e>=Opcode.map.OP_1&&e<=Opcode.map.OP_16},Opcode.prototype.inspect=function(){return"<Opcode: "+this.toString()+", hex: "+this.toHex()+", decimal: "+this.num+">"},e.exports=Opcode},21470:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(2890),f=c(17586),m=c(72403),y=c(76070),w=c(27606),E=c(84454),S=c(8535),A=c(81633),k=c(65569),T=c(4682);let O=c(4182);function PrivateKey(e,a){if(!(this instanceof PrivateKey))return new PrivateKey(e,a);if(e instanceof PrivateKey)return e;var c=this._classifyArguments(e,a);if(!c.bn||0===c.bn.cmp(new y(0)))throw TypeError("Number can not be equal to zero, undefined, null or false");if(!c.bn.lt(S.getN()))throw TypeError("Number must be less than N");if(void 0===c.network)throw TypeError('Must specify the network ("livenet" or "testnet")');return w.defineImmutable(this,{bn:c.bn,compressed:c.compressed,network:c.network}),Object.defineProperty(this,"publicKey",{configurable:!1,enumerable:!0,get:this.toPublicKey.bind(this)}),this}PrivateKey.prototype._classifyArguments=function(e,a){var c={compressed:!0,network:a?E.get(a):E.defaultNetwork};if(p.isUndefined(e)||p.isNull(e))c.bn=PrivateKey._getRandomBN();else if(e instanceof y)c.bn=e;else if(e instanceof u||e instanceof Uint8Array)c=PrivateKey._transformBuffer(e,a);else if(e.bn&&e.network)c=PrivateKey._transformObject(e);else if(!a&&E.get(e))c.bn=PrivateKey._getRandomBN(),c.network=E.get(e);else if("string"==typeof e)w.isHexa(e)?c.bn=new y(u.from(e,"hex")):c=PrivateKey._transformWIF(e,a);else throw TypeError("First argument is an unrecognized data type.");return c},PrivateKey._getRandomBN=function(){do{var e,a,c=k.getRandomBuffer(32);e=(a=y.fromBuffer(c)).lt(S.getN())}while(!e);return a},PrivateKey._transformBuffer=function(e,a){var c={};if(32===e.length)return PrivateKey._transformBNBuffer(e,a);if(c.network=E.get(e[0],"privatekey"),!c.network)throw Error("Invalid network");if(a&&c.network!==E.get(a))throw TypeError("Private key network mismatch");if(34===e.length&&1===e[33])c.compressed=!0;else if(33===e.length)c.compressed=!1;else throw Error("Length of buffer must be 33 (uncompressed) or 34 (compressed)");return c.bn=y.fromBuffer(e.slice(1,33)),c},PrivateKey._transformBNBuffer=function(e,a){var c={};return c.network=E.get(a)||E.defaultNetwork,c.bn=y.fromBuffer(e),c.compressed=!1,c},PrivateKey._transformWIF=function(e,a){return PrivateKey._transformBuffer(m.decode(e),a)},PrivateKey.fromBuffer=function(e,a){return new PrivateKey(e,a)},PrivateKey._transformObject=function(e){return{bn:new y(e.bn,"hex"),network:E.get(e.network),compressed:e.compressed}},PrivateKey.fromString=PrivateKey.fromWIF=function(e){return T.checkArgument(p.isString(e),"First argument is expected to be a string."),new PrivateKey(e)},PrivateKey.fromObject=function(e){return T.checkArgument(p.isObject(e),"First argument is expected to be an object."),new PrivateKey(e)},PrivateKey.fromRandom=function(e){var a=PrivateKey._getRandomBN();return new PrivateKey(a,e)},PrivateKey.getValidationError=function(e,a){var c;try{new PrivateKey(e,a)}catch(e){c=e}return c},PrivateKey.isValid=function(e,a){return!!e&&!PrivateKey.getValidationError(e,a)},PrivateKey.prototype.toString=function(){return this.toBuffer().toString("hex")},PrivateKey.prototype.toWIF=function(){var e,a=this.network;return e=this.compressed?u.concat([u.from([a.privatekey]),this.bn.toBuffer({size:32}),u.from([1])]):u.concat([u.from([a.privatekey]),this.bn.toBuffer({size:32})]),m.encode(e)},PrivateKey.prototype.toBigNumber=function(){return this.bn},PrivateKey.prototype.toBuffer=function(){return this.bn.toBuffer({size:32})},PrivateKey.prototype.toBufferNoPadding=function(){return this.bn.toBuffer()},PrivateKey.prototype.toPublicKey=function(){return this._pubkey||(this._pubkey=A.fromPrivateKey(this)),this._pubkey},PrivateKey.prototype.toAddress=function(e,a){var c=this.toPublicKey();return f.fromPublicKey(c,e||this.network,a)},PrivateKey.prototype.toObject=PrivateKey.prototype.toJSON=function(){return{bn:this.bn.toString("hex"),compressed:this.compressed,network:this.network.toString()}},PrivateKey.prototype.createTapTweak=function(e){let a=S.getN(),c=S.getG().mul(this.bn),p=c.y.isEven()?this.bn:a.sub(this.bn),f=new O("TapTweak");f.write(c.x.toBuffer({size:32})),e&&(T.checkArgument(u.isBuffer(e)&&32===e.length,"merkleRoot must be 32 byte buffer"),f.write(e));let m=f.finalize();return T.checkState(y.fromBuffer(m).lt(a),"TapTweak hash failed secp256k1 order check"),{tweakedPrivKey:p.add(new y(m)).mod(a).toBuffer({size:32})}},PrivateKey.prototype.inspect=function(){var e=this.compressed?"":", uncompressed";return"<PrivateKey: "+this.toString()+", network: "+this.network+e+">"},e.exports=PrivateKey},81633:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(76070),f=c(8535),m=c(75327),y=c(27606),w=c(84454),E=c(2890),S=c(4682);let A=c(4182);function PublicKey(e,a){if(!(this instanceof PublicKey))return new PublicKey(e,a);if(S.checkArgument(e,"First argument is required, please include public key data."),e instanceof PublicKey)return e;a=a||{};var c=this._classifyArgs(e,a);return c.point.validate(),y.defineImmutable(this,{point:c.point,compressed:c.compressed,network:c.network||w.defaultNetwork}),this}PublicKey.prototype._classifyArgs=function(e,a){var c={compressed:E.isUndefined(a.compressed)||a.compressed};if(e instanceof f)c.point=e;else if(e.x&&e.y)c=PublicKey._transformObject(e);else if("string"==typeof e)c=PublicKey._transformDER(u.from(e,"hex"));else if(PublicKey._isBuffer(e))c=PublicKey._transformDER(e);else if(PublicKey._isPrivateKey(e))c=PublicKey._transformPrivateKey(e);else throw TypeError("First argument is an unrecognized data format.");return c.network||(c.network=E.isUndefined(a.network)?void 0:w.get(a.network)),c},PublicKey._isPrivateKey=function(e){return e instanceof c(21470)},PublicKey._isBuffer=function(e){return e instanceof u||e instanceof Uint8Array},PublicKey._transformPrivateKey=function(e){S.checkArgument(PublicKey._isPrivateKey(e),"Must be an instance of PrivateKey");var a={};return a.point=f.getG().mul(e.bn),a.compressed=e.compressed,a.network=e.network,a},PublicKey._transformDER=function(e,a){S.checkArgument(PublicKey._isBuffer(e),"Must be a hex buffer of DER encoded public key");var c,u,m,y,w={};if(a=!!E.isUndefined(a)||a,4!==e[0]&&(a||6!==e[0]&&7!==e[0])){if(3===e[0])m=e.slice(1),c=new p(m),(w=PublicKey._transformX(!0,c)).compressed=!0;else if(2===e[0])m=e.slice(1),c=new p(m),(w=PublicKey._transformX(!1,c)).compressed=!0;else throw TypeError("Invalid DER format public key")}else{if(m=e.slice(1,33),y=e.slice(33,65),32!==m.length||32!==y.length||65!==e.length)throw TypeError("Length of x and y must be 32 bytes");c=new p(m),u=new p(y),w.point=new f(c,u),w.compressed=!1}return w},PublicKey._transformX=function(e,a){S.checkArgument("boolean"==typeof e,"Must specify whether y is odd or not (true or false)");var c={};return c.point=f.fromX(e,a),c},PublicKey._transformObject=function(e){var a=new p(e.x,"hex"),c=new p(e.y,"hex"),u=new f(a,c);return new PublicKey(u,{compressed:e.compressed})},PublicKey.fromPrivateKey=function(e){S.checkArgument(PublicKey._isPrivateKey(e),"Must be an instance of PrivateKey");var a=PublicKey._transformPrivateKey(e);return new PublicKey(a.point,{compressed:a.compressed,network:a.network})},PublicKey.fromBuffer=function(e,a){return(S.checkArgument(PublicKey._isBuffer(e),"Must be a hex buffer of DER encoded public key or 32 byte X coordinate (taproot)"),32===e.length)?PublicKey.fromX(!1,e):PublicKey.fromDER(e,a)},PublicKey.fromDER=function(e,a){S.checkArgument(PublicKey._isBuffer(e),"Must be a hex buffer of DER encoded public key");var c=PublicKey._transformDER(e,a);return new PublicKey(c.point,{compressed:c.compressed})},PublicKey.fromPoint=function(e,a){return S.checkArgument(e instanceof f,"First argument must be an instance of Point."),new PublicKey(e,{compressed:a})},PublicKey.fromString=function(e,a){var c=u.from(e,a||"hex"),p=PublicKey._transformDER(c);return new PublicKey(p.point,{compressed:p.compressed})},PublicKey.fromX=function(e,a){var c=PublicKey._transformX(e,a);return new PublicKey(c.point,{compressed:c.compressed})},PublicKey.fromTaproot=function(e){return"string"==typeof e&&y.isHexaString(e)&&(e=u.from(e,"hex")),S.checkArgument(u.isBuffer(e),"hexBuf must be a hex string or buffer"),S.checkArgument(32===e.length,"Taproot public keys must be 32 bytes"),new PublicKey.fromX(!1,e)},PublicKey.isValidTaproot=function(e){try{return!!PublicKey.fromTaproot(e)}catch(e){return!1}},PublicKey.prototype.computeTapTweakHash=function(e){let a=new A("TapTweak");a.write(this.point.x.toBuffer({size:32})),e&&(S.checkArgument(u.isBuffer(e)&&32===e.length,"merkleRoot must be 32 byte buffer"),a.write(e));let c=a.finalize(),m=f.getN();return S.checkState(p.fromBuffer(c).lt(m),"TapTweak hash failed secp256k1 order check"),c},PublicKey.prototype.checkTapTweak=function(e,a,c){u.isBuffer(e)&&(e=PublicKey.fromTaproot(e));let f=e.computeTapTweakHash(a),m=e.point.liftX(),y=m.add(this.point.curve.g.mul(p.fromBuffer(f)));return this.point.x.eq(y.x)&&y.y.mod(new p(2)).eq(new p(1&c[0]))},PublicKey.prototype.createTapTweak=function(e){S.checkArgument(null==e||u.isBuffer(e)&&32===e.length,"merkleRoot must be a 32 byte buffer");let a=this.computeTapTweakHash(e);a=new p(a);let c=this.point.liftX().add(f.getG().mul(a)),m=c.y.isEven()?0:1;return{parity:m,tweakedPubKey:c.x.toBuffer()}},PublicKey.getValidationError=function(e){var a;try{new PublicKey(e)}catch(e){a=e}return a},PublicKey.isValid=function(e){return!PublicKey.getValidationError(e)},PublicKey.prototype.toObject=PublicKey.prototype.toJSON=function(){return{x:this.point.getX().toString("hex",2),y:this.point.getY().toString("hex",2),compressed:this.compressed}},PublicKey.prototype.toBuffer=PublicKey.prototype.toDER=function(){var e,a=this.point.getX(),c=this.point.getY(),p=a.toBuffer({size:32}),f=c.toBuffer({size:32});return this.compressed?(e=f[f.length-1]%2?u.from([3]):u.from([2]),u.concat([e,p])):(e=u.from([4]),u.concat([e,p,f]))},PublicKey.prototype._getID=function(){return m.sha256ripemd160(this.toBuffer())},PublicKey.prototype.toAddress=function(e,a){return c(17586).fromPublicKey(this,e||this.network,a)},PublicKey.prototype.toString=function(){return this.toDER().toString("hex")},PublicKey.prototype.inspect=function(){return"<PublicKey: "+this.toString()+(this.compressed?"":", uncompressed")+">"},e.exports=PublicKey},17566:function(e,a,c){e.exports=c(32121),e.exports.Interpreter=c(88989)},88989:function(e,a,c){"use strict";var u=c(67133).Buffer;let p=c(2890),f=c(32121),m=c(46136),y=c(76070),w=c(75327),E=c(7099),S=c(81633),A=c(4682),k=c(98986),T=c(94228),O=c(6244),B=c(4182);var Interpreter=function Interpreter(e){if(!(this instanceof Interpreter))return new Interpreter(e);e?(this.initialize(),this.set(e)):this.initialize()};Interpreter.prototype.verifyWitnessProgram=function(e,a,c,u,p,y){var S=new f,A=[];if(0===e){if(a.length===Interpreter.WITNESS_V0_SCRIPTHASH_SIZE){if(0===c.length)return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WITNESS_EMPTY",!1;var k=c[c.length-1];return(S=new f(k),w.sha256(k).toString("hex")!==a.toString("hex"))?(this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1):(A=c.slice(0,-1),this.executeWitnessScript(S,A,E.Version.WITNESS_V0,u,p))}return a.length!==Interpreter.WITNESS_V0_KEYHASH_SIZE?(this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WRONG_LENGTH",!1):2!==c.length?(this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1):(S.add(m.OP_DUP),S.add(m.OP_HASH160),S.add(a),S.add(m.OP_EQUALVERIFY),S.add(m.OP_CHECKSIG),A=c,this.executeWitnessScript(S,A,E.Version.WITNESS_V0,u,p))}if(1!==e||a.length!=Interpreter.WITNESS_V1_TAPROOT_SIZE||y){if(p&Interpreter.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM",!1}else{let e={annexPresent:!1};if(!(p&Interpreter.SCRIPT_VERIFY_TAPROOT))return!0;if(0==(A=Array.from(c)).length)return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_WITNESS_EMPTY",!1;if(A.length>=2&&A[A.length-1].length&&A[A.length-1][0]===f.ANNEX_TAG){let a=A.pop(),c=new O;c.writeVarintNum(a.length),c.write(a),e.annexHash=w.sha256(c.toBuffer()),e.annexPresent=!0}if(e.annexInit=!0,1===A.length)return this.checkSchnorrSignature(A[0],a,E.Version.TAPROOT,e);{let m=A.pop(),y=A.pop();if(m.length<Interpreter.TAPROOT_CONTROL_BASE_SIZE||m.length>Interpreter.TAPROOT_CONTROL_MAX_SIZE||(m.length-Interpreter.TAPROOT_CONTROL_BASE_SIZE)%Interpreter.TAPROOT_CONTROL_NODE_SIZE!=0)return this.errstr="SCRIPT_ERR_TAPROOT_WRONG_CONTROL_SIZE",!1;if(e.tapleafHash=Interpreter.computeTapleafHash(m[0]&Interpreter.TAPROOT_LEAF_MASK,y),!Interpreter.verifyTaprootCommitment(m,a,e.tapleafHash))return this.errstr="SCRIPT_ERR_WITNESS_PROGRAM_MISMATCH",!1;if(e.tapleafHashInit=!0,(m[0]&Interpreter.TAPROOT_LEAF_MASK)===Interpreter.TAPROOT_LEAF_TAPSCRIPT){let a;{let e=new O;for(let a of(e.writeVarintNum(c.length),c))e.writeVarintNum(a.length),e.write(a);a=e.toBuffer().length}try{S=new f(y)}catch(e){return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1}return e.validationWeightLeft=a+f.VALIDATION_WEIGHT_OFFSET,e.validationWeightLeftInit=!0,this.executeWitnessScript(S,A,E.Version.TAPSCRIPT,u,p,e)}if(p&Interpreter.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_TAPROOT_VERSION)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_TAPROOT_VERSION",!1}}return!0},Interpreter.prototype.executeWitnessScript=function(e,a,c,u,p,f){if(c===E.Version.TAPSCRIPT){for(let a of e.chunks)if(m.isOpSuccess(a.opcodenum)){if(p&Interpreter.SCRIPT_VERIFY_DISCOURAGE_OP_SUCCESS)return this.errstr="SCRIPT_ERR_DISCOURAGE_OP_SUCCESS",!1;return!0}if(a.length>Interpreter.MAX_STACK_SIZE)return this.errstr="SCRIPT_ERR_STACK_SIZE",!1}if(a.length&&a.some(e=>e.length>Interpreter.MAX_SCRIPT_ELEMENT_SIZE))return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;if(this.initialize(),this.set({script:e,stack:a,sigversion:c,satoshis:u,flags:p,execdata:f}),!this.evaluate())return!1;if(1!==this.stack.length)return this.errstr="SCRIPT_ERR_EVAL_FALSE",!1;var y=this.stack[this.stack.length-1];return!!Interpreter.castToBool(y)||(this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1)},Interpreter.prototype.verify=function(e,a,u,m,y,w,S){var A,k=c(33519);if(p.isUndefined(u)&&(u=new k),p.isUndefined(m)&&(m=0),p.isUndefined(y)&&(y=0),p.isUndefined(w)&&(w=null),p.isUndefined(S)&&(S=0),this.set({script:e,tx:u,nin:m,sigversion:E.Version.BASE,satoshis:0,flags:y}),(y&Interpreter.SCRIPT_VERIFY_SIGPUSHONLY)!=0&&!e.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(!this.evaluate())return!1;y&Interpreter.SCRIPT_VERIFY_P2SH&&(A=this.stack.slice());var T=this.stack;if(this.initialize(),this.set({script:a,stack:T,tx:u,nin:m,flags:y}),!this.evaluate())return!1;if(0===this.stack.length)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_RESULT",!1;var O=this.stack[this.stack.length-1];if(!Interpreter.castToBool(O))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_STACK",!1;var B=!1;if(y&Interpreter.SCRIPT_VERIFY_WITNESS){var C={};if(a.isWitnessProgram(C)){if(B=!0,0!==e.toBuffer().length)return this.errstr="SCRIPT_ERR_WITNESS_MALLEATED",!1;if(!this.verifyWitnessProgram(C.version,C.program,w,S,this.flags,!1))return!1}}if(y&Interpreter.SCRIPT_VERIFY_P2SH&&a.isScriptHashOut()){if(!e.isPushOnly())return this.errstr="SCRIPT_ERR_SIG_PUSHONLY",!1;if(0===A.length)throw Error("internal error - stack copy empty");var N=A[A.length-1],R=f.fromBuffer(N);if(A.pop(),this.initialize(),this.set({script:R,stack:A,tx:u,nin:m,flags:y}),!this.evaluate())return!1;if(0===A.length)return this.errstr="SCRIPT_ERR_EVAL_FALSE_NO_P2SH_STACK",!1;if(!Interpreter.castToBool(A[A.length-1]))return this.errstr="SCRIPT_ERR_EVAL_FALSE_IN_P2SH_STACK",!1;if(y&Interpreter.SCRIPT_VERIFY_WITNESS){var M={};if(R.isWitnessProgram(M)){B=!0;var U=new f;if(U.add(R.toBuffer()),e.toHex()!==U.toHex())return this.errstr="SCRIPT_ERR_WITNESS_MALLEATED_P2SH",!1;if(!this.verifyWitnessProgram(M.version,M.program,w,S,this.flags,!0))return!1;T=[T[0]]}}}if((this.flags&Interpreter.SCRIPT_VERIFY_CLEANSTACK)!=0){if((this.flags&Interpreter.SCRIPT_VERIFY_P2SH)==0||(this.flags&Interpreter.SCRIPT_VERIFY_WITNESS)==0)throw"flags & SCRIPT_VERIFY_P2SH";if(1!=A.length)return this.errstr="SCRIPT_ERR_CLEANSTACK",!1}return!(this.flags&Interpreter.SCRIPT_VERIFY_WITNESS)||!!B||!(w.length>0)||(this.errstr="SCRIPT_ERR_WITNESS_UNEXPECTED",!1)},e.exports=Interpreter,Interpreter.prototype.initialize=function(e){this.stack=[],this.altstack=[],this.pc=0,this.satoshis=0,this.sigversion=E.Version.BASE,this.pbegincodehash=0,this.nOpCount=0,this.vfExec=[],this.errstr="",this.flags=0,this.execdata={}},Interpreter.prototype.set=function(e){this.script=e.script||this.script,this.tx=e.tx||this.tx,this.nin=void 0===e.nin?this.nin:parseInt(e.nin),this.stack=e.stack||this.stack,this.altstack=e.altstack||this.altstack,this.pc=void 0===e.pc?this.pc:e.pc,this.pbegincodehash=void 0===e.pbegincodehash?this.pbegincodehash:e.pbegincodehash,this.sigversion=void 0===e.sigversion?this.sigversion:e.sigversion,this.satoshis=void 0===e.satoshis?this.satoshis:e.satoshis,this.nOpCount=void 0===e.nOpCount?this.nOpCount:e.nOpCount,this.vfExec=e.vfExec||this.vfExec,this.errstr=e.errstr||this.errstr,this.flags=void 0===e.flags?this.flags:e.flags,this.execdata=void 0===e.execdata?this.execdata:e.execdata||{}},Interpreter.true=u.from([1]),Interpreter.false=u.from([]),Interpreter.MAX_SCRIPT_SIZE=1e4,Interpreter.MAX_STACK_SIZE=1e3,Interpreter.MAX_SCRIPT_ELEMENT_SIZE=520,Interpreter.LOCKTIME_THRESHOLD=5e8,Interpreter.LOCKTIME_THRESHOLD_BN=new y(Interpreter.LOCKTIME_THRESHOLD),Interpreter.SCRIPT_VERIFY_NONE=0,Interpreter.SCRIPT_VERIFY_P2SH=1,Interpreter.SCRIPT_VERIFY_STRICTENC=2,Interpreter.SCRIPT_VERIFY_DERSIG=4,Interpreter.SCRIPT_VERIFY_LOW_S=8,Interpreter.SCRIPT_VERIFY_NULLDUMMY=16,Interpreter.SCRIPT_VERIFY_SIGPUSHONLY=32,Interpreter.SCRIPT_VERIFY_MINIMALDATA=64,Interpreter.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS=128,Interpreter.SCRIPT_VERIFY_CLEANSTACK=256,Interpreter.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY=512,Interpreter.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY=1024,Interpreter.SCRIPT_VERIFY_WITNESS=2048,Interpreter.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_WITNESS_PROGRAM=4096,Interpreter.SCRIPT_VERIFY_MINIMALIF=8192,Interpreter.SCRIPT_VERIFY_NULLFAIL=16384,Interpreter.SCRIPT_VERIFY_WITNESS_PUBKEYTYPE=32768,Interpreter.SCRIPT_ENABLE_SIGHASH_FORKID=65536,Interpreter.SCRIPT_ENABLE_REPLAY_PROTECTION=131072,Interpreter.SCRIPT_VERIFY_CONST_SCRIPTCODE=65536,Interpreter.SCRIPT_VERIFY_TAPROOT=131072,Interpreter.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_TAPROOT_VERSION=262144,Interpreter.SCRIPT_VERIFY_DISCOURAGE_OP_SUCCESS=524288,Interpreter.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_PUBKEYTYPE=1048576,Interpreter.SEQUENCE_LOCKTIME_DISABLE_FLAG=-2147483648,Interpreter.SEQUENCE_LOCKTIME_TYPE_FLAG=4194304,Interpreter.SEQUENCE_LOCKTIME_MASK=65535,Interpreter.WITNESS_V0_SCRIPTHASH_SIZE=32,Interpreter.WITNESS_V0_KEYHASH_SIZE=20,Interpreter.WITNESS_V1_TAPROOT_SIZE=32,Interpreter.TAPROOT_LEAF_MASK=254,Interpreter.TAPROOT_LEAF_TAPSCRIPT=192,Interpreter.TAPROOT_CONTROL_BASE_SIZE=33,Interpreter.TAPROOT_CONTROL_NODE_SIZE=32,Interpreter.TAPROOT_CONTROL_MAX_NODE_COUNT=128,Interpreter.TAPROOT_CONTROL_MAX_SIZE=Interpreter.TAPROOT_CONTROL_BASE_SIZE+Interpreter.TAPROOT_CONTROL_NODE_SIZE*Interpreter.TAPROOT_CONTROL_MAX_NODE_COUNT,Interpreter.PROTOCOL_VERSION=70016,Interpreter.castToBool=function(e){for(var a=0;a<e.length;a++)if(0!==e[a]){if(a===e.length-1&&128===e[a])return!1;return!0}return!1},Interpreter.prototype.checkSignatureEncoding=function(e){if(0==e.length)return!0;if((this.flags&(Interpreter.SCRIPT_VERIFY_DERSIG|Interpreter.SCRIPT_VERIFY_LOW_S|Interpreter.SCRIPT_VERIFY_STRICTENC))!=0&&!E.isTxDER(e))return this.errstr="SCRIPT_ERR_SIG_DER_INVALID_FORMAT",!1;if((this.flags&Interpreter.SCRIPT_VERIFY_LOW_S)!=0){if(!E.fromTxFormat(e).hasLowS())return this.errstr="SCRIPT_ERR_SIG_DER_HIGH_S",!1}else if((this.flags&Interpreter.SCRIPT_VERIFY_STRICTENC)!=0&&!E.fromTxFormat(e).hasDefinedHashtype())return this.errstr="SCRIPT_ERR_SIG_HASHTYPE",!1;return!0},Interpreter.prototype.checkPubkeyEncoding=function(e){return(this.flags&Interpreter.SCRIPT_VERIFY_STRICTENC)==0||S.isValid(e)?(this.flags&Interpreter.SCRIPT_VERIFY_WITNESS_PUBKEYTYPE)==0||this.sigversion!=E.Version.WITNESS_V0||!!S.fromBuffer(e).compressed||(this.errstr="SCRIPT_ERR_WITNESS_PUBKEYTYPE",!1):(this.errstr="SCRIPT_ERR_PUBKEYTYPE",!1)},Interpreter.prototype.checkEcdsaSignature=function(e,a,c,u,p){var f=u.toBuffer(),m=new O;m.writeVarintNum(f.length),m.write(f),A.checkState(JSUtil.isNaturalNumber(p));var w=new O().writeUInt64LEBN(new y(p)).toBuffer();return k.verify(this,e,a,c,m.toBuffer(),w)},Interpreter.prototype.checkSchnorrSignature=function(e,a,c,p){if(A.checkArgument(e&&u.isBuffer(e),"Missing sig"),A.checkArgument(a&&u.isBuffer(a),"Missing pubkey"),A.checkArgument(c,"Missing sigversion"),A.checkArgument(p,"Missing execdata"),A.checkArgument(32===a.length,"Schnorr signatures have 32-byte public keys. The caller is responsible for enforcing this."),!(64===e.length||65===e.length))return this.errstr="SCRIPT_ERR_SCHNORR_SIG_SIZE",!1;if(65===e.length&&e[e.length-1]===E.SIGHASH_DEFAULT)return this.errstr="SCRIPT_ERR_SCHNORR_SIG_HASHTYPE",!1;e=E.fromSchnorr(e);let f=T.verify(this.tx,e,a,c,this.nin,p);return f},Interpreter.prototype._evalChecksigPreTapscript=function(e,a){A.checkArgument(this.sigversion===E.Version.BASE||this.sigversion===E.Version.WITNESS_V0,"sigversion must be base or witness_v0");let c={success:!1,result:!1},u=new f().set({chunks:this.script.chunks.slice(this.pbegincodehash)});if(this.sigversion===E.Version.BASE){let a=new f().add(e),p=u.chunks.length;if(u.findAndDelete(a),(p=p==u.chunks.length+1)&&this.flags&Interpreter.SCRIPT_VERIFY_CONST_SCRIPTCODE)return this.errstr="SCRIPT_ERR_SIG_FINDANDDELETE",c}if(!this.checkSignatureEncoding(e)||!this.checkPubkeyEncoding(a))return c;try{let p=E.fromTxFormat(e),f=S.fromBuffer(a,!1);c.success=this.tx.verifySignature(p,f,this.nin,u,this.sigversion,this.satoshis)}catch(e){c.success=!1}return!c.success&&this.flags&Interpreter.SCRIPT_VERIFY_NULLFAIL&&e.length?this.errstr="SCRIPT_ERR_SIG_NULLFAIL":c.result=!0,c},Interpreter.prototype._evalChecksigTapscript=function(e,a){A.checkArgument(this.sigversion==E.Version.TAPSCRIPT,"this.sigversion must by TAPSCRIPT");let c={success:e.length>0,result:!1};if(c.success&&(A.checkState(this.execdata.validationWeightLeftInit,"validationWeightLeftInit is false"),this.execdata.validationWeightLeft-=f.VALIDATION_WEIGHT_PER_SIGOP_PASSED,this.execdata.validationWeightLeft<0))return this.errstr="SCRIPT_ERR_TAPSCRIPT_VALIDATION_WEIGHT",c;if(0===a.length)return this.errstr="SCRIPT_ERR_PUBKEYTYPE",c;if(32==a.length){if(c.success&&!this.tx.checkSchnorrSignature(e,a,this.nin,this.sigversion,this.execdata))return this.errstr="SCRIPT_ERR_SCHNORR_SIG",c}else if((this.flags&Interpreter.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_PUBKEYTYPE)!=0)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_PUBKEYTYPE",c;return c.result=!0,c},Interpreter.prototype._evalCheckSig=function(e,a){switch(this.sigversion){case E.Version.BASE:case E.Version.WITNESS_V0:return this._evalChecksigPreTapscript(e,a);case E.Version.TAPSCRIPT:return this._evalChecksigTapscript(e,a);case E.Version.TAPROOT:throw Error("Called evalCheckSig with a TAPROOT sigversion. Check your implementation")}},Interpreter.prototype.evaluate=function(){if(A.checkArgument(this.sigversion==E.Version.BASE||this.sigversion==E.Version.WITNESS_V0||this.sigversion==E.Version.TAPSCRIPT,"invalid sigversion"),(this.sigversion==E.Version.BASE||this.sigversion==E.Version.WITNESS_V0)&&this.script.toBuffer().length>Interpreter.MAX_SCRIPT_SIZE)return this.errstr="SCRIPT_ERR_SCRIPT_SIZE",!1;try{for(;this.pc<this.script.chunks.length;)if(!this.step())return!1}catch(e){return this.errstr="SCRIPT_ERR_UNKNOWN_ERROR: "+e,!1}return!(this.vfExec.length>0)||(this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1)},Interpreter.prototype.checkLockTime=function(e){return!(!(this.tx.nLockTime<Interpreter.LOCKTIME_THRESHOLD&&e.lt(Interpreter.LOCKTIME_THRESHOLD_BN)||this.tx.nLockTime>=Interpreter.LOCKTIME_THRESHOLD&&e.gte(Interpreter.LOCKTIME_THRESHOLD_BN))||e.gt(new y(this.tx.nLockTime)))&&!!this.tx.inputs[this.nin].isFinal()},Interpreter.prototype.checkSequence=function(e){var a=this.tx.inputs[this.nin].sequenceNumber;if(this.tx.version<2||a&SEQUENCE_LOCKTIME_DISABLE_FLAG)return!1;var c=Interpreter.SEQUENCE_LOCKTIME_TYPE_FLAG|Interpreter.SEQUENCE_LOCKTIME_MASK,u=new y(a&c),p=e.and(c),f=new y(Interpreter.SEQUENCE_LOCKTIME_TYPE_FLAG);return!!(u.lt(f)&&p.lt(f)||u.gte(f)&&p.gte(f))&&p.lte(u)},Interpreter.computeTapleafHash=function(e,a){let c=B.TAPLEAF;return c.writeUInt8(e),c.writeVarintNum(a.length),c.write(a),c.finalize()},Interpreter.computeTaprootMerkleRoot=function(e,a){let c=(e.length-Interpreter.TAPROOT_CONTROL_BASE_SIZE)/Interpreter.TAPROOT_CONTROL_NODE_SIZE,p=a;for(let a=0;a<c;++a){let c=B.TAPBRANCH,f=Interpreter.TAPROOT_CONTROL_BASE_SIZE+Interpreter.TAPROOT_CONTROL_NODE_SIZE*a,m=e.slice(f,f+Interpreter.TAPROOT_CONTROL_NODE_SIZE);-1===u.compare(p,m)?(c.write(p),c.write(m)):(c.write(m),c.write(p)),p=c.finalize()}return p},Interpreter.verifyTaprootCommitment=function(e,a,c){A.checkArgument(e.length>=Interpreter.TAPROOT_CONTROL_BASE_SIZE,"control too short"),A.checkArgument(a.length>=32,"program is too short");try{let u=S.fromX(!1,e.slice(1,Interpreter.TAPROOT_CONTROL_BASE_SIZE)),p=S.fromX(!1,a),f=Interpreter.computeTaprootMerkleRoot(e,c);return p.checkTapTweak(u,f,e)}catch(e){return!1}},Interpreter.prototype.step=function(){var e=(this.flags&Interpreter.SCRIPT_VERIFY_MINIMALDATA)!=0,a=-1===this.vfExec.indexOf(!1);this.execdata=this.execdata||{},this.execdata.codeseparatorPosInit||(this.execdata.codeseparatorPos=new y(4294967295),this.execdata.codeseparatorPosInit=!0);var c=this.script.chunks[this.pc];this.pc++;var u=c.opcodenum;if(p.isUndefined(u))return this.errstr="SCRIPT_ERR_UNDEFINED_OPCODE",!1;if(c.buf&&c.buf.length>Interpreter.MAX_SCRIPT_ELEMENT_SIZE)return this.errstr="SCRIPT_ERR_PUSH_SIZE",!1;if((this.sigversion===E.Version.BASE||this.sigversion===E.Version.WITNESS_V0)&&u>m.OP_16&&++this.nOpCount>201)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;if(u===m.OP_CAT||u===m.OP_SUBSTR||u===m.OP_LEFT||u===m.OP_RIGHT||u===m.OP_INVERT||u===m.OP_AND||u===m.OP_OR||u===m.OP_XOR||u===m.OP_2MUL||u===m.OP_2DIV||u===m.OP_MUL||u===m.OP_DIV||u===m.OP_MOD||u===m.OP_LSHIFT||u===m.OP_RSHIFT)return this.errstr="SCRIPT_ERR_DISABLED_OPCODE",!1;if(u==m.OP_CODESEPARATOR&&this.sigversion===E.Version.BASE&&this.flags&Interpreter.SCRIPT_VERIFY_CONST_SCRIPTCODE)return this.errstr="SCRIPT_ERR_OP_CODESEPARATOR",!1;if(a&&0<=u&&u<=m.OP_PUSHDATA4){if(e&&!this.script.checkMinimalPush(this.pc-1))return this.errstr="SCRIPT_ERR_MINIMALDATA",!1;if(c.buf){if(c.len!==c.buf.length)throw Error("Length of push value not equal to length of data");this.stack.push(c.buf)}else this.stack.push(Interpreter.false)}else if(a||m.OP_IF<=u&&u<=m.OP_ENDIF)switch(u){case m.OP_1NEGATE:case m.OP_1:case m.OP_2:case m.OP_3:case m.OP_4:case m.OP_5:case m.OP_6:case m.OP_7:case m.OP_8:case m.OP_9:case m.OP_10:case m.OP_11:case m.OP_12:case m.OP_13:case m.OP_14:case m.OP_15:case m.OP_16:D=u-(m.OP_1-1),N=new y(D).toScriptNumBuffer(),this.stack.push(N);break;case m.OP_NOP:break;case m.OP_NOP2:case m.OP_CHECKLOCKTIMEVERIFY:if(!(this.flags&Interpreter.SCRIPT_VERIFY_CHECKLOCKTIMEVERIFY)){if(this.flags&Interpreter.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var A=y.fromScriptNumBuffer(this.stack[this.stack.length-1],e,5);if(A.lt(new y(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if(!this.checkLockTime(A))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case m.OP_NOP3:case m.OP_CHECKSEQUENCEVERIFY:if(!(this.flags&Interpreter.SCRIPT_VERIFY_CHECKSEQUENCEVERIFY)){if(this.flags&Interpreter.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var k=y.fromScriptNumBuffer(this.stack[this.stack.length-1],e,5);if(k.lt(new y(0)))return this.errstr="SCRIPT_ERR_NEGATIVE_LOCKTIME",!1;if((k&Interpreter.SEQUENCE_LOCKTIME_DISABLE_FLAG)!=0)break;if(!this.checkSequence(k))return this.errstr="SCRIPT_ERR_UNSATISFIED_LOCKTIME",!1;break;case m.OP_NOP1:case m.OP_NOP4:case m.OP_NOP5:case m.OP_NOP6:case m.OP_NOP7:case m.OP_NOP8:case m.OP_NOP9:case m.OP_NOP10:if(this.flags&Interpreter.SCRIPT_VERIFY_DISCOURAGE_UPGRADABLE_NOPS)return this.errstr="SCRIPT_ERR_DISCOURAGE_UPGRADABLE_NOPS",!1;break;case m.OP_IF:case m.OP_NOTIF:if(Y=!1,a){if(this.stack.length<1)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;if(N=this.stack[this.stack.length-1],this.sigversion===E.Version.TAPSCRIPT&&(N.length>1||1===N.length&&1!==N[0]))return this.errstr="SCRIPT_ERR_TAPSCRIPT_MINIMALIF",!1;if(this.sigversion===E.Version.WITNESS_V0&&this.flags&Interpreter.SCRIPT_VERIFY_MINIMALIF&&((N=this.stack[this.stack.length-1]).length>1||1==N.length&&1!=N[0]))return this.errstr="SCRIPT_ERR_MINIMALIF",!1;Y=Interpreter.castToBool(N),u===m.OP_NOTIF&&(Y=!Y),this.stack.pop()}this.vfExec.push(Y);break;case m.OP_ELSE:if(0===this.vfExec.length)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec[this.vfExec.length-1]=!this.vfExec[this.vfExec.length-1];break;case m.OP_ENDIF:if(0===this.vfExec.length)return this.errstr="SCRIPT_ERR_UNBALANCED_CONDITIONAL",!1;this.vfExec.pop();break;case m.OP_VERIFY:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(N=this.stack[this.stack.length-1],!(Y=Interpreter.castToBool(N)))return this.errstr="SCRIPT_ERR_VERIFY",!1;this.stack.pop();break;case m.OP_RETURN:return this.errstr="SCRIPT_ERR_OP_RETURN",!1;case m.OP_TOALTSTACK:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.altstack.push(this.stack.pop());break;case m.OP_FROMALTSTACK:if(this.altstack.length<1)return this.errstr="SCRIPT_ERR_INVALID_ALTSTACK_OPERATION",!1;this.stack.push(this.altstack.pop());break;case m.OP_2DROP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop(),this.stack.pop();break;case m.OP_2DUP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;R=this.stack[this.stack.length-2],M=this.stack[this.stack.length-1],this.stack.push(R),this.stack.push(M);break;case m.OP_3DUP:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;R=this.stack[this.stack.length-3],M=this.stack[this.stack.length-2];var T=this.stack[this.stack.length-1];this.stack.push(R),this.stack.push(M),this.stack.push(T);break;case m.OP_2OVER:if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;R=this.stack[this.stack.length-4],M=this.stack[this.stack.length-3],this.stack.push(R),this.stack.push(M);break;case m.OP_2ROT:if(this.stack.length<6)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;U=this.stack.splice(this.stack.length-6,2),this.stack.push(U[0]),this.stack.push(U[1]);break;case m.OP_2SWAP:if(this.stack.length<4)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;U=this.stack.splice(this.stack.length-4,2),this.stack.push(U[0]),this.stack.push(U[1]);break;case m.OP_IFDUP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;N=this.stack[this.stack.length-1],(Y=Interpreter.castToBool(N))&&this.stack.push(N);break;case m.OP_DEPTH:N=new y(this.stack.length).toScriptNumBuffer(),this.stack.push(N);break;case m.OP_DROP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.pop();break;case m.OP_DUP:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.push(this.stack[this.stack.length-1]);break;case m.OP_NIP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,1);break;case m.OP_OVER:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.push(this.stack[this.stack.length-2]);break;case m.OP_PICK:case m.OP_ROLL:if(this.stack.length<2||(N=this.stack[this.stack.length-1],D=(L=y.fromScriptNumBuffer(N,e)).toNumber(),this.stack.pop(),D<0||D>=this.stack.length))return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;N=this.stack[this.stack.length-D-1],u===m.OP_ROLL&&this.stack.splice(this.stack.length-D-1,1),this.stack.push(N);break;case m.OP_ROT:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;H=this.stack[this.stack.length-3],F=this.stack[this.stack.length-2];var O=this.stack[this.stack.length-1];this.stack[this.stack.length-3]=F,this.stack[this.stack.length-2]=O,this.stack[this.stack.length-1]=H;break;case m.OP_SWAP:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;H=this.stack[this.stack.length-2],F=this.stack[this.stack.length-1],this.stack[this.stack.length-2]=F,this.stack[this.stack.length-1]=H;break;case m.OP_TUCK:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;this.stack.splice(this.stack.length-2,0,this.stack[this.stack.length-1]);break;case m.OP_SIZE:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;L=new y(this.stack[this.stack.length-1].length),this.stack.push(L.toScriptNumBuffer());break;case m.OP_EQUAL:case m.OP_EQUALVERIFY:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;R=this.stack[this.stack.length-2],M=this.stack[this.stack.length-1];var B=R.toString("hex")===M.toString("hex");if(this.stack.pop(),this.stack.pop(),this.stack.push(B?Interpreter.true:Interpreter.false),u===m.OP_EQUALVERIFY){if(!B)return this.errstr="SCRIPT_ERR_EQUALVERIFY",!1;this.stack.pop()}break;case m.OP_1ADD:case m.OP_1SUB:case m.OP_NEGATE:case m.OP_ABS:case m.OP_NOT:case m.OP_0NOTEQUAL:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(N=this.stack[this.stack.length-1],L=y.fromScriptNumBuffer(N,e),u){case m.OP_1ADD:L=L.add(y.One);break;case m.OP_1SUB:L=L.sub(y.One);break;case m.OP_NEGATE:L=L.neg();break;case m.OP_ABS:0>L.cmp(y.Zero)&&(L=L.neg());break;case m.OP_NOT:L=new y((0===L.cmp(y.Zero))+0);break;case m.OP_0NOTEQUAL:L=new y((0!==L.cmp(y.Zero))+0)}this.stack.pop(),this.stack.push(L.toScriptNumBuffer());break;case m.OP_ADD:case m.OP_SUB:case m.OP_BOOLAND:case m.OP_BOOLOR:case m.OP_NUMEQUAL:case m.OP_NUMEQUALVERIFY:case m.OP_NUMNOTEQUAL:case m.OP_LESSTHAN:case m.OP_GREATERTHAN:case m.OP_LESSTHANOREQUAL:case m.OP_GREATERTHANOREQUAL:case m.OP_MIN:case m.OP_MAX:if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;switch(K=y.fromScriptNumBuffer(this.stack[this.stack.length-2],e),V=y.fromScriptNumBuffer(this.stack[this.stack.length-1],e),L=new y(0),u){case m.OP_ADD:L=K.add(V);break;case m.OP_SUB:L=K.sub(V);break;case m.OP_BOOLAND:L=new y((0!==K.cmp(y.Zero)&&0!==V.cmp(y.Zero))+0);break;case m.OP_BOOLOR:L=new y((0!==K.cmp(y.Zero)||0!==V.cmp(y.Zero))+0);break;case m.OP_NUMEQUAL:case m.OP_NUMEQUALVERIFY:L=new y((0===K.cmp(V))+0);break;case m.OP_NUMNOTEQUAL:L=new y((0!==K.cmp(V))+0);break;case m.OP_LESSTHAN:L=new y((0>K.cmp(V))+0);break;case m.OP_GREATERTHAN:L=new y((K.cmp(V)>0)+0);break;case m.OP_LESSTHANOREQUAL:L=new y((0>=K.cmp(V))+0);break;case m.OP_GREATERTHANOREQUAL:L=new y((K.cmp(V)>=0)+0);break;case m.OP_MIN:L=0>K.cmp(V)?K:V;break;case m.OP_MAX:L=K.cmp(V)>0?K:V}if(this.stack.pop(),this.stack.pop(),this.stack.push(L.toScriptNumBuffer()),u===m.OP_NUMEQUALVERIFY){if(!Interpreter.castToBool(this.stack[this.stack.length-1]))return this.errstr="SCRIPT_ERR_NUMEQUALVERIFY",!1;this.stack.pop()}break;case m.OP_WITHIN:if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;K=y.fromScriptNumBuffer(this.stack[this.stack.length-3],e),V=y.fromScriptNumBuffer(this.stack[this.stack.length-2],e);var C=y.fromScriptNumBuffer(this.stack[this.stack.length-1],e);Y=0>=V.cmp(K)&&0>K.cmp(C),this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(Y?Interpreter.true:Interpreter.false);break;case m.OP_RIPEMD160:case m.OP_SHA1:case m.OP_SHA256:case m.OP_HASH160:case m.OP_HASH256:if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;N=this.stack[this.stack.length-1],u===m.OP_RIPEMD160?J=w.ripemd160(N):u===m.OP_SHA1?J=w.sha1(N):u===m.OP_SHA256?J=w.sha256(N):u===m.OP_HASH160?J=w.sha256ripemd160(N):u===m.OP_HASH256&&(J=w.sha256sha256(N)),this.stack.pop(),this.stack.push(J);break;case m.OP_CODESEPARATOR:this.pbegincodehash=this.pc,this.execdata.codeseparatorPos=this.pc-1;break;case m.OP_CHECKSIG:case m.OP_CHECKSIGVERIFY:{if(this.stack.length<2)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;G=this.stack[this.stack.length-2],z=this.stack[this.stack.length-1];let{success:e,result:a}=this._evalCheckSig(G,z);if(!a)return!1;if(this.stack.pop(),this.stack.pop(),this.stack.push(e?Interpreter.true:Interpreter.false),u===m.OP_CHECKSIGVERIFY){if(!e)return this.errstr="SCRIPT_ERR_CHECKSIGVERIFY",!1;this.stack.pop()}}break;case m.OP_CHECKSIGADD:{if(this.sigversion==E.Version.BASE||this.sigversion==E.Version.WITNESS_V0)return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1;if(this.stack.length<3)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;let a=this.stack[this.stack.length-3],c=this.stack[this.stack.length-2],u=this.stack[this.stack.length-1];c=y.fromScriptNumBuffer(c,e);let{success:p,result:f}=this._evalCheckSig(a,u);if(!f)return!1;this.stack.pop(),this.stack.pop(),this.stack.pop(),this.stack.push(c.addn(p?1:0).toScriptNumBuffer())}break;case m.OP_CHECKMULTISIG:case m.OP_CHECKMULTISIGVERIFY:var N,R,M,U,D,H,F,L,K,V,G,z,q,W,Q,Y,Z,J,X,$=1;if(this.stack.length<$)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var tt=y.fromScriptNumBuffer(this.stack[this.stack.length-$],e).toNumber();if(tt<0||tt>20)return this.errstr="SCRIPT_ERR_PUBKEY_COUNT",!1;if(this.nOpCount+=tt,this.nOpCount>201)return this.errstr="SCRIPT_ERR_OP_COUNT",!1;var te=++$;$+=tt;var tr=tt+2;if(this.stack.length<$)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;var tn=y.fromScriptNumBuffer(this.stack[this.stack.length-$],e).toNumber();if(tn<0||tn>tt)return this.errstr="SCRIPT_ERR_SIG_COUNT",!1;var ti=++$;if($+=tn,this.stack.length<$)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;q=new f().set({chunks:this.script.chunks.slice(this.pbegincodehash)});for(var ts=0;ts<tn;ts++)G=this.stack[this.stack.length-ti-ts],q.findAndDelete(new f().add(G));for(Z=!0;Z&&tn>0;){if(G=this.stack[this.stack.length-ti],z=this.stack[this.stack.length-te],!this.checkSignatureEncoding(G)||!this.checkPubkeyEncoding(z))return!1;try{W=E.fromTxFormat(G),Q=S.fromBuffer(z,!1),X=this.tx.verifySignature(W,Q,this.nin,q,this.sigversion,this.satoshis,this.execdata)}catch(e){X=!1}X&&(ti++,tn--),te++,tn>--tt&&(Z=!1)}for(;$-- >1;){if(!Z&&this.flags&Interpreter.SCRIPT_VERIFY_NULLFAIL&&!tr&&this.stack[this.stack.length-1].length)return this.errstr="SCRIPT_ERR_NULLFAIL",!1;tr>0&&tr--,this.stack.pop()}if(this.stack.length<1)return this.errstr="SCRIPT_ERR_INVALID_STACK_OPERATION",!1;if(this.flags&Interpreter.SCRIPT_VERIFY_NULLDUMMY&&this.stack[this.stack.length-1].length)return this.errstr="SCRIPT_ERR_SIG_NULLDUMMY",!1;if(this.stack.pop(),this.stack.push(Z?Interpreter.true:Interpreter.false),u===m.OP_CHECKMULTISIGVERIFY){if(!Z)return this.errstr="SCRIPT_ERR_CHECKMULTISIGVERIFY",!1;this.stack.pop()}break;default:return this.errstr="SCRIPT_ERR_BAD_OPCODE",!1}return!(this.stack.length+this.altstack.length>Interpreter.MAX_STACK_SIZE)||(this.errstr="SCRIPT_ERR_STACK_SIZE",!1)}},32121:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(17586),f=c(47851),m=c(6244),y=c(75327),w=c(46136),E=c(81633),S=c(7099),A=c(84454),k=c(4682),T=c(2890),O=c(72700),B=c(61302),C=c(27606);let N=c(4182);var Script=function Script(e){return this instanceof Script?(this.chunks=[],B.isBuffer(e))?Script.fromBuffer(e):e instanceof p?Script.fromAddress(e):e instanceof Script?Script.fromBuffer(e.toBuffer()):"string"==typeof e?Script.fromString(e):void(T.isObject(e)&&Array.isArray(e.chunks)&&this.set(e)):new Script(e)};Script.prototype.set=function(e){return k.checkArgument(T.isObject(e)),k.checkArgument(Array.isArray(e.chunks)),this.chunks=e.chunks,this},Script.fromBuffer=function(e){var a=new Script;a.chunks=[];for(var c=new f(e);!c.finished();)try{var u,p,m=c.readUInt8();m>0&&m<w.OP_PUSHDATA1?(u=m,a.chunks.push({buf:c.read(u),len:u,opcodenum:m})):m===w.OP_PUSHDATA1?(u=c.readUInt8(),p=c.read(u),a.chunks.push({buf:p,len:u,opcodenum:m})):m===w.OP_PUSHDATA2?(u=c.readUInt16LE(),p=c.read(u),a.chunks.push({buf:p,len:u,opcodenum:m})):m===w.OP_PUSHDATA4?(u=c.readUInt32LE(),p=c.read(u),a.chunks.push({buf:p,len:u,opcodenum:m})):w.isOpSuccess(m)?(u=(p=c.readAll()).length,a.chunks.push({buf:p,len:u,opcodenum:m})):a.chunks.push({opcodenum:m})}catch(a){if(a instanceof RangeError)throw new O.Script.InvalidBuffer(e.toString("hex"));throw a}return a},Script.prototype.toBuffer=function(){for(var e=new m,a=0;a<this.chunks.length;a++){var c=this.chunks[a],u=c.opcodenum;e.writeUInt8(c.opcodenum),c.buf&&(u<w.OP_PUSHDATA1||(u===w.OP_PUSHDATA1?e.writeUInt8(c.len):u===w.OP_PUSHDATA2?e.writeUInt16LE(c.len):u===w.OP_PUSHDATA4&&e.writeUInt32LE(c.len)),e.write(c.buf))}return e.concat()},Script.fromASM=function(e){var a=new Script;a.chunks=[];for(var c=e.split(" "),p=0;p<c.length;){var f=w(c[p]).toNumber();if(null==f){var m=u.from(c[p],"hex");a.chunks.push({buf:m,len:m.length,opcodenum:m.length}),p+=1}else f===w.OP_PUSHDATA1||f===w.OP_PUSHDATA2||f===w.OP_PUSHDATA4?(a.chunks.push({buf:u.from(c[p+2],"hex"),len:parseInt(c[p+1]),opcodenum:f}),p+=3):(a.chunks.push({opcodenum:f}),p+=1)}return a},Script.fromHex=function(e){return new Script(u.from(e,"hex"))},Script.fromString=function(e){if(C.isHexa(e)||0===e.length)return new Script(u.from(e,"hex"));var a=new Script;a.chunks=[];for(var c=e.split(" "),p=0;p<c.length;){var f=c[p],m=w(f).toNumber();if(null==m){if((m=parseInt(f))>0&&m<w.OP_PUSHDATA1)a.chunks.push({buf:u.from(c[p+1].slice(2),"hex"),len:m,opcodenum:m}),p+=2;else throw Error("Invalid script: "+JSON.stringify(e))}else if(m===w.OP_PUSHDATA1||m===w.OP_PUSHDATA2||m===w.OP_PUSHDATA4){if("0x"!==c[p+2].slice(0,2))throw Error("Pushdata data must start with 0x");a.chunks.push({buf:u.from(c[p+2].slice(2),"hex"),len:parseInt(c[p+1]),opcodenum:m}),p+=3}else a.chunks.push({opcodenum:m}),p+=1}return a},Script.prototype._chunkToString=function(e,a){var c=e.opcodenum,u="asm"===a,p="";if(e.buf)(u||c!==w.OP_PUSHDATA1)&&c!==w.OP_PUSHDATA2&&c!==w.OP_PUSHDATA4||(p=p+" "+w(c).toString()),e.len>0&&(p=u?p+" "+e.buf.toString("hex"):p+" "+e.len+" 0x"+e.buf.toString("hex"));else if(void 0!==w.reverseMap[c])u?0===c?p+=" 0":79===c?p+=" -1":p=p+" "+w(c).toString():p=p+" "+w(c).toString();else{var f=c.toString(16);f.length%2!=0&&(f="0"+f),p=u?p+" "+f:p+" 0x"+f}return p},Script.prototype.toASM=function(){for(var e="",a=0;a<this.chunks.length;a++){var c=this.chunks[a];e+=this._chunkToString(c,"asm")}return e.substr(1)},Script.prototype.toString=function(){for(var e="",a=0;a<this.chunks.length;a++){var c=this.chunks[a];e+=this._chunkToString(c)}return e.substr(1)},Script.prototype.toHex=function(){return this.toBuffer().toString("hex")},Script.prototype.inspect=function(){return"<Script: "+this.toString()+">"},Script.prototype.isPublicKeyHashOut=function(){return!!(5===this.chunks.length&&this.chunks[0].opcodenum===w.OP_DUP&&this.chunks[1].opcodenum===w.OP_HASH160&&this.chunks[2].buf&&20===this.chunks[2].buf.length&&this.chunks[3].opcodenum===w.OP_EQUALVERIFY&&this.chunks[4].opcodenum===w.OP_CHECKSIG)},Script.prototype.isPublicKeyHashIn=function(){if(2===this.chunks.length){var e=this.chunks[0].buf,a=this.chunks[1].buf;if(e&&e.length&&48===e[0]&&a&&a.length){var c=a[0];if((4===c||6===c||7===c)&&65===a.length||(3===c||2===c)&&33===a.length)return!0}}return!1},Script.prototype.getPublicKey=function(){return k.checkState(this.isPublicKeyOut(),"Can't retrieve PublicKey from a non-PK output"),this.chunks[0].buf},Script.prototype.getPublicKeyHash=function(){if(this.isPublicKeyHashOut())return this.chunks[2].buf;if(this.isWitnessPublicKeyHashOut()||this.isTaproot())return this.chunks[1].buf;throw Error("Can't retrieve PublicKeyHash from a non-PKH output")},Script.prototype.isPublicKeyOut=function(){if(2===this.chunks.length&&this.chunks[0].buf&&this.chunks[0].buf.length&&this.chunks[1].opcodenum===w.OP_CHECKSIG){var e=this.chunks[0].buf,a=e[0],c=!1;if((4===a||6===a||7===a)&&65===e.length?c=!0:(3===a||2===a)&&33===e.length&&(c=!0),c)return E.isValid(e)}return!1},Script.prototype.isPublicKeyIn=function(){if(1===this.chunks.length){var e=this.chunks[0].buf;if(e&&e.length&&48===e[0])return!0}return!1},Script.prototype.isScriptHashOut=function(){var e=this.toBuffer();return 23===e.length&&e[0]===w.OP_HASH160&&20===e[1]&&e[e.length-1]===w.OP_EQUAL},Script.prototype.isWitnessScriptHashOut=function(){var e=this.toBuffer();return 34===e.length&&e[0]===w.OP_0&&32===e[1]},Script.prototype.isWitnessPublicKeyHashOut=function(){var e=this.toBuffer();return 22===e.length&&e[0]===w.OP_0&&20===e[1]},Script.prototype.isTaproot=function(){var e=this.toBuffer();return 34===e.length&&e[0]===w.OP_1&&32===e[1]},Script.prototype.isWitnessProgram=function(e){e||(e={});var a=this.toBuffer();return!(a.length<4)&&!(a.length>42)&&(a[0]===w.OP_0||!!(a[0]>=w.OP_1&&a[0]<=w.OP_16))&&a.length===a[1]+2&&(e.version=w.decodeOpN(a[0]),e.program=a.slice(2,a.length),!0)},Script.prototype.isScriptHashIn=function(){if(this.chunks.length<=1)return!1;var e,a=this.chunks[this.chunks.length-1].buf;if(!a)return!1;try{e=Script.fromBuffer(a)}catch(e){if(e instanceof O.Script.InvalidBuffer)return!1;throw e}return e.classify()!==Script.types.UNKNOWN},Script.prototype.isMultisigOut=function(){return this.chunks.length>3&&w.isSmallIntOp(this.chunks[0].opcodenum)&&this.chunks.slice(1,this.chunks.length-2).every(function(e){return e.buf&&B.isBuffer(e.buf)})&&w.isSmallIntOp(this.chunks[this.chunks.length-2].opcodenum)&&this.chunks[this.chunks.length-1].opcodenum===w.OP_CHECKMULTISIG},Script.prototype.isMultisigIn=function(){return this.chunks.length>=2&&0===this.chunks[0].opcodenum&&this.chunks.slice(1,this.chunks.length).every(function(e){return e.buf&&B.isBuffer(e.buf)&&S.isTxDER(e.buf)})},Script.prototype.isDataOut=function(){return this.chunks.length>=1&&this.chunks[0].opcodenum===w.OP_RETURN&&(1===this.chunks.length||2===this.chunks.length&&this.chunks[1].buf&&this.chunks[1].buf.length<=Script.OP_RETURN_STANDARD_SIZE&&this.chunks[1].length===this.chunks.len)},Script.prototype.getData=function(){if(this.isDataOut()||this.isScriptHashOut()||this.isWitnessScriptHashOut()||this.isWitnessPublicKeyHashOut()||this.isTaproot())return null==this.chunks[1]?u.alloc(0):u.from(this.chunks[1].buf);if(this.isPublicKeyHashOut())return u.from(this.chunks[2].buf);throw Error("Unrecognized script type to get data from")},Script.prototype.isPushOnly=function(){return this.chunks.every(function(e){return e.opcodenum<=w.OP_16})},Script.types={},Script.types.UNKNOWN="Unknown",Script.types.PUBKEY_OUT="Pay to public key",Script.types.PUBKEY_IN="Spend from public key",Script.types.PUBKEYHASH_OUT="Pay to public key hash",Script.types.PUBKEYHASH_IN="Spend from public key hash",Script.types.SCRIPTHASH_OUT="Pay to script hash",Script.types.SCRIPTHASH_IN="Spend from script hash",Script.types.MULTISIG_OUT="Pay to multisig",Script.types.MULTISIG_IN="Spend from multisig",Script.types.DATA_OUT="Data push",Script.OP_RETURN_STANDARD_SIZE=80,Script.ANNEX_TAG=80,Script.VALIDATION_WEIGHT_PER_SIGOP_PASSED=50,Script.VALIDATION_WEIGHT_OFFSET=50,Script.prototype.classify=function(){if(this._isInput)return this.classifyInput();if(this._isOutput)return this.classifyOutput();var e=this.classifyOutput();return e!=Script.types.UNKNOWN?e:this.classifyInput()},Script.outputIdentifiers={},Script.outputIdentifiers.PUBKEY_OUT=Script.prototype.isPublicKeyOut,Script.outputIdentifiers.PUBKEYHASH_OUT=Script.prototype.isPublicKeyHashOut,Script.outputIdentifiers.MULTISIG_OUT=Script.prototype.isMultisigOut,Script.outputIdentifiers.SCRIPTHASH_OUT=Script.prototype.isScriptHashOut,Script.outputIdentifiers.DATA_OUT=Script.prototype.isDataOut,Script.prototype.classifyOutput=function(){for(var e in Script.outputIdentifiers)if(Script.outputIdentifiers[e].bind(this)())return Script.types[e];return Script.types.UNKNOWN},Script.inputIdentifiers={},Script.inputIdentifiers.PUBKEY_IN=Script.prototype.isPublicKeyIn,Script.inputIdentifiers.PUBKEYHASH_IN=Script.prototype.isPublicKeyHashIn,Script.inputIdentifiers.MULTISIG_IN=Script.prototype.isMultisigIn,Script.inputIdentifiers.SCRIPTHASH_IN=Script.prototype.isScriptHashIn,Script.prototype.classifyInput=function(){for(var e in Script.inputIdentifiers)if(Script.inputIdentifiers[e].bind(this)())return Script.types[e];return Script.types.UNKNOWN},Script.prototype.isStandard=function(){return this.classify()!==Script.types.UNKNOWN},Script.prototype.prepend=function(e){return this._addByType(e,!0),this},Script.prototype.equals=function(e){var a;if(k.checkState(e instanceof Script,"Must provide another script"),this.chunks.length!==e.chunks.length)return!1;for(a=0;a<this.chunks.length;a++)if(B.isBuffer(this.chunks[a].buf)&&!B.isBuffer(e.chunks[a].buf)||B.isBuffer(this.chunks[a].buf)&&!B.equals(this.chunks[a].buf,e.chunks[a].buf)||this.chunks[a].opcodenum!==e.chunks[a].opcodenum)return!1;return!0},Script.prototype.add=function(e){return this._addByType(e,!1),this},Script.prototype._addByType=function(e,a){if("string"==typeof e)this._addOpcode(e,a);else if("number"==typeof e)this._addOpcode(e,a);else if(e instanceof w)this._addOpcode(e,a);else if(B.isBuffer(e))this._addBuffer(e,a);else if(e instanceof Script)this.chunks=this.chunks.concat(e.chunks);else if("object"==typeof e)this._insertAtPosition(e,a);else throw Error("Invalid script chunk")},Script.prototype._insertAtPosition=function(e,a){a?this.chunks.unshift(e):this.chunks.push(e)},Script.prototype._addOpcode=function(e,a){var c;return c="number"==typeof e?e:e instanceof w?e.toNumber():w(e).toNumber(),this._insertAtPosition({opcodenum:c},a),this},Script.prototype._addBuffer=function(e,a){var c,u=e.length;if(u>=0&&u<w.OP_PUSHDATA1)c=u;else if(u<256)c=w.OP_PUSHDATA1;else if(u<65536)c=w.OP_PUSHDATA2;else if(u<4294967296)c=w.OP_PUSHDATA4;else throw Error("You can't push that much data");return this._insertAtPosition({buf:e,len:u,opcodenum:c},a),this},Script.prototype.hasCodeseparators=function(){for(var e=0;e<this.chunks.length;e++)if(this.chunks[e].opcodenum===w.OP_CODESEPARATOR)return!0;return!1},Script.prototype.removeCodeseparators=function(){for(var e=[],a=0;a<this.chunks.length;a++)this.chunks[a].opcodenum!==w.OP_CODESEPARATOR&&e.push(this.chunks[a]);return this.chunks=e,this},Script.buildMultisigOut=function(e,a,c){k.checkArgument(a<=e.length,"Number of required signatures must be less than or equal to the number of public keys"),c=c||{};var u=new Script;u.add(w.smallInt(a));var p=e=e.map(E);c.noSorting||(p=T.sortBy(e,function(e){return e.toString("hex")}));for(var f=0;f<p.length;f++){var m=p[f];u.add(m.toBuffer())}return u.add(w.smallInt(e.length)),u.add(w.OP_CHECKMULTISIG),u},Script.buildWitnessMultisigOutFromScript=function(e){if(e instanceof Script){var a=new Script;return a.add(w.OP_0),a.add(y.sha256(e.toBuffer())),a}throw TypeError("First argument is expected to be a p2sh script")},Script.buildMultisigIn=function(e,a,c,u){k.checkArgument(Array.isArray(e)),k.checkArgument(!isNaN(a)),k.checkArgument(Array.isArray(c)),u=u||{};var p=new Script;for(let e of(p.add(w.OP_0),c))k.checkArgument(B.isBuffer(e),"Signatures must be an array of Buffers"),p.add(e);return p},Script.buildP2SHMultisigIn=function(e,a,c,u){k.checkArgument(Array.isArray(e)),k.checkArgument(!isNaN(a)),k.checkArgument(Array.isArray(c)),u=u||{};var p=new Script;for(let e of(p.add(w.OP_0),c))k.checkArgument(B.isBuffer(e),"Signatures must be an array of Buffers"),p.add(e);return p.add((u.cachedMultisig||Script.buildMultisigOut(e,a,u)).toBuffer()),p},Script.buildPublicKeyHashOut=function(e){k.checkArgument(null!=e),k.checkArgument(e instanceof E||e instanceof p||"string"==typeof e),e instanceof E?e=e.toAddress():"string"==typeof e&&(e=new p(e));var a=new Script;return a.add(w.OP_DUP).add(w.OP_HASH160).add(e.hashBuffer).add(w.OP_EQUALVERIFY).add(w.OP_CHECKSIG),a._network=e.network,a},Script.buildWitnessV0Out=function(e){k.checkArgument(null!=e),k.checkArgument(e instanceof E||e instanceof p||"string"==typeof e),e instanceof E?e=e.toAddress(null,p.PayToWitnessPublicKeyHash):"string"==typeof e&&(e=new p(e));var a=new Script;return a.add(w.OP_0).add(e.hashBuffer),a._network=e.network,a},Script.buildWitnessV1Out=function(e,a){let c;k.checkArgument(e instanceof E||e instanceof p||"string"==typeof e),k.checkArgument(!a||Array.isArray(a)||!!a.script),"string"==typeof e&&(e=E.fromTaproot(e));let f=null;if(a){let[e,c]=function buildTree(e){if(Array.isArray(e)){let[a,c]=buildTree(e[0]),[u,p]=buildTree(e[1]),f=[[[a[0],a[1]],p],[[u[0],u[1]],c]],m=N.TAPBRANCH;return 1===c.compare(p)?(m.write(p),m.write(c)):(m.write(c),m.write(p)),[f,m.finalize()]}{let{leafVersion:a,script:c}=e,p=new Script(c).toBuffer(),f=N.TAPLEAF;f.writeUInt8(a),f.writeUInt8(p.length),f.write(p);let m=f.finalize();return[[u.from([a]),p],m]}}(a);f=c}c=e instanceof E?e.createTapTweak(f).tweakedPubKey:e.hashBuffer;let m=new Script;return m.add(w.OP_1),m.add(c),m},Script.buildPublicKeyOut=function(e){k.checkArgument(e instanceof E);var a=new Script;return a.add(e.toBuffer()).add(w.OP_CHECKSIG),a},Script.buildDataOut=function(e,a){k.checkArgument(null==e||"string"==typeof e||B.isBuffer(e)),"string"==typeof e&&(e=u.from(e,a));var c=new Script;return c.add(w.OP_RETURN),null!=e&&c.add(e),c},Script.buildScriptHashOut=function(e){k.checkArgument(e instanceof Script||e instanceof p&&e.isPayToScriptHash());var a=new Script;return a.add(w.OP_HASH160).add(e instanceof p?e.hashBuffer:y.sha256ripemd160(e.toBuffer())).add(w.OP_EQUAL),a._network=e._network||e.network,a},Script.buildPublicKeyIn=function(e,a){k.checkArgument(e instanceof S||B.isBuffer(e)),k.checkArgument(null==a||!isNaN(a)),e instanceof S&&(e=e.toBuffer());var c=new Script;return c.add(B.concat([e,B.integerAsSingleByteBuffer(a||S.SIGHASH_ALL)])),c},Script.buildPublicKeyHashIn=function(e,a,c){return k.checkArgument(a instanceof S||B.isBuffer(a)),k.checkArgument(null==c||!isNaN(c)),a instanceof S&&(a=a.toBuffer()),new Script().add(B.concat([a,B.integerAsSingleByteBuffer(c||S.SIGHASH_ALL)])).add(new E(e).toBuffer())},Script.empty=function(){return new Script},Script.prototype.toScriptHashOut=function(){return Script.buildScriptHashOut(this)},Script.fromAddress=function(e){if((e=p(e)).isPayToScriptHash())return Script.buildScriptHashOut(e);if(e.isPayToPublicKeyHash())return Script.buildPublicKeyHashOut(e);if(e.isPayToWitnessPublicKeyHash()||e.isPayToWitnessScriptHash())return Script.buildWitnessV0Out(e);if(e.isPayToTaproot())return Script.buildWitnessV1Out(e);throw new O.Script.UnrecognizedAddress(e)},Script.prototype.getAddressInfo=function(e){return this._isInput?this._getInputAddressInfo():this._isOutput?this._getOutputAddressInfo():this._getOutputAddressInfo()||this._getInputAddressInfo()},Script.prototype._getOutputAddressInfo=function(){var e={};if(this.isScriptHashOut())e.hashBuffer=this.getData(),e.type=p.PayToScriptHash;else if(this.isPublicKeyHashOut())e.hashBuffer=this.getData(),e.type=p.PayToPublicKeyHash;else if(this.isWitnessScriptHashOut())e.hashBuffer=this.getData(),e.type=p.PayToWitnessScriptHash;else if(this.isWitnessPublicKeyHashOut())e.hashBuffer=this.getData(),e.type=p.PayToWitnessPublicKeyHash;else{if(!this.isTaproot())return!1;e.hashBuffer=this.getData(),e.type=p.PayToTaproot}return e},Script.prototype._getInputAddressInfo=function(){var e={};if(this.isPublicKeyHashIn())e.hashBuffer=y.sha256ripemd160(this.chunks[1].buf),e.type=p.PayToPublicKeyHash;else{if(!this.isScriptHashIn())return!1;e.hashBuffer=y.sha256ripemd160(this.chunks[this.chunks.length-1].buf),e.type=p.PayToScriptHash}return e},Script.prototype.toAddress=function(e){var a=this.getAddressInfo();return!!a&&(a.network=A.get(e)||this._network||A.defaultNetwork,new p(a))},Script.prototype.findAndDelete=function(e){for(var a=e.toBuffer().toString("hex"),c=0;c<this.chunks.length;c++)a===Script({chunks:[this.chunks[c]]}).toBuffer().toString("hex")&&this.chunks.splice(c,1);return this},Script.prototype.checkMinimalPush=function(e){var a=this.chunks[e],c=a.buf,u=a.opcodenum;return!c||(0===c.length?u===w.OP_0:1===c.length&&c[0]>=1&&c[0]<=16?u===w.OP_1+(c[0]-1):1===c.length&&129===c[0]?u===w.OP_1NEGATE:c.length<=75?u===c.length:c.length<=255?u===w.OP_PUSHDATA1:!(c.length<=65535)||u===w.OP_PUSHDATA2)},Script.prototype.getSignatureOperationsCount=function(e){e=null==e||e;var a=0,c=w.OP_INVALIDOPCODE;for(let p of this.chunks){var u=p.opcodenum;u==w.OP_CHECKSIG||u==w.OP_CHECKSIGVERIFY?a++:(u==w.OP_CHECKMULTISIG||u==w.OP_CHECKMULTISIGVERIFY)&&(e&&c>=w.OP_1&&c<=w.OP_16?a+=w.decodeOpN(c):a+=20),c=u}return a},e.exports=Script},33519:function(e,a,c){e.exports=c(19209),e.exports.Input=c(54019),e.exports.Output=c(8437),e.exports.UnspentOutput=c(27591),e.exports.Signature=c(11291),e.exports.Sighash=c(80624),e.exports.SighashWitness=c(98986)},54019:function(e,a,c){e.exports=c(31527),e.exports.PublicKey=c(50766),e.exports.PublicKeyHash=c(69569),e.exports.MultiSig=c(6458),e.exports.MultiSigScriptHash=c(36325),e.exports.Taproot=c(2556)},31527:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(2890),f=c(4682);let m=c(72700);var y=c(6244);c(67133);var w=c(61302),E=c(27606),S=c(17566),A=c(80624),k=c(8437);function Input(e){return this instanceof Input?e?this._fromObject(e):void 0:new Input(e)}Input.MAXINT=4294967295,Input.DEFAULT_SEQNUMBER=4294967295,Input.DEFAULT_LOCKTIME_SEQNUMBER=4294967294,Input.DEFAULT_RBF_SEQNUMBER=4294967293,Input.SEQUENCE_LOCKTIME_TYPE_FLAG=4194304,Object.defineProperty(Input.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this.isNull()?null:(this._script||(this._script=new S(this._scriptBuffer),this._script._isInput=!0),this._script)}}),Input.fromObject=function(e){return f.checkArgument(p.isObject(e)),new Input()._fromObject(e)},Input.prototype._fromObject=function(e){var a;if(a="string"==typeof e.prevTxId&&E.isHexa(e.prevTxId)?u.from(e.prevTxId,"hex"):e.prevTxId,this.witnesses=[],this.output=e.output?e.output instanceof k?e.output:new k(e.output):void 0,this.prevTxId=a||e.txidbuf,this.outputIndex=null==e.outputIndex?e.txoutnum:e.outputIndex,this.sequenceNumber=null==e.sequenceNumber?null==e.seqnum?4294967295:e.seqnum:e.sequenceNumber,void 0===e.script&&void 0===e.scriptBuffer)throw new m.Transaction.Input.MissingScript;return this.setScript(e.scriptBuffer||e.script),this},Input.prototype.toObject=Input.prototype.toJSON=function(){var e={prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,sequenceNumber:this.sequenceNumber,script:this._scriptBuffer.toString("hex")};return this.script&&(e.scriptString=this.script.toString()),this.output&&(e.output=this.output.toObject()),e},Input.fromBufferReader=function(e){var a=new Input;return a.prevTxId=e.readReverse(32),a.outputIndex=e.readUInt32LE(),a._scriptBuffer=e.readVarLengthBuffer(),a.sequenceNumber=e.readUInt32LE(),a},Input.prototype.toBufferWriter=function(e){e||(e=new y),e.writeReverse(this.prevTxId),e.writeUInt32LE(this.outputIndex);var a=this._scriptBuffer;return e.writeVarintNum(a.length),e.write(a),e.writeUInt32LE(this.sequenceNumber),e},Input.prototype.setScript=function(e){if(this._script=null,e instanceof S)this._script=e,this._script._isInput=!0,this._scriptBuffer=e.toBuffer();else if(E.isHexa(e))this._scriptBuffer=u.from(e,"hex");else if(p.isString(e))this._script=new S(e),this._script._isInput=!0,this._scriptBuffer=this._script.toBuffer();else if(w.isBuffer(e))this._scriptBuffer=u.from(e);else throw TypeError("Invalid argument type: script");return this},Input.prototype.getSignatures=function(){throw new m.AbstractMethodInvoked("Trying to sign unsupported output type (only P2PKH and P2SH multisig inputs are supported) for input: "+JSON.stringify(this))},Input.prototype.getSatoshisBuffer=function(){return f.checkState(this.output instanceof k),f.checkState(this.output._satoshisBN),new y().writeUInt64LEBN(this.output._satoshisBN).toBuffer()},Input.prototype.isFullySigned=function(){throw new m.AbstractMethodInvoked("Input#isFullySigned")},Input.prototype.isFinal=function(){return this.sequenceNumber!==Input.MAXINT},Input.prototype.addSignature=function(){throw new m.AbstractMethodInvoked("Input#addSignature")},Input.prototype.clearSignatures=function(){throw new m.AbstractMethodInvoked("Input#clearSignatures")},Input.prototype.hasWitnesses=function(){return!!this.witnesses&&this.witnesses.length>0},Input.prototype.getWitnesses=function(){return this.witnesses},Input.prototype.setWitnesses=function(e){this.witnesses=e},Input.prototype.isValidSignature=function(e,a,c){return c=c||"ecdsa",a.signature.nhashtype=a.sigtype,A.verify(e,a.signature,a.publicKey,a.inputIndex,this.output.script)},Input.prototype.isNull=function(){return"0000000000000000000000000000000000000000000000000000000000000000"===this.prevTxId.toString("hex")&&4294967295===this.outputIndex},Input.prototype._estimateSize=function(){return this.toBufferWriter().toBuffer().length},Input.prototype._getBaseSize=function(){return 40},Input.prototype.lockForSeconds=function(e){if(f.checkArgument(p.isNumber(e)),e<0||e>=33553920)throw new m.Transaction.Input.LockTimeRange;return e=parseInt(Math.floor(e/512)),this.sequenceNumber=4194304|e,this},Input.prototype.lockUntilBlockHeight=function(e){if(f.checkArgument(p.isNumber(e)),e<0||e>=65535)throw new m.Transaction.Input.BlockHeightOutOfRange;return this.sequenceNumber=e,this},Input.prototype.getLockTime=function(){return 2147483648&this.sequenceNumber?null:4194304&this.sequenceNumber?512*(65535&this.sequenceNumber):65535&this.sequenceNumber},e.exports=Input},6458:function(e,a,c){"use strict";var u=c(2890),p=c(72259);c(19209);var f=c(31527),m=c(8437),y=c(4682),w=c(17566),E=c(7099),S=c(80624);c(81633);var A=c(61302),k=c(11291);function MultiSigInput(e,a,c,p,m){m=m||{},f.apply(this,arguments);var E=this;a=a||e.publicKeys,c=c||e.threshold,p=p||e.signatures,m.noSorting?this.publicKeys=a:this.publicKeys=u.sortBy(a,function(e){return e.toString("hex")}),y.checkState(w.buildMultisigOut(this.publicKeys,c).equals(this.output.script),"Provided public keys don't match to the provided output script"),this.publicKeyIndex={},u.each(this.publicKeys,function(e,a){E.publicKeyIndex[e.toString()]=a}),this.threshold=c,this.signatures=p?this._deserializeSignatures(p):Array(this.publicKeys.length)}p(MultiSigInput,f),MultiSigInput.prototype.toObject=function(){var e=f.prototype.toObject.apply(this,arguments);return e.threshold=this.threshold,e.publicKeys=u.map(this.publicKeys,function(e){return e.toString()}),e.signatures=this._serializeSignatures(),e},MultiSigInput.prototype._deserializeSignatures=function(e){return u.map(e,function(e){if(e)return new k(e)})},MultiSigInput.prototype._serializeSignatures=function(){return u.map(this.signatures,function(e){if(e)return e.toObject()})},MultiSigInput.prototype.getSignatures=function(e,a,c,u,p,f,w){y.checkState(this.output instanceof m),u=u||E.SIGHASH_ALL,f=f||"ecdsa";let A=[];for(let p of this.publicKeys||[])p.toString()===a.publicKey.toString()&&A.push(new k({publicKey:a.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:c,signature:S.sign(e,a,u,c,this.output.script),sigtype:u}));return A},MultiSigInput.prototype.addSignature=function(e,a,c){return y.checkState(!this.isFullySigned(),"All needed signatures have already been added"),y.checkArgument(!u.isUndefined(this.publicKeyIndex[a.publicKey.toString()],"Signature Undefined"),"Signature has no matching public key"),y.checkState(this.isValidSignature(e,a,c),"Invalid Signature"),this.signatures[this.publicKeyIndex[a.publicKey.toString()]]=a,this._updateScript(),this},MultiSigInput.prototype._updateScript=function(){return this.setScript(w.buildMultisigIn(this.publicKeys,this.threshold,this._createSignatures())),this},MultiSigInput.prototype._createSignatures=function(){return u.map(u.filter(this.signatures,function(e){return!u.isUndefined(e)}),function(e){return A.concat([e.signature.toDER(),A.integerAsSingleByteBuffer(e.sigtype)])})},MultiSigInput.prototype.clearSignatures=function(){this.signatures=Array(this.publicKeys.length),this._updateScript()},MultiSigInput.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},MultiSigInput.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},MultiSigInput.prototype.countSignatures=function(){return u.reduce(this.signatures,function(e,a){return e+!!a},0)},MultiSigInput.prototype.publicKeysWithoutSignature=function(){var e=this;return u.filter(this.publicKeys,function(a){return!e.signatures[e.publicKeyIndex[a.toString()]]})},MultiSigInput.prototype.isValidSignature=function(e,a,c){return c=c||"ecdsa",a.signature.nhashtype=a.sigtype,S.verify(e,a.signature,a.publicKey,a.inputIndex,this.output.script)},MultiSigInput.normalizeSignatures=function(e,a,c,u,p,f){return f=f||"ecdsa",p.map(function(p){var f=null;return u=u.filter(function(u){if(f)return!0;var m=new k({signature:E.fromTxFormat(u),publicKey:p,prevTxId:a.prevTxId,outputIndex:a.outputIndex,inputIndex:c,sigtype:E.SIGHASH_ALL});return m.signature.nhashtype=m.sigtype,!S.verify(e,m.signature,m.publicKey,m.inputIndex,a.output.script)||(f=m,!1)}),f||null})},MultiSigInput.OPCODES_SIZE=1,MultiSigInput.SIGNATURE_SIZE=73,MultiSigInput.prototype._estimateSize=function(){return this._getBaseSize()+MultiSigInput.OPCODES_SIZE+this.threshold*MultiSigInput.SIGNATURE_SIZE},e.exports=MultiSigInput},36325:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(2890),f=c(72259),m=c(31527),y=c(8437),w=c(4682),E=c(17586),S=c(17566),A=c(7099),k=c(80624),T=c(98986),O=c(6244),B=c(61302),C=c(11291);function MultiSigScriptHashInput(e,a,c,u,f){f=f||{},m.apply(this,arguments),a=a||e.publicKeys,c=c||e.threshold,u=u||e.signatures,f.noSorting?this.publicKeys=a:this.publicKeys=p.sortBy(a,function(e){return e.toString("hex")}),this.redeemScript=S.buildMultisigOut(this.publicKeys,c,f);var y=S.buildWitnessMultisigOutFromScript(this.redeemScript);if(y.equals(this.output.script))this.nestedWitness=!1,this.type=E.PayToWitnessScriptHash;else if(S.buildScriptHashOut(y).equals(this.output.script))this.nestedWitness=!0,this.type=E.PayToScriptHash;else if(S.buildScriptHashOut(this.redeemScript).equals(this.output.script))this.nestedWitness=!1,this.type=E.PayToScriptHash;else throw Error("Provided public keys don't hash to the provided output");if(this.nestedWitness){var w=new S;w.add(y.toBuffer()),this.setScript(w)}this.publicKeyIndex={};for(let e=0;e<this.publicKeys.length;e++){let a=this.publicKeys[e];this.publicKeyIndex[a.toString()]=e}this.threshold=c,this.signatures=u?this._deserializeSignatures(u):Array(this.publicKeys.length)}f(MultiSigScriptHashInput,m),MultiSigScriptHashInput.prototype.toObject=function(){var e=m.prototype.toObject.apply(this,arguments);return e.threshold=this.threshold,e.publicKeys=this.publicKeys.map(function(e){return e.toString()}),e.signatures=this._serializeSignatures(),e},MultiSigScriptHashInput.prototype._deserializeSignatures=function(e){return e.map(function(e){if(e)return new C(e)})},MultiSigScriptHashInput.prototype._serializeSignatures=function(){return this.signatures.map(function(e){if(e)return e.toObject()})},MultiSigScriptHashInput.prototype.getScriptCode=function(){var e=new O;if(this.redeemScript.hasCodeseparators())throw Error("@TODO");var a=this.redeemScript.toBuffer();return e.writeVarintNum(a.length),e.write(a),e.toBuffer()},MultiSigScriptHashInput.prototype.getSighash=function(e,a,c,u){var p;if(this.nestedWitness||this.type===E.PayToWitnessScriptHash){var f=this.getScriptCode(),m=this.getSatoshisBuffer();p=T.sighash(e,u,c,f,m)}else p=k.sighash(e,u,c,this.redeemScript);return p},MultiSigScriptHashInput.prototype.getSignatures=function(e,a,c,u,p,f,m){w.checkState(this.output instanceof y),u=u||A.SIGHASH_ALL,f=f||"ecdsa";let S=[];for(let p of this.publicKeys)if(p.toString()===a.publicKey.toString()){var O;if(this.nestedWitness||this.type===E.PayToWitnessScriptHash){var B=this.getScriptCode(),N=this.getSatoshisBuffer();O=T.sign(e,a,u,c,B,N)}else O=k.sign(e,a,u,c,this.redeemScript);S.push(new C({publicKey:a.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:c,signature:O,sigtype:u}))}return S},MultiSigScriptHashInput.prototype.addSignature=function(e,a,c){return w.checkState(!this.isFullySigned(),"All needed signatures have already been added"),w.checkArgument(null!=this.publicKeyIndex[a.publicKey.toString()],"Signature has no matching public key"),w.checkState(this.isValidSignature(e,a,c),"Invalid Signature!"),this.signatures[this.publicKeyIndex[a.publicKey.toString()]]=a,this._updateScript(),this},MultiSigScriptHashInput.prototype._updateScript=function(){if(this.nestedWitness||this.type===E.PayToWitnessScriptHash){for(var e=[u.alloc(0)],a=this._createSignatures(),c=0;c<a.length;c++)e.push(a[c]);e.push(this.redeemScript.toBuffer()),this.setWitnesses(e)}else{var p=S.buildP2SHMultisigIn(this.publicKeys,this.threshold,this._createSignatures(),{cachedMultisig:this.redeemScript});this.setScript(p)}return this},MultiSigScriptHashInput.prototype._createSignatures=function(){return this.signatures.filter(function(e){return null!=e}).map(function(e){return B.concat([e.signature.toDER(),B.integerAsSingleByteBuffer(e.sigtype)])})},MultiSigScriptHashInput.prototype.clearSignatures=function(){this.signatures=Array(this.publicKeys.length),this._updateScript()},MultiSigScriptHashInput.prototype.isFullySigned=function(){return this.countSignatures()===this.threshold},MultiSigScriptHashInput.prototype.countMissingSignatures=function(){return this.threshold-this.countSignatures()},MultiSigScriptHashInput.prototype.countSignatures=function(){return this.signatures.reduce(function(e,a){return e+!!a},0)},MultiSigScriptHashInput.prototype.publicKeysWithoutSignature=function(){return this.publicKeys.filter(e=>!this.signatures[this.publicKeyIndex[e.toString()]])},MultiSigScriptHashInput.prototype.isValidSignature=function(e,a,c){if(c=c||"ecdsa",!this.nestedWitness&&this.type!==E.PayToWitnessScriptHash)return a.signature.nhashtype=a.sigtype,k.verify(e,a.signature,a.publicKey,a.inputIndex,this.redeemScript);a.signature.nhashtype=a.sigtype;var u=this.getScriptCode(),p=this.getSatoshisBuffer();return T.verify(e,a.signature,a.publicKey,a.inputIndex,u,p)},MultiSigScriptHashInput.MAX_OPCODES_SIZE=8,MultiSigScriptHashInput.MAX_SIGNATURE_SIZE=74,MultiSigScriptHashInput.MAX_PUBKEY_SIZE=34,MultiSigScriptHashInput.REDEEM_SCRIPT_SIZE=34,MultiSigScriptHashInput.prototype._estimateSize=function(){let e=this._getBaseSize(),a=MultiSigScriptHashInput.MAX_OPCODES_SIZE+this.threshold*MultiSigScriptHashInput.MAX_SIGNATURE_SIZE+this.publicKeys.length*MultiSigScriptHashInput.MAX_PUBKEY_SIZE;return this.type===E.PayToWitnessScriptHash?e+=a/4:this.nestedWitness?e+=a/4+MultiSigScriptHashInput.REDEEM_SCRIPT_SIZE:e+=a,e},e.exports=MultiSigScriptHashInput},50766:function(e,a,c){"use strict";var u=c(72259),p=c(4682);c(61302);var f=c(31527),m=c(8437),y=c(80624),w=c(17566),E=c(7099),S=c(11291);function PublicKeyInput(){f.apply(this,arguments)}u(PublicKeyInput,f),PublicKeyInput.prototype.getSignatures=function(e,a,c,u,f,w){p.checkState(this.output instanceof m),u=u||E.SIGHASH_ALL,w=w||"ecdsa";var A=a.toPublicKey();return A.toString()===this.output.script.getPublicKey().toString("hex")?[new S({publicKey:A,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:c,signature:y.sign(e,a,u,c,this.output.script),sigtype:u})]:[]},PublicKeyInput.prototype.addSignature=function(e,a,c){return p.checkState(this.isValidSignature(e,a,c),"Signature is invalid"),this.setScript(w.buildPublicKeyIn(a.signature.toDER(),a.sigtype)),this},PublicKeyInput.prototype.clearSignatures=function(){return this.setScript(w.empty()),this},PublicKeyInput.prototype.isFullySigned=function(){return this.script.isPublicKeyIn()},PublicKeyInput.SCRIPT_MAX_SIZE=73,PublicKeyInput.prototype._estimateSize=function(){return this._getBaseSize()+PublicKeyInput.SCRIPT_MAX_SIZE},e.exports=PublicKeyInput},69569:function(e,a,c){"use strict";var u=c(72259),p=c(4682),f=c(61302);c(17586);var m=c(75327),y=c(31527),w=c(8437),E=c(80624),S=c(98986),A=c(6244),f=c(61302),k=c(17566),T=c(7099),O=c(11291);function PublicKeyHashInput(){y.apply(this,arguments)}u(PublicKeyHashInput,y),PublicKeyHashInput.prototype.getRedeemScript=function(e){if(!this.redeemScript){var a=k.buildWitnessV0Out(e);if(k.buildScriptHashOut(a).equals(this.output.script)){var c=new k;c.add(a.toBuffer()),this.setScript(c),this.redeemScript=a}}return this.redeemScript},PublicKeyHashInput.prototype.getScriptCode=function(e){var a,c=new A;a=this.output.script.isScriptHashOut()?this.getRedeemScript(e):this.output.script;var u=k.buildPublicKeyHashOut(a.toAddress()).toBuffer();return c.writeVarintNum(u.length),c.write(u),c.toBuffer()},PublicKeyHashInput.prototype.getSighash=function(e,a,c,u){var p=this.getScriptCode(a),f=this.getSatoshisBuffer();return S.sighash(e,u,c,p,f)},PublicKeyHashInput.prototype.getSignatures=function(e,a,c,u,y,A,k){if(p.checkState(this.output instanceof w),y=y||m.sha256ripemd160(a.publicKey.toBuffer()),u=u||T.SIGHASH_ALL,A=A||"ecdsa",(B=this.output.script.isScriptHashOut()?this.getRedeemScript(a.publicKey):this.output.script)&&f.equals(y,B.getPublicKeyHash())){if(B.isWitnessPublicKeyHashOut()){var B,C,N=this.getSatoshisBuffer(),R=this.getScriptCode(a.publicKey);C=S.sign(e,a,u,c,R,N)}else C=E.sign(e,a,u,c,this.output.script);return[new O({publicKey:a.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:c,signature:C,sigtype:u})]}return[]},PublicKeyHashInput.prototype.addSignature=function(e,a,c){return p.checkState(this.isValidSignature(e,a,c),"Signature is invalid"),this.output.script.isWitnessPublicKeyHashOut()||this.output.script.isScriptHashOut()?this.setWitnesses([f.concat([a.signature.toDER(),f.integerAsSingleByteBuffer(a.sigtype)]),a.publicKey.toBuffer()]):this.setScript(k.buildPublicKeyHashIn(a.publicKey,a.signature.toDER(),a.sigtype)),this},PublicKeyHashInput.prototype.clearSignatures=function(){return this.setScript(k.empty()),this.setWitnesses([]),this},PublicKeyHashInput.prototype.isFullySigned=function(){return this.script.isPublicKeyHashIn()||this.hasWitnesses()},PublicKeyHashInput.prototype.isValidSignature=function(e,a,c){if(c=c||"ecdsa",a.signature.nhashtype=a.sigtype,!(this.output.script.isWitnessPublicKeyHashOut()||this.output.script.isScriptHashOut()))return E.verify(e,a.signature,a.publicKey,a.inputIndex,this.output.script);var u=this.getScriptCode(),p=this.getSatoshisBuffer();return S.verify(e,a.signature,a.publicKey,a.inputIndex,u,p)},PublicKeyHashInput.SCRIPT_MAX_SIZE=107,PublicKeyHashInput.REDEEM_SCRIPT_SIZE=23,PublicKeyHashInput.prototype._estimateSize=function(){let e=this._getBaseSize();e+=1;let a=PublicKeyHashInput.SCRIPT_MAX_SIZE/4;return this.output.script.isWitnessPublicKeyHashOut()?e+=a:this.output.script.isScriptHashOut()?e+=a+PublicKeyHashInput.REDEEM_SCRIPT_SIZE:e+=PublicKeyHashInput.SCRIPT_MAX_SIZE,e},e.exports=PublicKeyHashInput},2556:function(e,a,c){let u=c(72259),p=c(4682),f=c(69569),m=c(94228),y=c(7099),w=c(11291),E=c(8437);function TaprootInput(){f.apply(this,arguments)}c(21470),u(TaprootInput,f),TaprootInput.prototype.getSignatures=function(e,a,c,u,f,S,A){p.checkState(this.output instanceof E),u=u||y.SIGHASH_DEFAULT;let k=e.inputs.indexOf(this),T=a.createTapTweak(A).tweakedPrivKey,O=m.sign(e,T,u,k,y.Version.TAPROOT,null);return O?[new w({publicKey:a.publicKey,prevTxId:this.prevTxId,outputIndex:this.outputIndex,inputIndex:k,signature:y.fromSchnorr(O),sigtype:u})]:[]},TaprootInput.prototype.isValidSignature=function(e,a){return p.checkState(e.inputs.indexOf(this)>=0,"Signature has no matching input"),p.checkState(this.output instanceof E,"output is not instance of Output"),!!this.output.script.isTaproot()&&m.verify(e,a.signature,this.output.script.chunks[1].buf,y.Version.TAPROOT,e.inputs.indexOf(this),null)},TaprootInput.prototype.isFullySigned=function(){return this.output.script.isTaproot()||this.hasWitnesses()},TaprootInput.prototype.addSignature=function(e,a){return this.isValidSignature(e,a)&&this.setWitnesses([a.signature.toBuffer()]),this},e.exports=TaprootInput},8437:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(2890),f=c(76070),m=c(61302),y=c(27606),w=c(6244),E=c(17566),S=c(4682),A=c(72700);let k=c(88989),T=c(4182);function Output(e){if(!(this instanceof Output))return new Output(e);if(p.isObject(e)){if(this.satoshis=e.satoshis,m.isBuffer(e.script))this.setScriptFromBuffer(e.script);else{var a;a=p.isString(e.script)&&y.isHexa(e.script)?u.from(e.script,"hex"):e.script,this.setScript(a)}"taproot"===e.type&&(this.branch=[],Object.defineProperty(this,"isValid",{configurable:!1,enumerable:!1,get:function(){this._isValid||this._branch.length},set:function(e){this._isValid=e}}),Object.defineProperty(this,"isComplete",{configurable:!1,enumerable:!1,get:function(){return this.isValid&&(0===this._branch.length||1===this._branch.length&&!!this._branch[0])}}))}else throw TypeError("Unrecognized argument for Output")}Object.defineProperty(Output.prototype,"script",{configurable:!1,enumerable:!0,get:function(){return this._script||this.setScriptFromBuffer(this._scriptBuffer),this._script}}),Object.defineProperty(Output.prototype,"satoshis",{configurable:!1,enumerable:!0,get:function(){return this._satoshis},set:function(e){e instanceof f?(this._satoshisBN=e,this._satoshis=e.toNumber()):p.isString(e)?(this._satoshis=parseInt(e),this._satoshisBN=f.fromNumber(this._satoshis)):(S.checkArgument(y.isNaturalNumber(e),"Output satoshis is not a natural number"),this._satoshisBN=f.fromNumber(e),this._satoshis=e),S.checkState(y.isNaturalNumber(this._satoshis),"Output satoshis is not a natural number")}}),Output.prototype.invalidSatoshis=function(){return this._satoshis>9007199254740991?"transaction txout satoshis greater than max safe integer":this._satoshis!==this._satoshisBN.toNumber()?"transaction txout satoshis has corrupted value":this._satoshis<0&&"transaction txout negative"},Output.prototype.toObject=Output.prototype.toJSON=function(){var e={satoshis:this.satoshis};return e.script=this._scriptBuffer.toString("hex"),e},Output.fromObject=function(e){return new Output(e)},Output.prototype.setScriptFromBuffer=function(e){this._scriptBuffer=e;try{this._script=E.fromBuffer(this._scriptBuffer),this._script._isOutput=!0}catch(e){if(e instanceof A.Script.InvalidBuffer)this._script=null;else throw e}},Output.prototype.setScript=function(e){if(e instanceof E)this._scriptBuffer=e.toBuffer(),this._script=e,this._script._isOutput=!0;else if(p.isString(e))this._script=E.fromString(e),this._scriptBuffer=this._script.toBuffer(),this._script._isOutput=!0;else if(m.isBuffer(e))this.setScriptFromBuffer(e);else throw TypeError("Invalid argument type: script");return this},Output.prototype.inspect=function(){var e;return e=this.script?this.script.inspect():this._scriptBuffer.toString("hex"),"<Output ("+this.satoshis+" sats) "+e+">"},Output.fromBufferReader=function(e){var a={};a.satoshis=e.readUInt64LEBN();var c=e.readVarintNum();return 0!==c?a.script=e.read(c):a.script=u.from([]),new Output(a)},Output.prototype.toBufferWriter=function(e){e||(e=new w),e.writeUInt64LEBN(this._satoshisBN);var a=this._scriptBuffer;return e.writeVarintNum(a.length),e.write(a),e},Output.prototype.calculateSize=function(){return 8+w.varintBufNum(this._scriptBuffer.length).length+this._scriptBuffer.length},Output.prototype.add=function(e,a,c,u=!0){if(S.checkArgument((c&~k.TAPROOT_LEAF_MASK)==0,"invalid leafVersion"),!this.isValid)return;let p={hash:T.TAPLEAF.writeUInt8(c).write(a.toBuffer()).finalize(),leaves:[]};return u&&p.leaves.push({script:a,leafVersion:c,merkleBranch:[]}),this._insertNode(p,e),this},Output.prototype._insertNode=function(e,a){if(S.checkArgument(a>=0&&a<=k.TAPROOT_CONTROL_MAX_NODE_COUNT,"invalid depth"),a+1<this._branch.length){this.isValid=!1;return}for(;this.isValid&&this._branch.length>a&&this._branch[a];)e=this._combineNodes(e,this._branch[a]),this._branch=this._branch.slice(0,this._branch.length-2),0==a&&(this.isValid=!1),a--;this.isValid&&(this._branch.length<=a&&(this._branch=this._branch.slice(0,a+1)),S.checkState(!this._nodes[a]),m_branch[a]=e)},Output.prototype._combineNodes=function(e,a){let c={hash:null,leaves:[]};for(let u of e.leaves)u.merkleBranch.push(a.hash),c.leaves.push(u);for(let u of a.leaves)u.merkleBranch.push(e.hash),c.leaves.push(u);return -1===e.hash.compare(a.hash)?c.hash=T.TAPBRANCH.write(e.hash).write(a.hash).finalize():c.hash=T.TAPBRANCH.write(a.hash).write(e.hash).finalize(),c},Output.prototype.finalize=function(e){S.checkState(!0===this.isComplete,"finalize can only be called when isComplete is true"),e.createTapTweak(0===this._branch.length?null:this._branch[0].hash)},e.exports=Output},80624:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(7099),f=c(17566),m=c(8437),y=c(47851),w=c(6244),E=c(76070),S=c(75327),A=c(217),k=c(4682),T=c(2890),sighash=function(e,a,A,k){var T,O=c(19209),B=c(54019);A=parseInt(A);var C=O.shallowCopy(e);for((k=new f(k)).removeCodeseparators(),T=0;T<C.inputs.length;T++)C.inputs[T]=new B(C.inputs[T]).setScript(f.empty());if(C.inputs[A]=new B(C.inputs[A]).setScript(k),(31&a)===p.SIGHASH_NONE||(31&a)===p.SIGHASH_SINGLE)for(T=0;T<C.inputs.length;T++)T!==A&&(C.inputs[T].sequenceNumber=0);if((31&a)===p.SIGHASH_NONE)C.outputs=[];else if((31&a)===p.SIGHASH_SINGLE){if(A>=C.outputs.length)return u.from("0000000000000000000000000000000000000000000000000000000000000001","hex");for(T=0,C.outputs.length=A+1;T<A;T++)C.outputs[T]=new m({satoshis:E.fromBuffer(u.from("ffffffffffffffff","hex")),script:f.empty()})}a&p.SIGHASH_ANYONECANPAY&&(C.inputs=[C.inputs[A]]);var N=new w().write(C.toBuffer()).writeInt32LE(a).toBuffer(),R=S.sha256sha256(N);return new y(R).readReverse()};e.exports={sighash:sighash,sign:function(e,a,c,u,p){let f=sighash(e,c,u,p);return A.sign(f,a,"little").set({nhashtype:c})},verify:function(e,a,c,u,p){k.checkArgument(!T.isUndefined(e),"Transaction Undefined"),k.checkArgument(!T.isUndefined(a)&&!T.isUndefined(a.nhashtype),"Signature Undefined");let f=sighash(e,a.nhashtype,u,p);return A.verify(f,a,c,"little")}}},94228:function(e,a,c){"use strict";var u=c(67133).Buffer;let p=c(7099),f=c(6244),m=c(75327),y=c(34861),w=c(4682),E=c(4182);function _signatureHash(e,a,c,u,y){let S,A;switch(u){case p.Version.TAPROOT:S=0;break;case p.Version.TAPSCRIPT:S=1,A=0;break;default:return!1}w.checkArgument(c<e.inputs.length,"inputNumber is greater than number of inputs");let k=E.TAPSIGHASH;k.writeUInt8(0);let T=a==p.SIGHASH_DEFAULT?p.SIGHASH_ALL:a&p.SIGHASH_OUTPUT_MASK,O=a&p.SIGHASH_INPUT_MASK;if(!(a<=3||a>=129&&a<=131))return!1;if(k.writeUInt8(a),k.writeInt32LE(e.version),k.writeUInt32LE(e.nLockTime),O!==p.SIGHASH_ANYONECANPAY){let a=new f,c=new f,u=new f,p=new f;for(let f of e.inputs){a.writeReverse(f.prevTxId),a.writeInt32LE(f.outputIndex),c.writeUInt64LEBN(f.output._satoshisBN);let e=f.output.script.toBuffer();u.writeUInt8(e.length),u.write(e),p.writeUInt32LE(f.sequenceNumber)}let y=m.sha256(a.toBuffer());k.write(y);let w=m.sha256(c.toBuffer());k.write(w);let E=m.sha256(u.toBuffer());k.write(E);let S=m.sha256(p.toBuffer());k.write(S)}if(T===p.SIGHASH_ALL){let a=new f;for(let c of e.outputs)a.write(c.toBufferWriter().toBuffer());let c=m.sha256(a.toBuffer());k.write(c)}w.checkArgument(y.annexInit,"missing or invalid annexInit");let B=(S<<1)+(y.annexPresent?1:0);if(k.writeUInt8(B),O===p.SIGHASH_ANYONECANPAY){let a=new f;a.writeReverse(e.inputs[c].prevTxId),a.writeInt32LE(e.inputs[c].outputIndex),k.write(a.toBuffer()),k.write(e.inputs[c].output.toBufferWriter().toBuffer()),k.writeUInt32LE(e.inputs[c].sequenceNumber)}else k.writeUInt32LE(c);if(y.annexPresent&&k.write(y.annexHash),T===p.SIGHASH_SINGLE){if(c>=e.outputs.length)return!1;let a=new f;a.writeUInt64LEBN(e.outputs[c]._satoshisBN);let u=e.outputs[c].script.toBuffer();a.writeVarintNum(u.length),a.write(u),k.write(m.sha256(a.toBuffer()))}return u==p.Version.TAPSCRIPT&&(w.checkArgument(y.tapleafHashInit,"missing or invalid tapleafHashInit"),k.write(y.tapleafHash),k.writeUInt8(A),w.checkArgument(y.codeseparatorPosInit,"missing or invalid codeseparatorPosInit"),k.writeUInt32LE(y.codeseparatorPos)),k.finalize()}function _getExecData(e,a){let c={annexInit:!0,annexPresent:!1};if(e===p.Version.TAPSCRIPT){if(c.codeseparatorPosInit=!0,c.codeseparatorPos=4294967295,!a)return!1;c.tapleafHashInit=!0,c.tapleafHash=a}return c}c(21470),e.exports={sign:function(e,a,c,f,m,E){w.checkArgument(m===p.Version.TAPROOT||m===p.Version.TAPSCRIPT,"Invalid sigversion");let S=_getExecData(m,E),A=_signatureHash(e,c,f,m,S);if(!A)return!1;let k=y.sign(a,A);return c!==p.SIGHASH_DEFAULT?u.concat([k,u.from([c])]):k},verify:function(e,a,c,p,f,m){if(w.checkArgument(null!=e,"Transaction Undefined"),!m||u.isBuffer(m)){let e=m;m=_getExecData(p,e)}w.checkArgument(m.annexInit,"invalid execdata");let E=_signatureHash(e,a.nhashtype,f,p,m);if(!E)return!1;let S=y.verify(c,E,a);return S}}},98986:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(7099);c(17566);var f=c(47851),m=c(6244),y=c(75327),w=c(217),E=c(4682),S=c(2890),sighash=function(e,a,c,w,E){var S=u.alloc(32),A=u.alloc(32),k=u.alloc(32);if(!(a&p.SIGHASH_ANYONECANPAY)){for(var T=[],O=0;O<e.inputs.length;O++){var B=e.inputs[O],C=new f(B.prevTxId).readReverse();T.push(C);var N=u.alloc(4);N.writeUInt32LE(B.outputIndex,0),T.push(N)}S=y.sha256sha256(u.concat(T))}if(!(a&p.SIGHASH_ANYONECANPAY)&&(31&a)!==p.SIGHASH_SINGLE&&(31&a)!==p.SIGHASH_NONE){for(var R=[],M=0;M<e.inputs.length;M++){var U=u.alloc(4);U.writeUInt32LE(e.inputs[M].sequenceNumber,0),R.push(U)}A=y.sha256sha256(u.concat(R))}var D=new m;if((31&a)!==p.SIGHASH_SINGLE&&(31&a)!==p.SIGHASH_NONE){for(var H=0;H<e.outputs.length;H++)e.outputs[H].toBufferWriter(D);k=y.sha256sha256(D.toBuffer())}else(31&a)===p.SIGHASH_SINGLE&&c<e.outputs.length&&(e.outputs[c].toBufferWriter(D),k=y.sha256sha256(D.toBuffer()));var F=new m;F.writeUInt32LE(e.version),F.write(S),F.write(A);var L=new f(e.inputs[c].prevTxId).readReverse();return F.write(L),F.writeUInt32LE(e.inputs[c].outputIndex),F.write(w),F.write(E),F.writeUInt32LE(e.inputs[c].sequenceNumber),F.write(k),F.writeUInt32LE(e.nLockTime),F.writeInt32LE(a),y.sha256sha256(F.toBuffer())};e.exports={sighash:sighash,sign:function(e,a,c,u,p,f){let m=sighash(e,c,u,p,f);return w.sign(m,a).set({nhashtype:c})},verify:function(e,a,c,u,p,f){E.checkArgument(!S.isUndefined(e),"Transaction Undefined"),E.checkArgument(!S.isUndefined(a)&&!S.isUndefined(a.nhashtype),"Signature Undefined");let m=sighash(e,a.nhashtype,u,p,f);return w.verify(m,a,c)}}},11291:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(4682),f=c(72259),m=c(61302),y=c(27606),w=c(81633),E=c(72700),S=c(7099);function TransactionSignature(e){if(!(this instanceof TransactionSignature))return new TransactionSignature(e);if(e instanceof TransactionSignature)return e;if(e&&"object"==typeof e)return this._fromObject(e);throw new E.InvalidArgument("TransactionSignatures must be instantiated from an object")}f(TransactionSignature,S),TransactionSignature.prototype._fromObject=function(e){return this._checkObjectArgs(e),this.publicKey=new w(e.publicKey),this.prevTxId=m.isBuffer(e.prevTxId)?e.prevTxId:u.from(e.prevTxId,"hex"),this.outputIndex=e.outputIndex,this.inputIndex=e.inputIndex,this.signature=e.signature instanceof S?e.signature:m.isBuffer(e.signature)?S.fromBuffer(e.signature):S.fromString(e.signature),this.sigtype=e.sigtype,this},TransactionSignature.prototype._checkObjectArgs=function(e){p.checkArgument(w(e.publicKey),"invalid publicKey"),p.checkArgument(null!=e.inputIndex,"missing inputIndex"),p.checkArgument(null!=e.outputIndex,"missing outputIndex"),p.checkState(!isNaN(e.inputIndex),"inputIndex must be a number"),p.checkState(!isNaN(e.outputIndex),"outputIndex must be a number"),p.checkArgument(e.signature,"missing signature"),p.checkArgument(e.prevTxId,"missing prevTxId"),p.checkState(e.signature instanceof S||m.isBuffer(e.signature)||y.isHexa(e.signature),"signature must be a buffer or hexa value"),p.checkState(m.isBuffer(e.prevTxId)||y.isHexa(e.prevTxId),"prevTxId must be a buffer or hexa value"),p.checkArgument(null!=e.sigtype,"missing sigtype"),p.checkState(!isNaN(e.sigtype),"sigtype must be a number")},TransactionSignature.prototype.toObject=TransactionSignature.prototype.toJSON=function(){return{publicKey:this.publicKey.toString(),prevTxId:this.prevTxId.toString("hex"),outputIndex:this.outputIndex,inputIndex:this.inputIndex,signature:this.signature.toString(),sigtype:this.sigtype}},TransactionSignature.fromObject=function(e){return p.checkArgument(e),new TransactionSignature(e)},e.exports=TransactionSignature},19209:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(2890),f=c(4682),m=c(67133),y=u.compare||c(2473),w=c(72700),E=c(61302),S=c(27606),A=c(47851),k=c(6244),T=c(75327),O=c(7099),B=c(80624),C=c(98986);let N=c(94228);var R=c(17586),M=c(27591),U=c(54019),D=U.PublicKeyHash,H=U.PublicKey,F=U.MultiSigScriptHash,L=U.MultiSig;let K=U.Taproot;var V=c(8437),G=c(17566),z=c(21470),q=c(76070);function Transaction(e,a){if(!(this instanceof Transaction))return new Transaction(e);if(this.inputs=[],this.outputs=[],this._inputAmount=void 0,this._outputAmount=void 0,e){if(e instanceof Transaction)return Transaction.shallowCopy(e);if(S.isHexa(e))this.fromString(e);else if(E.isBuffer(e))this.fromBuffer(e);else if(p.isObject(e))this.fromObject(e,a);else throw new w.InvalidArgument("Must provide an object or string to deserialize a transaction")}else this._newTransaction()}Transaction.DUST_AMOUNT=546,Transaction.FEE_SECURITY_MARGIN=150,Transaction.MAX_MONEY=21e6*1e8,Transaction.NLOCKTIME_BLOCKHEIGHT_LIMIT=5e8,Transaction.NLOCKTIME_MAX_VALUE=4294967295,Transaction.FEE_PER_KB=1e5,Transaction.CHANGE_OUTPUT_MAX_SIZE=62,Transaction.MAXIMUM_EXTRA_SIZE=26,Transaction.shallowCopy=function(e){return new Transaction(e.toBuffer())};var W={configurable:!1,enumerable:!0,get:function(){return this._hash=new A(this._getHash()).readReverse().toString("hex"),this._hash}};Object.defineProperty(Transaction.prototype,"witnessHash",{configurable:!1,enumerable:!0,get:function(){return new A(this._getWitnessHash()).readReverse().toString("hex")}}),Object.defineProperty(Transaction.prototype,"hash",W),Object.defineProperty(Transaction.prototype,"id",W);var Q={configurable:!1,enumerable:!0,get:function(){return this._getInputAmount()}};Object.defineProperty(Transaction.prototype,"inputAmount",Q),Q.get=function(){return this._getOutputAmount()},Object.defineProperty(Transaction.prototype,"outputAmount",Q),Object.defineProperty(Transaction.prototype,"size",{configurable:!1,enumerable:!1,get:function(){return this._calculateSize()}}),Object.defineProperty(Transaction.prototype,"vsize",{configurable:!1,enumerable:!1,get:function(){return this._calculateVSize()}}),Object.defineProperty(Transaction.prototype,"weight",{configurable:!1,enumerable:!1,get:function(){return this._calculateWeight()}}),Transaction.prototype._getHash=function(){return T.sha256sha256(this.toBuffer(!0))},Transaction.prototype._getWitnessHash=function(){return T.sha256sha256(this.toBuffer(!1))},Transaction.prototype.serialize=function(e){return!0===e||e&&e.disableAll?this.uncheckedSerialize():this.checkedSerialize(e)},Transaction.prototype.uncheckedSerialize=Transaction.prototype.toString=function(){return this.toBuffer().toString("hex")},Transaction.prototype.checkedSerialize=function(e){var a=this.getSerializationError(e);if(a)throw a.message+=" - For more information please see: https://github.com/bitpay/bitcore/blob/master/packages/bitcore-lib/docs/transaction.md#serialization-checks",a;return this.uncheckedSerialize()},Transaction.prototype.invalidSatoshis=function(){for(var e=!1,a=0;a<this.outputs.length;a++)this.outputs[a].invalidSatoshis()&&(e=!0);return e},Transaction.prototype.getSerializationError=function(e){if(e=e||{},this.invalidSatoshis())return new w.Transaction.InvalidSatoshis;var a,c=this._getUnspentValue();return c<0?e.disableMoreOutputThanInput||(a=new w.Transaction.InvalidOutputAmountSum):a=this._hasFeeError(e,c),a||this._hasDustOutputs(e)||this._isMissingSignatures(e)},Transaction.prototype._hasFeeError=function(e,a){if(null!=this._fee&&this._fee!==a)return new w.Transaction.FeeError.Different("Unspent value is "+a+" but specified fee is "+this._fee);if(!e.disableLargeFees){var c=Math.floor(Transaction.FEE_SECURITY_MARGIN*this._estimateFee());if(a>c)return this._missingChange()?new w.Transaction.ChangeAddressMissing("Fee is too large and no change address was provided"):new w.Transaction.FeeError.TooLarge("expected less than "+c+" but got "+a)}if(!e.disableSmallFees){var u=Math.ceil(this._estimateFee()/Transaction.FEE_SECURITY_MARGIN);if(a<u)return new w.Transaction.FeeError.TooSmall("expected more than "+u+" but got "+a)}},Transaction.prototype._missingChange=function(){return!this._changeScript},Transaction.prototype._hasDustOutputs=function(e){var a,c;if(!e.disableDustOutputs){for(a in this.outputs)if((c=this.outputs[a]).satoshis<Transaction.DUST_AMOUNT&&!c.script.isDataOut())return new w.Transaction.DustOutputs}},Transaction.prototype._isMissingSignatures=function(e){if(!e.disableIsFullySigned&&!this.isFullySigned())return new w.Transaction.MissingSignatures},Transaction.prototype.inspect=function(){return"<Transaction: "+this.uncheckedSerialize()+">"},Transaction.prototype.toBuffer=function(e){var a=new k;return this.toBufferWriter(a,e).toBuffer()},Transaction.prototype.hasWitnesses=function(){for(var e=0;e<this.inputs.length;e++)if(this.inputs[e].hasWitnesses())return!0;return!1},Transaction.prototype.toBufferWriter=function(e,a){e.writeInt32LE(this.version);let c=this.hasWitnesses();for(let p of(c&&!a&&e.write(u.from("0001","hex")),e.writeVarintNum(this.inputs?this.inputs.length:0),this.inputs||[]))p.toBufferWriter(e);for(let a of(e.writeVarintNum(this.outputs?this.outputs.length:0),this.outputs||[]))a.toBufferWriter(e);if(c&&!a)for(let a of this.inputs){let c=a.getWitnesses();e.writeVarintNum(c.length);for(let a=0;a<c.length;a++)e.writeVarintNum(c[a].length),e.write(c[a])}return e.writeUInt32LE(this.nLockTime),e},Transaction.prototype.fromBuffer=function(e){var a=new A(e);return this.fromBufferReader(a)},Transaction.prototype.fromBufferReader=function(e){f.checkArgument(!e.finished(),"No transaction data received"),this.version=e.readInt32LE();var a=e.readVarintNum(),c=!1;0===a&&0!==e.buf[e.pos]&&(e.pos+=1,c=!0,a=e.readVarintNum());for(var u=0;u<a;u++){var p=U.fromBufferReader(e);this.inputs.push(p)}for(var m=e.readVarintNum(),y=0;y<m;y++)this.outputs.push(V.fromBufferReader(e));if(c)for(var w=0;w<a;w++){for(var E=e.readVarintNum(),S=[],A=0;A<E;A++){var k=e.readVarintNum(),T=e.read(k);S.push(T)}this.inputs[w].setWitnesses(S)}return this.nLockTime=e.readUInt32LE(),this},Transaction.prototype.toObject=Transaction.prototype.toJSON=function(){var e=[];this.inputs.forEach(function(a){e.push(a.toObject())});var a=[];this.outputs.forEach(function(e){a.push(e.toObject())});var c={hash:this.hash,version:this.version,inputs:e,outputs:a,nLockTime:this.nLockTime};return this._changeScript&&(c.changeScript=this._changeScript.toString()),null!=this._changeIndex&&(c.changeIndex=this._changeIndex),null!=this._fee&&(c.fee=this._fee),c},Transaction.prototype.fromObject=function(e,a){for(let y of(f.checkArgument(p.isObject(e)||e instanceof Transaction),(c=e instanceof Transaction?e.toObject():e).inputs||[])){if(!y.output||!y.output.script){this.uncheckedAddInput(new U(y));continue}var c,u,m=new G(y.output.script);if((m.isScriptHashOut()||m.isWitnessScriptHashOut())&&y.publicKeys&&y.threshold)u=new U.MultiSigScriptHash(y,y.publicKeys,y.threshold,y.signatures,a);else if(m.isPublicKeyHashOut()||m.isWitnessPublicKeyHashOut()||m.isScriptHashOut())u=new U.PublicKeyHash(y);else if(m.isPublicKeyOut())u=new U.PublicKey(y);else throw new w.Transaction.Input.UnsupportedScript(y.output.script);this.addInput(u)}for(let e of c.outputs||[])this.addOutput(new V(e));return c.changeIndex&&(this._changeIndex=c.changeIndex),c.changeScript&&(this._changeScript=new G(c.changeScript)),c.fee&&(this._fee=c.fee),this.nLockTime=c.nLockTime,this.version=c.version,this._checkConsistency(e),this},Transaction.prototype._checkConsistency=function(e){null!=this._changeIndex&&(f.checkState(this._changeScript,"Change script is expected."),f.checkState(this.outputs[this._changeIndex],"Change index points to undefined output."),f.checkState(this.outputs[this._changeIndex].script.toString()===this._changeScript.toString(),"Change output has an unexpected script.")),e&&e.hash&&f.checkState(e.hash===this.hash,"Hash in object does not match transaction hash.")},Transaction.prototype.lockUntilDate=function(e){if(f.checkArgument(e),!isNaN(e)&&e<Transaction.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new w.Transaction.LockTimeTooEarly;p.isDate(e)&&(e=e.getTime()/1e3);for(var a=0;a<this.inputs.length;a++)this.inputs[a].sequenceNumber===U.DEFAULT_SEQNUMBER&&(this.inputs[a].sequenceNumber=U.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=e,this},Transaction.prototype.lockUntilBlockHeight=function(e){if(f.checkArgument(!isNaN(e)),e>=Transaction.NLOCKTIME_BLOCKHEIGHT_LIMIT)throw new w.Transaction.BlockHeightTooHigh;if(e<0)throw new w.Transaction.NLockTimeOutOfRange;for(var a=0;a<this.inputs.length;a++)this.inputs[a].sequenceNumber===U.DEFAULT_SEQNUMBER&&(this.inputs[a].sequenceNumber=U.DEFAULT_LOCKTIME_SEQNUMBER);return this.nLockTime=e,this},Transaction.prototype.getLockTime=function(){return this.nLockTime?this.nLockTime<Transaction.NLOCKTIME_BLOCKHEIGHT_LIMIT?this.nLockTime:new Date(1e3*this.nLockTime):null},Transaction.prototype.fromString=function(e){this.fromBuffer(m.Buffer.from(e,"hex"))},Transaction.prototype._newTransaction=function(){this.version=2,this.nLockTime=0},Transaction.prototype.from=function(e,a,c,u){if(Array.isArray(e)){for(let p of e)this.from(p,a,c,u);return this}let p=this.inputs.some(function(a){return a.prevTxId.toString("hex")===e.txId&&a.outputIndex===e.outputIndex});return p||(a&&c?this._fromMultisigUtxo(e,a,c,u):this._fromNonP2SH(e,u)),this},Transaction.prototype.associateInputs=function(e,a,c,u={}){let p=[];for(let f of e){let e=this.inputs.findIndex(e=>e.prevTxId.toString("hex")===f.txId&&e.outputIndex===f.outputIndex);if(p.push(e),e>=0){let p=this.inputs[e].sequenceNumber;this.inputs[e]=this._getInputFrom(f,a,c,u),this.inputs[e].sequenceNumber=p}}return p},Transaction.prototype._selectInputType=function(e,a,c){var u;return e=new M(e),a&&c?e.script.isMultisigOut()?u=L:(e.script.isScriptHashOut()||e.script.isWitnessScriptHashOut())&&(u=F):u=e.script.isPublicKeyHashOut()||e.script.isWitnessPublicKeyHashOut()||e.script.isScriptHashOut()?D:e.script.isTaproot()?K:e.script.isPublicKeyOut()?H:U,u},Transaction.prototype._getInputFrom=function(e,a,c,u={}){e=new M(e);let p=this._selectInputType(e,a,c),f={output:new V({script:e.script,satoshis:e.satoshis}),prevTxId:e.txId,outputIndex:e.outputIndex,sequenceNumber:u.sequenceNumber,script:G.empty()},m=a&&c?[a,c,!1,u]:[];return new p(f,...m)},Transaction.prototype._fromNonP2SH=function(e,a){let c=this._getInputFrom(e,null,null,a);this.addInput(c)},Transaction.prototype._fromMultisigUtxo=function(e,a,c,u){f.checkArgument(c<=a.length,"Number of required signatures must be greater than the number of public keys");let p=this._getInputFrom(e,a,c,u);this.addInput(p)},Transaction.prototype.addInput=function(e,a,c){if(f.checkArgumentType(e,U,"input"),!e.output&&(null==a||null==c))throw new w.Transaction.NeedMoreInfo("Need information about the UTXO script and satoshis");return!e.output&&a&&null!=c&&(a=a instanceof G?a:new G(a),f.checkArgumentType(c,"number","satoshis"),e.output=new V({script:a,satoshis:c})),this.uncheckedAddInput(e)},Transaction.prototype.uncheckedAddInput=function(e){return f.checkArgumentType(e,U,"input"),this.inputs.push(e),this._inputAmount=void 0,this._updateChangeOutput(),this},Transaction.prototype.hasAllUtxoInfo=function(){return this.inputs.every(function(e){return!!e.output})},Transaction.prototype.fee=function(e){return f.checkArgument(!isNaN(e),"amount must be a number"),this._fee=e,this._updateChangeOutput(),this},Transaction.prototype.feePerKb=function(e){return f.checkArgument(!isNaN(e),"amount must be a number"),this._feePerKb=e,this._updateChangeOutput(),this},Transaction.prototype.feePerByte=function(e){return f.checkArgument(!isNaN(e),"amount must be a number"),this._feePerByte=e,this._updateChangeOutput(),this},Transaction.prototype.change=function(e){return f.checkArgument(e,"address is required"),this._changeScript=G.fromAddress(e),this._updateChangeOutput(),this},Transaction.prototype.getChangeOutput=function(){return null!=this._changeIndex?this.outputs[this._changeIndex]:null},Transaction.prototype.to=function(e,a){if(Array.isArray(e)){for(let a of e)this.to(a.address,a.satoshis);return this}return f.checkArgument(S.isNaturalNumber(a),"Amount is expected to be a positive integer"),this.addOutput(new V({script:G(new R(e)),satoshis:a})),this},Transaction.prototype.addData=function(e){return this.addOutput(new V({script:G.buildDataOut(e),satoshis:0})),this},Transaction.prototype.addOutput=function(e){return f.checkArgumentType(e,V,"output"),this._addOutput(e),this._updateChangeOutput(),this},Transaction.prototype.clearOutputs=function(){return this.outputs=[],this._clearSignatures(),this._outputAmount=void 0,this._changeIndex=void 0,this._updateChangeOutput(),this},Transaction.prototype._addOutput=function(e){this.outputs.push(e),this._outputAmount=void 0},Transaction.prototype._getOutputAmount=function(){if(null==this._outputAmount)for(let e of(this._outputAmount=0,this.outputs||[]))this._outputAmount+=e.satoshis;return this._outputAmount},Transaction.prototype._getInputAmount=function(){return null==this._inputAmount&&(this._inputAmount=p.sumBy(this.inputs,function(e){if(null==e.output)throw new w.Transaction.Input.MissingPreviousOutput;return e.output.satoshis})),this._inputAmount},Transaction.prototype._updateChangeOutput=function(e){if(this._changeScript){e||this._clearSignatures(),null!=this._changeIndex&&this._removeOutput(this._changeIndex);var a=this._getUnspentValue()-this.getFee();a>Transaction.DUST_AMOUNT?(this._changeIndex=this.outputs.length,this._addOutput(new V({script:this._changeScript,satoshis:a}))):this._changeIndex=void 0}},Transaction.prototype.getFee=function(){return this.isCoinbase()?0:null!=this._fee?this._fee:this._changeScript?this._estimateFee():this._getUnspentValue()},Transaction.prototype._estimateFee=function(){let e=this._estimateSize(),a=this._getUnspentValue(),c=this._feePerByte||(this._feePerKb||Transaction.FEE_PER_KB)/1e3,u=Math.ceil(e*c+this._estimateSizeOfChangeOutput()*c);return!this._changeScript||a<=u?Math.ceil(e*c):u},Transaction.prototype._estimateSizeOfChangeOutput=function(){if(!this._changeScript)return 0;let e=this._changeScript.toBuffer().length;return 8+k.varintBufNum(e).length+e},Transaction.prototype._getUnspentValue=function(){return this._getInputAmount()-this._getOutputAmount()},Transaction.prototype._clearSignatures=function(){for(let e of this.inputs||[])e.clearSignatures()},Transaction.prototype._estimateSize=function(){let e=4;for(let a of(this.hasWitnesses()&&(e+=.5),e+=k.varintBufNum(this.inputs.length).length,this.inputs||[]))e+=a._estimateSize();for(let a of(e+=k.varintBufNum(this.outputs.length).length,this.outputs||[]))e+=a.calculateSize();return Math.ceil(e+=4)},Transaction.prototype._calculateSize=function(){return this.toBuffer().length},Transaction.prototype._calculateVSize=function(e){let a=this._calculateWeight()/4;return e?a:Math.ceil(a)},Transaction.prototype._calculateWeight=function(){return 3*this.toBuffer(!0).length+this.toBuffer(!1).length},Transaction.prototype._removeOutput=function(e){var a=this.outputs[e];this.outputs=p.without(this.outputs,a),this._outputAmount=void 0},Transaction.prototype.removeOutput=function(e){this._removeOutput(e),this._updateChangeOutput()},Transaction.prototype.sort=function(){return this.sortInputs(function(e){var a=Array.prototype.concat.apply([],e);let c=0;return a.forEach(e=>{e.i=c++}),a.sort(function(e,a){return y(e.prevTxId,a.prevTxId)||e.outputIndex-a.outputIndex||e.i-a.i}),a}),this.sortOutputs(function(e){var a=Array.prototype.concat.apply([],e);let c=0;return a.forEach(e=>{e.i=c++}),a.sort(function(e,a){return e.satoshis-a.satoshis||y(e.script.toBuffer(),a.script.toBuffer())||e.i-a.i}),a}),this},Transaction.prototype.shuffleOutputs=function(){return this.sortOutputs(p.shuffle)},Transaction.prototype.sortOutputs=function(e){var a=e(this.outputs);return this._newOutputOrder(a)},Transaction.prototype.sortInputs=function(e){return this.inputs=e(this.inputs),this._clearSignatures(),this},Transaction.prototype._newOutputOrder=function(e){if(this.outputs.length!==e.length||0!==p.difference(this.outputs,e).length)throw new w.Transaction.InvalidSorting;if(null!=this._changeIndex){var a=this.outputs[this._changeIndex];this._changeIndex=e.indexOf(a)}return this.outputs=e,this},Transaction.prototype.removeInput=function(e,a){if((c=a||isNaN(e)?this.inputs.findIndex(function(c){return c.prevTxId.toString("hex")===e&&c.outputIndex===a}):e)<0||c>=this.inputs.length)throw new w.Transaction.InvalidIndex(c,this.inputs.length);var c,u=this.inputs[c];this.inputs=p.without(this.inputs,u),this._inputAmount=void 0,this._updateChangeOutput()},Transaction.prototype.sign=function(e,a,c,u){if(f.checkState(this.hasAllUtxoInfo(),"Not all utxo information is available to sign the transaction."),Array.isArray(e)){for(let p of e)this.sign(p,a,c,u);return this}for(let p of this.getSignatures(e,a,c,u))this.applySignature(p,c);return this},Transaction.prototype.getSignatures=function(e,a,c,p){"string"==typeof p&&(p=u.from(p,"hex")),e=new z(e);let f=[],m=T.sha256ripemd160(e.publicKey.toBuffer());for(let u=0;u<this.inputs.length;u++){let y=this.inputs[u];for(let w of y.getSignatures(this,e,u,a,m,c,p))f.push(w)}return f},Transaction.prototype.applySignature=function(e,a){return this.inputs[e.inputIndex].addSignature(this,e,a),this},Transaction.prototype.isFullySigned=function(){for(let e of this.inputs||[])if(e.isFullySigned===U.prototype.isFullySigned)throw new w.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction");return this.inputs.every(function(e){return e.isFullySigned()})},Transaction.prototype.isValidSignature=function(e,a){if(this.inputs[e.inputIndex].isValidSignature===U.prototype.isValidSignature)throw new w.Transaction.UnableToVerifySignature("Unrecognized script kind, or not enough information to execute script.This usually happens when creating a transaction from a serialized transaction");return this.inputs[e.inputIndex].isValidSignature(this,e,a)},Transaction.prototype.checkEcdsaSignature=function(e,a,c,u,p){var m,y=u.toBuffer(),w=new k;return w.writeVarintNum(y.length),w.write(y),p?(f.checkState(S.isNaturalNumber(p),"satoshis needs to be a natural number"),m=new k().writeUInt64LEBN(new q(p)).toBuffer()):m=this.inputs[c].getSatoshisBuffer(),C.verify(this,e,a,c,w.toBuffer(),m)},Transaction.prototype.checkSchnorrSignature=function(e,a,c,p,m){if(f.isType(a,"PublicKey")&&(a=a.point.x.toBuffer()),f.checkArgument(a&&32===a.length,"Schnorr signatures have 32-byte public keys. The caller is responsible for enforcing this."),u.isBuffer(e)){if(64!==e.length&&65!==e.length)return!1;e=O.fromSchnorr(e)}return f.checkArgument(e.isSchnorr,"Signature must be schnorr"),!!N.verify(this,e,a,p,c,m)},Transaction.prototype.verifySignature=function(e,a,c,u,p,f,m){switch(null==p&&(p=O.Version.BASE),p){case O.Version.WITNESS_V0:return this.checkEcdsaSignature(e,a,c,u,f);case O.Version.TAPROOT:case O.Version.TAPSCRIPT:return this.checkSchnorrSignature(e,a,c,p,m);case O.Version.BASE:default:return B.verify(this,e,a,c,u)}},Transaction.prototype.verify=function(){if(0===this.inputs.length)return"transaction txins empty";if(0===this.outputs.length)return"transaction txouts empty";for(var e=new q(0),a=0;a<this.outputs.length;a++){var c=this.outputs[a];if(c.invalidSatoshis())return"transaction txout "+a+" satoshis is invalid";if(c._satoshisBN.gt(new q(Transaction.MAX_MONEY,10)))return"transaction txout "+a+" greater than MAX_MONEY";if((e=e.add(c._satoshisBN)).gt(new q(Transaction.MAX_MONEY)))return"transaction txout "+a+" total output greater than MAX_MONEY"}if(this.toBuffer().length>1e6)return"transaction over the maximum block size";var u={};for(a=0;a<this.inputs.length;a++){var p=this.inputs[a],f=p.prevTxId+":"+p.outputIndex;if(null!=u[f])return"transaction input "+a+" duplicate input";u[f]=!0}if(this.isCoinbase()){var m=this.inputs[0]._scriptBuffer;if(m.length<2||m.length>100)return"coinbase transaction script size invalid"}else for(a=0;a<this.inputs.length;a++)if(this.inputs[a].isNull())return"transaction input "+a+" has null input";return!0},Transaction.prototype.isCoinbase=function(){return 1===this.inputs.length&&this.inputs[0].isNull()},Transaction.prototype.isRBF=function(){for(var e=0;e<this.inputs.length;e++)if(this.inputs[e].sequenceNumber<U.MAXINT-1)return!0;return!1},Transaction.prototype.enableRBF=function(){for(var e=0;e<this.inputs.length;e++){var a=this.inputs[e];a.sequenceNumber>=U.MAXINT-1&&(a.sequenceNumber=U.DEFAULT_RBF_SEQNUMBER)}return this},Transaction.prototype.setVersion=function(e){return f.checkArgument(S.isNaturalNumber(e)&&e<=2,"Wrong version number"),this.version=e,this},e.exports=Transaction},27591:function(e,a,c){"use strict";var u=c(2890),p=c(4682),f=c(27606),m=c(17566),y=c(17586),w=c(23661);function UnspentOutput(e){if(!(this instanceof UnspentOutput))return new UnspentOutput(e);p.checkArgument(u.isObject(e),"Must provide an object from where to extract data");var a=e.address?new y(e.address):void 0,c=e.txid?e.txid:e.txId;if(!c||!f.isHexaString(c)||c.length>64)throw Error("Invalid TXID in object",e);var E=u.isUndefined(e.vout)?e.outputIndex:e.vout;if(!u.isNumber(E))throw Error("Invalid outputIndex, received "+E);p.checkArgument(!u.isUndefined(e.scriptPubKey)||!u.isUndefined(e.script),"Must provide the scriptPubKey for that output!");var S=new m(e.scriptPubKey||e.script);p.checkArgument(!u.isUndefined(e.amount)||!u.isUndefined(e.satoshis),"Must provide an amount for the output");var A=u.isUndefined(e.amount)?e.satoshis:new w.fromBTC(e.amount).toSatoshis();p.checkArgument(u.isNumber(A),"Amount must be a number"),f.defineImmutable(this,{address:a,txId:c,outputIndex:E,script:S,satoshis:A})}UnspentOutput.prototype.inspect=function(){return"<UnspentOutput: "+this.txId+":"+this.outputIndex+", satoshis: "+this.satoshis+", address: "+this.address+">"},UnspentOutput.prototype.toString=function(){return this.txId+":"+this.outputIndex},UnspentOutput.fromObject=function(e){return new UnspentOutput(e)},UnspentOutput.prototype.toObject=UnspentOutput.prototype.toJSON=function(){return{address:this.address?this.address.toString():void 0,txid:this.txId,vout:this.outputIndex,scriptPubKey:this.script.toBuffer().toString("hex"),amount:w.fromSatoshis(this.satoshis).toBTC()}},e.exports=UnspentOutput},23661:function(e,a,c){"use strict";var u=c(2890),p=c(72700),f=c(4682),m={BTC:[1e8,8],mBTC:[1e5,5],uBTC:[100,2],bits:[100,2],satoshis:[1,0]};function Unit(e,a){if(!(this instanceof Unit))return new Unit(e,a);if(u.isNumber(a)){if(a<=0)throw new p.Unit.InvalidRate(a);e/=a,a=Unit.BTC}this._value=this._from(e,a);var c=this;Object.keys(m).forEach(function(e){Object.defineProperty(c,e,{get:function(){return c.to(e)},enumerable:!0})})}Object.keys(m).forEach(function(e){Unit[e]=e}),Unit.fromObject=function(e){return f.checkArgument(u.isObject(e),"Argument is expected to be an object"),new Unit(e.amount,e.code)},Unit.fromBTC=function(e){return new Unit(e,Unit.BTC)},Unit.fromMillis=Unit.fromMilis=function(e){return new Unit(e,Unit.mBTC)},Unit.fromMicros=Unit.fromBits=function(e){return new Unit(e,Unit.bits)},Unit.fromSatoshis=function(e){return new Unit(e,Unit.satoshis)},Unit.fromFiat=function(e,a){return new Unit(e,a)},Unit.prototype._from=function(e,a){if(!m[a])throw new p.Unit.UnknownCode(a);return parseInt((e*m[a][0]).toFixed())},Unit.prototype.to=function(e){if(u.isNumber(e)){if(e<=0)throw new p.Unit.InvalidRate(e);return parseFloat((this.BTC*e).toFixed(2))}if(!m[e])throw new p.Unit.UnknownCode(e);return parseFloat((this._value/m[e][0]).toFixed(m[e][1]))},Unit.prototype.toBTC=function(){return this.to(Unit.BTC)},Unit.prototype.toMillis=Unit.prototype.toMilis=function(){return this.to(Unit.mBTC)},Unit.prototype.toMicros=Unit.prototype.toBits=function(){return this.to(Unit.bits)},Unit.prototype.toSatoshis=function(){return this.to(Unit.satoshis)},Unit.prototype.atRate=function(e){return this.to(e)},Unit.prototype.toString=function(){return this.satoshis+" satoshis"},Unit.prototype.toObject=Unit.prototype.toJSON=function(){return{amount:this.BTC,code:Unit.BTC}},Unit.prototype.inspect=function(){return"<Unit: "+this.toString()+">"},e.exports=Unit},94442:function(e,a,c){"use strict";var u=c(2890),p=c(40692),f=c(17586),m=c(23661),URI=function(e,a){if(!(this instanceof URI))return new URI(e,a);if(this.extras={},this.knownParams=a||[],this.address=this.network=this.amount=this.message=null,"string"==typeof e){var c=URI.parse(e);c.amount&&(c.amount=this._parseAmount(c.amount)),this._fromObject(c)}else if("object"==typeof e)this._fromObject(e);else throw TypeError("Unrecognized data format.")};URI.fromString=function(e){if("string"!=typeof e)throw TypeError("Expected a string");return new URI(e)},URI.fromObject=function(e){return new URI(e)},URI.isValid=function(e,a){try{new URI(e,a)}catch(e){return!1}return!0},URI.parse=function(e){var a=p.parse(e,!0);if("bitcoin:"!==a.protocol)throw TypeError("Invalid bitcoin URI");var c=/[^:]*:\/?\/?([^?]*)/.exec(e);return a.query.address=c&&c[1]||void 0,a.query},URI.Members=["address","amount","message","label","r"],URI.prototype._fromObject=function(e){if(!f.isValid(e.address))throw TypeError("Invalid bitcoin address");for(var a in this.address=new f(e.address),this.network=this.address.network,this.amount=e.amount,e)if("address"!==a&&"amount"!==a){if(/^req-/.exec(a)&&-1===this.knownParams.indexOf(a))throw Error("Unknown required argument "+a);(URI.Members.indexOf(a)>-1?this:this.extras)[a]=e[a]}},URI.prototype._parseAmount=function(e){if(isNaN(e=Number(e)))throw TypeError("Invalid amount");return m.fromBTC(e).toSatoshis()},URI.prototype.toObject=URI.prototype.toJSON=function(){for(var e={},a=0;a<URI.Members.length;a++){var c=URI.Members[a];this.hasOwnProperty(c)&&void 0!==this[c]&&(e[c]=this[c].toString())}return u.extend(e,this.extras),e},URI.prototype.toString=function(){var e={};return this.amount&&(e.amount=m.fromSatoshis(this.amount).toBTC()),this.message&&(e.message=this.message),this.label&&(e.label=this.label),this.r&&(e.r=this.r),u.extend(e,this.extras),p.format({protocol:"bitcoin:",host:this.address,query:e})},URI.prototype.inspect=function(){return"<URI: "+this.toString()+">"},e.exports=URI},61302:function(e,a,c){"use strict";var u=c(67133).Buffer,p=c(67133);c(69629),c(27606);var f=c(4682);function equals(e,a){if(e.length!==a.length)return!1;for(var c=e.length,u=0;u<c;u++)if(e[u]!==a[u])return!1;return!0}e.exports={fill:function(e,a){f.checkArgumentType(e,"Buffer","buffer"),f.checkArgumentType(a,"number","value");for(var c=e.length,u=0;u<c;u++)e[u]=a;return e},copy:function(e){var a=u.alloc(e.length);return e.copy(a),a},isBuffer:function(e){return p.Buffer.isBuffer(e)||e instanceof Uint8Array},emptyBuffer:function(e){f.checkArgumentType(e,"number","bytes");for(var a=u.alloc(e),c=0;c<e;c++)a.write("\x00",c);return a},concat:p.Buffer.concat,equals:equals,equal:equals,integerAsSingleByteBuffer:function(e){return f.checkArgumentType(e,"number","integer"),u.from([255&e])},integerAsBuffer:function(e){f.checkArgumentType(e,"number","integer");var a=[];return a.push(e>>24&255),a.push(e>>16&255),a.push(e>>8&255),a.push(255&e),u.from(a)},integerFromBuffer:function(e){return f.checkArgumentType(e,"Buffer","buffer"),e[0]<<24|e[1]<<16|e[2]<<8|e[3]},integerFromSingleByteBuffer:function(e){return f.checkArgumentType(e,"Buffer","buffer"),e[0]},bufferToHex:function(e){return f.checkArgumentType(e,"Buffer","buffer"),e.toString("hex")},reverse:function(e){return u.from(e).reverse()}},e.exports.NULL_HASH=e.exports.fill(u.alloc(32),0),e.exports.EMPTY_BUFFER=u.alloc(0)},27606:function(e,a,c){"use strict";var u=c(2890),isHexa=function(e){return!!u.isString(e)&&/^[0-9a-fA-F]+$/.test(e)};e.exports={isValidJSON:function(e){var a;if(!u.isString(e))return!1;try{a=JSON.parse(e)}catch(e){return!1}return"object"==typeof a},isHexa:isHexa,isHexaString:isHexa,cloneArray:function(e){return[].concat(e)},defineImmutable:function(e,a){return Object.keys(a).forEach(function(c){Object.defineProperty(e,c,{configurable:!1,enumerable:!0,value:a[c]})}),e},isNaturalNumber:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e&&e>=0}}},4682:function(e,a,c){"use strict";var u=c(72700),p=c(2890);e.exports={checkState:function(e,a){if(!e)throw new u.InvalidState(a)},checkArgument:function(e,a,c,p){if(!e)throw new u.InvalidArgument(a,c,p)},checkArgumentType:function(e,a,f){if(f=f||"(unknown name)",p.isString(a)){if("Buffer"===a){if(!c(67133).Buffer.isBuffer(e))throw new u.InvalidArgumentType(e,a,f)}else if(typeof e!==a&&e&&e.constructor&&e.constructor.name!==a)throw new u.InvalidArgumentType(e,a,f)}else if(!(e instanceof a))throw new u.InvalidArgumentType(e,a.name,f)},isType:function(e,a,c){try{return this.checkArgumentType(e,a,c),!0}catch{return!1}}}},71704:function(e,a,c){!function(e,a){"use strict";function assert(e,a){if(!e)throw Error(a||"Assertion failed")}function inherits(e,a){e.super_=a;var TempCtor=function(){};TempCtor.prototype=a.prototype,e.prototype=new TempCtor,e.prototype.constructor=e}function BN(e,a,c){if(BN.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&(("le"===a||"be"===a)&&(c=a,a=10),this._init(e||0,a||10,c||"be"))}"object"==typeof e?e.exports=BN:a.BN=BN,BN.BN=BN,BN.wordSize=26;try{u=c(2594).Buffer}catch(e){}function parseHex(e,a,c){for(var u=0,p=Math.min(e.length,c),f=a;f<p;f++){var m=e.charCodeAt(f)-48;u<<=4,m>=49&&m<=54?u|=m-49+10:m>=17&&m<=22?u|=m-17+10:u|=15&m}return u}function parseBase(e,a,c,u){for(var p=0,f=Math.min(e.length,c),m=a;m<f;m++){var y=e.charCodeAt(m)-48;p*=u,y>=49?p+=y-49+10:y>=17?p+=y-17+10:p+=y}return p}BN.isBN=function(e){return e instanceof BN||null!==e&&"object"==typeof e&&e.constructor.wordSize===BN.wordSize&&Array.isArray(e.words)},BN.max=function(e,a){return e.cmp(a)>0?e:a},BN.min=function(e,a){return 0>e.cmp(a)?e:a},BN.prototype._init=function(e,a,c){if("number"==typeof e)return this._initNumber(e,a,c);if("object"==typeof e)return this._initArray(e,a,c);"hex"===a&&(a=16),assert(a===(0|a)&&a>=2&&a<=36);var u=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&u++,16===a?this._parseHex(e,u):this._parseBase(e,a,u),"-"===e[0]&&(this.negative=1),this.strip(),"le"===c&&this._initArray(this.toArray(),a,c)},BN.prototype._initNumber=function(e,a,c){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(assert(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===c&&this._initArray(this.toArray(),a,c)},BN.prototype._initArray=function(e,a,c){if(assert("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var u,p,f=0;f<this.length;f++)this.words[f]=0;var m=0;if("be"===c)for(f=e.length-1,u=0;f>=0;f-=3)p=e[f]|e[f-1]<<8|e[f-2]<<16,this.words[u]|=p<<m&67108863,this.words[u+1]=p>>>26-m&67108863,(m+=24)>=26&&(m-=26,u++);else if("le"===c)for(f=0,u=0;f<e.length;f+=3)p=e[f]|e[f+1]<<8|e[f+2]<<16,this.words[u]|=p<<m&67108863,this.words[u+1]=p>>>26-m&67108863,(m+=24)>=26&&(m-=26,u++);return this.strip()},BN.prototype._parseHex=function(e,a){this.length=Math.ceil((e.length-a)/6),this.words=Array(this.length);for(var c,u,p=0;p<this.length;p++)this.words[p]=0;var f=0;for(p=e.length-6,c=0;p>=a;p-=6)u=parseHex(e,p,p+6),this.words[c]|=u<<f&67108863,this.words[c+1]|=u>>>26-f&4194303,(f+=24)>=26&&(f-=26,c++);p+6!==a&&(u=parseHex(e,a,p+6),this.words[c]|=u<<f&67108863,this.words[c+1]|=u>>>26-f&4194303),this.strip()},BN.prototype._parseBase=function(e,a,c){this.words=[0],this.length=1;for(var u=0,p=1;p<=67108863;p*=a)u++;u--,p=p/a|0;for(var f=e.length-c,m=f%u,y=Math.min(f,f-m)+c,w=0,E=c;E<y;E+=u)w=parseBase(e,E,E+u,a),this.imuln(p),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(0!==m){var S=1;for(w=parseBase(e,E,e.length,a),E=0;E<m;E++)S*=a;this.imuln(S),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}},BN.prototype.copy=function(e){e.words=Array(this.length);for(var a=0;a<this.length;a++)e.words[a]=this.words[a];e.length=this.length,e.negative=this.negative,e.red=this.red},BN.prototype.clone=function(){var e=new BN(null);return this.copy(e),e},BN.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},BN.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},BN.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},BN.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u,p=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],m=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function smallMulTo(e,a,c){c.negative=a.negative^e.negative;var u=e.length+a.length|0;c.length=u,u=u-1|0;var p=0|e.words[0],f=0|a.words[0],m=p*f,y=67108863&m,w=m/67108864|0;c.words[0]=y;for(var E=1;E<u;E++){for(var S=w>>>26,A=67108863&w,k=Math.min(E,a.length-1),T=Math.max(0,E-e.length+1);T<=k;T++){var O=E-T|0;S+=(m=(p=0|e.words[O])*(f=0|a.words[T])+A)/67108864|0,A=67108863&m}c.words[E]=0|A,w=0|S}return 0!==w?c.words[E]=0|w:c.length--,c.strip()}BN.prototype.toString=function(e,a){if(a=0|a||1,16===(e=e||10)||"hex"===e){c="";for(var c,u=0,y=0,w=0;w<this.length;w++){var E=this.words[w],S=((E<<u|y)&16777215).toString(16);c=0!=(y=E>>>24-u&16777215)||w!==this.length-1?p[6-S.length]+S+c:S+c,(u+=2)>=26&&(u-=26,w--)}for(0!==y&&(c=y.toString(16)+c);c.length%a!=0;)c="0"+c;return 0!==this.negative&&(c="-"+c),c}if(e===(0|e)&&e>=2&&e<=36){var A=f[e],k=m[e];c="";var T=this.clone();for(T.negative=0;!T.isZero();){var O=T.modn(k).toString(e);c=(T=T.idivn(k)).isZero()?O+c:p[A-O.length]+O+c}for(this.isZero()&&(c="0"+c);c.length%a!=0;)c="0"+c;return 0!==this.negative&&(c="-"+c),c}assert(!1,"Base should be between 2 and 36")},BN.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&assert(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},BN.prototype.toJSON=function(){return this.toString(16)},BN.prototype.toBuffer=function(e,a){return assert(void 0!==u),this.toArrayLike(u,e,a)},BN.prototype.toArray=function(e,a){return this.toArrayLike(Array,e,a)},BN.prototype.toArrayLike=function(e,a,c){var u,p,f=this.byteLength(),m=c||Math.max(1,f);assert(f<=m,"byte array longer than desired length"),assert(m>0,"Requested array length <= 0"),this.strip();var y=new e(m),w=this.clone();if("le"===a){for(p=0;!w.isZero();p++)u=w.andln(255),w.iushrn(8),y[p]=u;for(;p<m;p++)y[p]=0}else{for(p=0;p<m-f;p++)y[p]=0;for(p=0;!w.isZero();p++)u=w.andln(255),w.iushrn(8),y[m-p-1]=u}return y},Math.clz32?BN.prototype._countBits=function(e){return 32-Math.clz32(e)}:BN.prototype._countBits=function(e){var a=e,c=0;return a>=4096&&(c+=13,a>>>=13),a>=64&&(c+=7,a>>>=7),a>=8&&(c+=4,a>>>=4),a>=2&&(c+=2,a>>>=2),c+a},BN.prototype._zeroBits=function(e){if(0===e)return 26;var a=e,c=0;return(8191&a)==0&&(c+=13,a>>>=13),(127&a)==0&&(c+=7,a>>>=7),(15&a)==0&&(c+=4,a>>>=4),(3&a)==0&&(c+=2,a>>>=2),(1&a)==0&&c++,c},BN.prototype.bitLength=function(){var e=this.words[this.length-1],a=this._countBits(e);return(this.length-1)*26+a},BN.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,a=0;a<this.length;a++){var c=this._zeroBits(this.words[a]);if(e+=c,26!==c)break}return e},BN.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},BN.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},BN.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},BN.prototype.isNeg=function(){return 0!==this.negative},BN.prototype.neg=function(){return this.clone().ineg()},BN.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},BN.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var a=0;a<e.length;a++)this.words[a]=this.words[a]|e.words[a];return this.strip()},BN.prototype.ior=function(e){return assert((this.negative|e.negative)==0),this.iuor(e)},BN.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},BN.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},BN.prototype.iuand=function(e){var a;a=this.length>e.length?e:this;for(var c=0;c<a.length;c++)this.words[c]=this.words[c]&e.words[c];return this.length=a.length,this.strip()},BN.prototype.iand=function(e){return assert((this.negative|e.negative)==0),this.iuand(e)},BN.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},BN.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},BN.prototype.iuxor=function(e){this.length>e.length?(a=this,c=e):(a=e,c=this);for(var a,c,u=0;u<c.length;u++)this.words[u]=a.words[u]^c.words[u];if(this!==a)for(;u<a.length;u++)this.words[u]=a.words[u];return this.length=a.length,this.strip()},BN.prototype.ixor=function(e){return assert((this.negative|e.negative)==0),this.iuxor(e)},BN.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},BN.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},BN.prototype.inotn=function(e){assert("number"==typeof e&&e>=0);var a=0|Math.ceil(e/26),c=e%26;this._expand(a),c>0&&a--;for(var u=0;u<a;u++)this.words[u]=67108863&~this.words[u];return c>0&&(this.words[u]=~this.words[u]&67108863>>26-c),this.strip()},BN.prototype.notn=function(e){return this.clone().inotn(e)},BN.prototype.setn=function(e,a){assert("number"==typeof e&&e>=0);var c=e/26|0,u=e%26;return this._expand(c+1),a?this.words[c]=this.words[c]|1<<u:this.words[c]=this.words[c]&~(1<<u),this.strip()},BN.prototype.iadd=function(e){if(0!==this.negative&&0===e.negative)return this.negative=0,a=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,a=this.isub(e),e.negative=1,a._normSign();this.length>e.length?(c=this,u=e):(c=e,u=this);for(var a,c,u,p=0,f=0;f<u.length;f++)a=(0|c.words[f])+(0|u.words[f])+p,this.words[f]=67108863&a,p=a>>>26;for(;0!==p&&f<c.length;f++)a=(0|c.words[f])+p,this.words[f]=67108863&a,p=a>>>26;if(this.length=c.length,0!==p)this.words[this.length]=p,this.length++;else if(c!==this)for(;f<c.length;f++)this.words[f]=c.words[f];return this},BN.prototype.add=function(e){var a;return 0!==e.negative&&0===this.negative?(e.negative=0,a=this.sub(e),e.negative^=1,a):0===e.negative&&0!==this.negative?(this.negative=0,a=e.sub(this),this.negative=1,a):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},BN.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var a,c,u=this.iadd(e);return e.negative=1,u._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var p=this.cmp(e);if(0===p)return this.negative=0,this.length=1,this.words[0]=0,this;p>0?(a=this,c=e):(a=e,c=this);for(var f=0,m=0;m<c.length;m++)f=(u=(0|a.words[m])-(0|c.words[m])+f)>>26,this.words[m]=67108863&u;for(;0!==f&&m<a.length;m++)f=(u=(0|a.words[m])+f)>>26,this.words[m]=67108863&u;if(0===f&&m<a.length&&a!==this)for(;m<a.length;m++)this.words[m]=a.words[m];return this.length=Math.max(this.length,m),a!==this&&(this.negative=1),this.strip()},BN.prototype.sub=function(e){return this.clone().isub(e)};var comb10MulTo=function(e,a,c){var u,p,f,m=e.words,y=a.words,w=c.words,E=0,S=0|m[0],A=8191&S,k=S>>>13,T=0|m[1],O=8191&T,B=T>>>13,C=0|m[2],N=8191&C,R=C>>>13,M=0|m[3],U=8191&M,D=M>>>13,H=0|m[4],F=8191&H,L=H>>>13,K=0|m[5],V=8191&K,G=K>>>13,z=0|m[6],q=8191&z,W=z>>>13,Q=0|m[7],Y=8191&Q,Z=Q>>>13,J=0|m[8],X=8191&J,$=J>>>13,tt=0|m[9],te=8191&tt,tr=tt>>>13,tn=0|y[0],ti=8191&tn,ts=tn>>>13,to=0|y[1],ta=8191&to,tc=to>>>13,tu=0|y[2],tl=8191&tu,th=tu>>>13,tp=0|y[3],tf=8191&tp,td=tp>>>13,tm=0|y[4],tg=8191&tm,ty=tm>>>13,tb=0|y[5],tv=8191&tb,tw=tb>>>13,tE=0|y[6],tS=8191&tE,tA=tE>>>13,tk=0|y[7],tP=8191&tk,tI=tk>>>13,tT=0|y[8],t_=8191&tT,tO=tT>>>13,tB=0|y[9],tC=8191&tB,tx=tB>>>13;c.negative=e.negative^a.negative,c.length=19;var tN=(E+(u=Math.imul(A,ti))|0)+((8191&(p=(p=Math.imul(A,ts))+Math.imul(k,ti)|0))<<13)|0;E=((f=Math.imul(k,ts))+(p>>>13)|0)+(tN>>>26)|0,tN&=67108863,u=Math.imul(O,ti),p=(p=Math.imul(O,ts))+Math.imul(B,ti)|0,f=Math.imul(B,ts);var tR=(E+(u=u+Math.imul(A,ta)|0)|0)+((8191&(p=(p=p+Math.imul(A,tc)|0)+Math.imul(k,ta)|0))<<13)|0;E=((f=f+Math.imul(k,tc)|0)+(p>>>13)|0)+(tR>>>26)|0,tR&=67108863,u=Math.imul(N,ti),p=(p=Math.imul(N,ts))+Math.imul(R,ti)|0,f=Math.imul(R,ts),u=u+Math.imul(O,ta)|0,p=(p=p+Math.imul(O,tc)|0)+Math.imul(B,ta)|0,f=f+Math.imul(B,tc)|0;var tM=(E+(u=u+Math.imul(A,tl)|0)|0)+((8191&(p=(p=p+Math.imul(A,th)|0)+Math.imul(k,tl)|0))<<13)|0;E=((f=f+Math.imul(k,th)|0)+(p>>>13)|0)+(tM>>>26)|0,tM&=67108863,u=Math.imul(U,ti),p=(p=Math.imul(U,ts))+Math.imul(D,ti)|0,f=Math.imul(D,ts),u=u+Math.imul(N,ta)|0,p=(p=p+Math.imul(N,tc)|0)+Math.imul(R,ta)|0,f=f+Math.imul(R,tc)|0,u=u+Math.imul(O,tl)|0,p=(p=p+Math.imul(O,th)|0)+Math.imul(B,tl)|0,f=f+Math.imul(B,th)|0;var tU=(E+(u=u+Math.imul(A,tf)|0)|0)+((8191&(p=(p=p+Math.imul(A,td)|0)+Math.imul(k,tf)|0))<<13)|0;E=((f=f+Math.imul(k,td)|0)+(p>>>13)|0)+(tU>>>26)|0,tU&=67108863,u=Math.imul(F,ti),p=(p=Math.imul(F,ts))+Math.imul(L,ti)|0,f=Math.imul(L,ts),u=u+Math.imul(U,ta)|0,p=(p=p+Math.imul(U,tc)|0)+Math.imul(D,ta)|0,f=f+Math.imul(D,tc)|0,u=u+Math.imul(N,tl)|0,p=(p=p+Math.imul(N,th)|0)+Math.imul(R,tl)|0,f=f+Math.imul(R,th)|0,u=u+Math.imul(O,tf)|0,p=(p=p+Math.imul(O,td)|0)+Math.imul(B,tf)|0,f=f+Math.imul(B,td)|0;var tD=(E+(u=u+Math.imul(A,tg)|0)|0)+((8191&(p=(p=p+Math.imul(A,ty)|0)+Math.imul(k,tg)|0))<<13)|0;E=((f=f+Math.imul(k,ty)|0)+(p>>>13)|0)+(tD>>>26)|0,tD&=67108863,u=Math.imul(V,ti),p=(p=Math.imul(V,ts))+Math.imul(G,ti)|0,f=Math.imul(G,ts),u=u+Math.imul(F,ta)|0,p=(p=p+Math.imul(F,tc)|0)+Math.imul(L,ta)|0,f=f+Math.imul(L,tc)|0,u=u+Math.imul(U,tl)|0,p=(p=p+Math.imul(U,th)|0)+Math.imul(D,tl)|0,f=f+Math.imul(D,th)|0,u=u+Math.imul(N,tf)|0,p=(p=p+Math.imul(N,td)|0)+Math.imul(R,tf)|0,f=f+Math.imul(R,td)|0,u=u+Math.imul(O,tg)|0,p=(p=p+Math.imul(O,ty)|0)+Math.imul(B,tg)|0,f=f+Math.imul(B,ty)|0;var tH=(E+(u=u+Math.imul(A,tv)|0)|0)+((8191&(p=(p=p+Math.imul(A,tw)|0)+Math.imul(k,tv)|0))<<13)|0;E=((f=f+Math.imul(k,tw)|0)+(p>>>13)|0)+(tH>>>26)|0,tH&=67108863,u=Math.imul(q,ti),p=(p=Math.imul(q,ts))+Math.imul(W,ti)|0,f=Math.imul(W,ts),u=u+Math.imul(V,ta)|0,p=(p=p+Math.imul(V,tc)|0)+Math.imul(G,ta)|0,f=f+Math.imul(G,tc)|0,u=u+Math.imul(F,tl)|0,p=(p=p+Math.imul(F,th)|0)+Math.imul(L,tl)|0,f=f+Math.imul(L,th)|0,u=u+Math.imul(U,tf)|0,p=(p=p+Math.imul(U,td)|0)+Math.imul(D,tf)|0,f=f+Math.imul(D,td)|0,u=u+Math.imul(N,tg)|0,p=(p=p+Math.imul(N,ty)|0)+Math.imul(R,tg)|0,f=f+Math.imul(R,ty)|0,u=u+Math.imul(O,tv)|0,p=(p=p+Math.imul(O,tw)|0)+Math.imul(B,tv)|0,f=f+Math.imul(B,tw)|0;var tF=(E+(u=u+Math.imul(A,tS)|0)|0)+((8191&(p=(p=p+Math.imul(A,tA)|0)+Math.imul(k,tS)|0))<<13)|0;E=((f=f+Math.imul(k,tA)|0)+(p>>>13)|0)+(tF>>>26)|0,tF&=67108863,u=Math.imul(Y,ti),p=(p=Math.imul(Y,ts))+Math.imul(Z,ti)|0,f=Math.imul(Z,ts),u=u+Math.imul(q,ta)|0,p=(p=p+Math.imul(q,tc)|0)+Math.imul(W,ta)|0,f=f+Math.imul(W,tc)|0,u=u+Math.imul(V,tl)|0,p=(p=p+Math.imul(V,th)|0)+Math.imul(G,tl)|0,f=f+Math.imul(G,th)|0,u=u+Math.imul(F,tf)|0,p=(p=p+Math.imul(F,td)|0)+Math.imul(L,tf)|0,f=f+Math.imul(L,td)|0,u=u+Math.imul(U,tg)|0,p=(p=p+Math.imul(U,ty)|0)+Math.imul(D,tg)|0,f=f+Math.imul(D,ty)|0,u=u+Math.imul(N,tv)|0,p=(p=p+Math.imul(N,tw)|0)+Math.imul(R,tv)|0,f=f+Math.imul(R,tw)|0,u=u+Math.imul(O,tS)|0,p=(p=p+Math.imul(O,tA)|0)+Math.imul(B,tS)|0,f=f+Math.imul(B,tA)|0;var tL=(E+(u=u+Math.imul(A,tP)|0)|0)+((8191&(p=(p=p+Math.imul(A,tI)|0)+Math.imul(k,tP)|0))<<13)|0;E=((f=f+Math.imul(k,tI)|0)+(p>>>13)|0)+(tL>>>26)|0,tL&=67108863,u=Math.imul(X,ti),p=(p=Math.imul(X,ts))+Math.imul($,ti)|0,f=Math.imul($,ts),u=u+Math.imul(Y,ta)|0,p=(p=p+Math.imul(Y,tc)|0)+Math.imul(Z,ta)|0,f=f+Math.imul(Z,tc)|0,u=u+Math.imul(q,tl)|0,p=(p=p+Math.imul(q,th)|0)+Math.imul(W,tl)|0,f=f+Math.imul(W,th)|0,u=u+Math.imul(V,tf)|0,p=(p=p+Math.imul(V,td)|0)+Math.imul(G,tf)|0,f=f+Math.imul(G,td)|0,u=u+Math.imul(F,tg)|0,p=(p=p+Math.imul(F,ty)|0)+Math.imul(L,tg)|0,f=f+Math.imul(L,ty)|0,u=u+Math.imul(U,tv)|0,p=(p=p+Math.imul(U,tw)|0)+Math.imul(D,tv)|0,f=f+Math.imul(D,tw)|0,u=u+Math.imul(N,tS)|0,p=(p=p+Math.imul(N,tA)|0)+Math.imul(R,tS)|0,f=f+Math.imul(R,tA)|0,u=u+Math.imul(O,tP)|0,p=(p=p+Math.imul(O,tI)|0)+Math.imul(B,tP)|0,f=f+Math.imul(B,tI)|0;var tK=(E+(u=u+Math.imul(A,t_)|0)|0)+((8191&(p=(p=p+Math.imul(A,tO)|0)+Math.imul(k,t_)|0))<<13)|0;E=((f=f+Math.imul(k,tO)|0)+(p>>>13)|0)+(tK>>>26)|0,tK&=67108863,u=Math.imul(te,ti),p=(p=Math.imul(te,ts))+Math.imul(tr,ti)|0,f=Math.imul(tr,ts),u=u+Math.imul(X,ta)|0,p=(p=p+Math.imul(X,tc)|0)+Math.imul($,ta)|0,f=f+Math.imul($,tc)|0,u=u+Math.imul(Y,tl)|0,p=(p=p+Math.imul(Y,th)|0)+Math.imul(Z,tl)|0,f=f+Math.imul(Z,th)|0,u=u+Math.imul(q,tf)|0,p=(p=p+Math.imul(q,td)|0)+Math.imul(W,tf)|0,f=f+Math.imul(W,td)|0,u=u+Math.imul(V,tg)|0,p=(p=p+Math.imul(V,ty)|0)+Math.imul(G,tg)|0,f=f+Math.imul(G,ty)|0,u=u+Math.imul(F,tv)|0,p=(p=p+Math.imul(F,tw)|0)+Math.imul(L,tv)|0,f=f+Math.imul(L,tw)|0,u=u+Math.imul(U,tS)|0,p=(p=p+Math.imul(U,tA)|0)+Math.imul(D,tS)|0,f=f+Math.imul(D,tA)|0,u=u+Math.imul(N,tP)|0,p=(p=p+Math.imul(N,tI)|0)+Math.imul(R,tP)|0,f=f+Math.imul(R,tI)|0,u=u+Math.imul(O,t_)|0,p=(p=p+Math.imul(O,tO)|0)+Math.imul(B,t_)|0,f=f+Math.imul(B,tO)|0;var tj=(E+(u=u+Math.imul(A,tC)|0)|0)+((8191&(p=(p=p+Math.imul(A,tx)|0)+Math.imul(k,tC)|0))<<13)|0;E=((f=f+Math.imul(k,tx)|0)+(p>>>13)|0)+(tj>>>26)|0,tj&=67108863,u=Math.imul(te,ta),p=(p=Math.imul(te,tc))+Math.imul(tr,ta)|0,f=Math.imul(tr,tc),u=u+Math.imul(X,tl)|0,p=(p=p+Math.imul(X,th)|0)+Math.imul($,tl)|0,f=f+Math.imul($,th)|0,u=u+Math.imul(Y,tf)|0,p=(p=p+Math.imul(Y,td)|0)+Math.imul(Z,tf)|0,f=f+Math.imul(Z,td)|0,u=u+Math.imul(q,tg)|0,p=(p=p+Math.imul(q,ty)|0)+Math.imul(W,tg)|0,f=f+Math.imul(W,ty)|0,u=u+Math.imul(V,tv)|0,p=(p=p+Math.imul(V,tw)|0)+Math.imul(G,tv)|0,f=f+Math.imul(G,tw)|0,u=u+Math.imul(F,tS)|0,p=(p=p+Math.imul(F,tA)|0)+Math.imul(L,tS)|0,f=f+Math.imul(L,tA)|0,u=u+Math.imul(U,tP)|0,p=(p=p+Math.imul(U,tI)|0)+Math.imul(D,tP)|0,f=f+Math.imul(D,tI)|0,u=u+Math.imul(N,t_)|0,p=(p=p+Math.imul(N,tO)|0)+Math.imul(R,t_)|0,f=f+Math.imul(R,tO)|0;var tV=(E+(u=u+Math.imul(O,tC)|0)|0)+((8191&(p=(p=p+Math.imul(O,tx)|0)+Math.imul(B,tC)|0))<<13)|0;E=((f=f+Math.imul(B,tx)|0)+(p>>>13)|0)+(tV>>>26)|0,tV&=67108863,u=Math.imul(te,tl),p=(p=Math.imul(te,th))+Math.imul(tr,tl)|0,f=Math.imul(tr,th),u=u+Math.imul(X,tf)|0,p=(p=p+Math.imul(X,td)|0)+Math.imul($,tf)|0,f=f+Math.imul($,td)|0,u=u+Math.imul(Y,tg)|0,p=(p=p+Math.imul(Y,ty)|0)+Math.imul(Z,tg)|0,f=f+Math.imul(Z,ty)|0,u=u+Math.imul(q,tv)|0,p=(p=p+Math.imul(q,tw)|0)+Math.imul(W,tv)|0,f=f+Math.imul(W,tw)|0,u=u+Math.imul(V,tS)|0,p=(p=p+Math.imul(V,tA)|0)+Math.imul(G,tS)|0,f=f+Math.imul(G,tA)|0,u=u+Math.imul(F,tP)|0,p=(p=p+Math.imul(F,tI)|0)+Math.imul(L,tP)|0,f=f+Math.imul(L,tI)|0,u=u+Math.imul(U,t_)|0,p=(p=p+Math.imul(U,tO)|0)+Math.imul(D,t_)|0,f=f+Math.imul(D,tO)|0;var tG=(E+(u=u+Math.imul(N,tC)|0)|0)+((8191&(p=(p=p+Math.imul(N,tx)|0)+Math.imul(R,tC)|0))<<13)|0;E=((f=f+Math.imul(R,tx)|0)+(p>>>13)|0)+(tG>>>26)|0,tG&=67108863,u=Math.imul(te,tf),p=(p=Math.imul(te,td))+Math.imul(tr,tf)|0,f=Math.imul(tr,td),u=u+Math.imul(X,tg)|0,p=(p=p+Math.imul(X,ty)|0)+Math.imul($,tg)|0,f=f+Math.imul($,ty)|0,u=u+Math.imul(Y,tv)|0,p=(p=p+Math.imul(Y,tw)|0)+Math.imul(Z,tv)|0,f=f+Math.imul(Z,tw)|0,u=u+Math.imul(q,tS)|0,p=(p=p+Math.imul(q,tA)|0)+Math.imul(W,tS)|0,f=f+Math.imul(W,tA)|0,u=u+Math.imul(V,tP)|0,p=(p=p+Math.imul(V,tI)|0)+Math.imul(G,tP)|0,f=f+Math.imul(G,tI)|0,u=u+Math.imul(F,t_)|0,p=(p=p+Math.imul(F,tO)|0)+Math.imul(L,t_)|0,f=f+Math.imul(L,tO)|0;var tz=(E+(u=u+Math.imul(U,tC)|0)|0)+((8191&(p=(p=p+Math.imul(U,tx)|0)+Math.imul(D,tC)|0))<<13)|0;E=((f=f+Math.imul(D,tx)|0)+(p>>>13)|0)+(tz>>>26)|0,tz&=67108863,u=Math.imul(te,tg),p=(p=Math.imul(te,ty))+Math.imul(tr,tg)|0,f=Math.imul(tr,ty),u=u+Math.imul(X,tv)|0,p=(p=p+Math.imul(X,tw)|0)+Math.imul($,tv)|0,f=f+Math.imul($,tw)|0,u=u+Math.imul(Y,tS)|0,p=(p=p+Math.imul(Y,tA)|0)+Math.imul(Z,tS)|0,f=f+Math.imul(Z,tA)|0,u=u+Math.imul(q,tP)|0,p=(p=p+Math.imul(q,tI)|0)+Math.imul(W,tP)|0,f=f+Math.imul(W,tI)|0,u=u+Math.imul(V,t_)|0,p=(p=p+Math.imul(V,tO)|0)+Math.imul(G,t_)|0,f=f+Math.imul(G,tO)|0;var tq=(E+(u=u+Math.imul(F,tC)|0)|0)+((8191&(p=(p=p+Math.imul(F,tx)|0)+Math.imul(L,tC)|0))<<13)|0;E=((f=f+Math.imul(L,tx)|0)+(p>>>13)|0)+(tq>>>26)|0,tq&=67108863,u=Math.imul(te,tv),p=(p=Math.imul(te,tw))+Math.imul(tr,tv)|0,f=Math.imul(tr,tw),u=u+Math.imul(X,tS)|0,p=(p=p+Math.imul(X,tA)|0)+Math.imul($,tS)|0,f=f+Math.imul($,tA)|0,u=u+Math.imul(Y,tP)|0,p=(p=p+Math.imul(Y,tI)|0)+Math.imul(Z,tP)|0,f=f+Math.imul(Z,tI)|0,u=u+Math.imul(q,t_)|0,p=(p=p+Math.imul(q,tO)|0)+Math.imul(W,t_)|0,f=f+Math.imul(W,tO)|0;var tW=(E+(u=u+Math.imul(V,tC)|0)|0)+((8191&(p=(p=p+Math.imul(V,tx)|0)+Math.imul(G,tC)|0))<<13)|0;E=((f=f+Math.imul(G,tx)|0)+(p>>>13)|0)+(tW>>>26)|0,tW&=67108863,u=Math.imul(te,tS),p=(p=Math.imul(te,tA))+Math.imul(tr,tS)|0,f=Math.imul(tr,tA),u=u+Math.imul(X,tP)|0,p=(p=p+Math.imul(X,tI)|0)+Math.imul($,tP)|0,f=f+Math.imul($,tI)|0,u=u+Math.imul(Y,t_)|0,p=(p=p+Math.imul(Y,tO)|0)+Math.imul(Z,t_)|0,f=f+Math.imul(Z,tO)|0;var tQ=(E+(u=u+Math.imul(q,tC)|0)|0)+((8191&(p=(p=p+Math.imul(q,tx)|0)+Math.imul(W,tC)|0))<<13)|0;E=((f=f+Math.imul(W,tx)|0)+(p>>>13)|0)+(tQ>>>26)|0,tQ&=67108863,u=Math.imul(te,tP),p=(p=Math.imul(te,tI))+Math.imul(tr,tP)|0,f=Math.imul(tr,tI),u=u+Math.imul(X,t_)|0,p=(p=p+Math.imul(X,tO)|0)+Math.imul($,t_)|0,f=f+Math.imul($,tO)|0;var tY=(E+(u=u+Math.imul(Y,tC)|0)|0)+((8191&(p=(p=p+Math.imul(Y,tx)|0)+Math.imul(Z,tC)|0))<<13)|0;E=((f=f+Math.imul(Z,tx)|0)+(p>>>13)|0)+(tY>>>26)|0,tY&=67108863,u=Math.imul(te,t_),p=(p=Math.imul(te,tO))+Math.imul(tr,t_)|0,f=Math.imul(tr,tO);var tZ=(E+(u=u+Math.imul(X,tC)|0)|0)+((8191&(p=(p=p+Math.imul(X,tx)|0)+Math.imul($,tC)|0))<<13)|0;E=((f=f+Math.imul($,tx)|0)+(p>>>13)|0)+(tZ>>>26)|0,tZ&=67108863;var tJ=(E+(u=Math.imul(te,tC))|0)+((8191&(p=(p=Math.imul(te,tx))+Math.imul(tr,tC)|0))<<13)|0;return E=((f=Math.imul(tr,tx))+(p>>>13)|0)+(tJ>>>26)|0,tJ&=67108863,w[0]=tN,w[1]=tR,w[2]=tM,w[3]=tU,w[4]=tD,w[5]=tH,w[6]=tF,w[7]=tL,w[8]=tK,w[9]=tj,w[10]=tV,w[11]=tG,w[12]=tz,w[13]=tq,w[14]=tW,w[15]=tQ,w[16]=tY,w[17]=tZ,w[18]=tJ,0!==E&&(w[19]=E,c.length++),c};function jumboMulTo(e,a,c){return new FFTM().mulp(e,a,c)}function FFTM(e,a){this.x=e,this.y=a}Math.imul||(comb10MulTo=smallMulTo),BN.prototype.mulTo=function(e,a){var c=this.length+e.length;return 10===this.length&&10===e.length?comb10MulTo(this,e,a):c<63?smallMulTo(this,e,a):c<1024?function(e,a,c){c.negative=a.negative^e.negative,c.length=e.length+a.length;for(var u=0,p=0,f=0;f<c.length-1;f++){var m=p;p=0;for(var y=67108863&u,w=Math.min(f,a.length-1),E=Math.max(0,f-e.length+1);E<=w;E++){var S=f-E,A=(0|e.words[S])*(0|a.words[E]),k=67108863&A;m=m+(A/67108864|0)|0,y=67108863&(k=k+y|0),p+=(m=m+(k>>>26)|0)>>>26,m&=67108863}c.words[f]=y,u=m,m=p}return 0!==u?c.words[f]=u:c.length--,c.strip()}(this,e,a):jumboMulTo(this,e,a)},FFTM.prototype.makeRBT=function(e){for(var a=Array(e),c=BN.prototype._countBits(e)-1,u=0;u<e;u++)a[u]=this.revBin(u,c,e);return a},FFTM.prototype.revBin=function(e,a,c){if(0===e||e===c-1)return e;for(var u=0,p=0;p<a;p++)u|=(1&e)<<a-p-1,e>>=1;return u},FFTM.prototype.permute=function(e,a,c,u,p,f){for(var m=0;m<f;m++)u[m]=a[e[m]],p[m]=c[e[m]]},FFTM.prototype.transform=function(e,a,c,u,p,f){this.permute(f,e,a,c,u,p);for(var m=1;m<p;m<<=1)for(var y=m<<1,w=Math.cos(2*Math.PI/y),E=Math.sin(2*Math.PI/y),S=0;S<p;S+=y)for(var A=w,k=E,T=0;T<m;T++){var O=c[S+T],B=u[S+T],C=c[S+T+m],N=u[S+T+m],R=A*C-k*N;N=A*N+k*C,C=R,c[S+T]=O+C,u[S+T]=B+N,c[S+T+m]=O-C,u[S+T+m]=B-N,T!==y&&(R=w*A-E*k,k=w*k+E*A,A=R)}},FFTM.prototype.guessLen13b=function(e,a){var c=1|Math.max(a,e),u=1&c,p=0;for(c=c/2|0;c;c>>>=1)p++;return 1<<p+1+u},FFTM.prototype.conjugate=function(e,a,c){if(!(c<=1))for(var u=0;u<c/2;u++){var p=e[u];e[u]=e[c-u-1],e[c-u-1]=p,p=a[u],a[u]=-a[c-u-1],a[c-u-1]=-p}},FFTM.prototype.normalize13b=function(e,a){for(var c=0,u=0;u<a/2;u++){var p=8192*Math.round(e[2*u+1]/a)+Math.round(e[2*u]/a)+c;e[u]=67108863&p,c=p<67108864?0:p/67108864|0}return e},FFTM.prototype.convert13b=function(e,a,c,u){for(var p=0,f=0;f<a;f++)p+=0|e[f],c[2*f]=8191&p,p>>>=13,c[2*f+1]=8191&p,p>>>=13;for(f=2*a;f<u;++f)c[f]=0;assert(0===p),assert((-8192&p)==0)},FFTM.prototype.stub=function(e){for(var a=Array(e),c=0;c<e;c++)a[c]=0;return a},FFTM.prototype.mulp=function(e,a,c){var u=2*this.guessLen13b(e.length,a.length),p=this.makeRBT(u),f=this.stub(u),m=Array(u),y=Array(u),w=Array(u),E=Array(u),S=Array(u),A=Array(u),k=c.words;k.length=u,this.convert13b(e.words,e.length,m,u),this.convert13b(a.words,a.length,E,u),this.transform(m,f,y,w,u,p),this.transform(E,f,S,A,u,p);for(var T=0;T<u;T++){var O=y[T]*S[T]-w[T]*A[T];w[T]=y[T]*A[T]+w[T]*S[T],y[T]=O}return this.conjugate(y,w,u),this.transform(y,w,k,f,u,p),this.conjugate(k,f,u),this.normalize13b(k,u),c.negative=e.negative^a.negative,c.length=e.length+a.length,c.strip()},BN.prototype.mul=function(e){var a=new BN(null);return a.words=Array(this.length+e.length),this.mulTo(e,a)},BN.prototype.mulf=function(e){var a=new BN(null);return a.words=Array(this.length+e.length),jumboMulTo(this,e,a)},BN.prototype.imul=function(e){return this.clone().mulTo(e,this)},BN.prototype.imuln=function(e){assert("number"==typeof e),assert(e<67108864);for(var a=0,c=0;c<this.length;c++){var u=(0|this.words[c])*e,p=(67108863&u)+(67108863&a);a>>=26,a+=(u/67108864|0)+(p>>>26),this.words[c]=67108863&p}return 0!==a&&(this.words[c]=a,this.length++),this},BN.prototype.muln=function(e){return this.clone().imuln(e)},BN.prototype.sqr=function(){return this.mul(this)},BN.prototype.isqr=function(){return this.imul(this.clone())},BN.prototype.pow=function(e){var a=function(e){for(var a=Array(e.bitLength()),c=0;c<a.length;c++){var u=c/26|0,p=c%26;a[c]=(e.words[u]&1<<p)>>>p}return a}(e);if(0===a.length)return new BN(1);for(var c=this,u=0;u<a.length&&0===a[u];u++,c=c.sqr());if(++u<a.length)for(var p=c.sqr();u<a.length;u++,p=p.sqr())0!==a[u]&&(c=c.mul(p));return c},BN.prototype.iushln=function(e){assert("number"==typeof e&&e>=0);var a,c=e%26,u=(e-c)/26,p=67108863>>>26-c<<26-c;if(0!==c){var f=0;for(a=0;a<this.length;a++){var m=this.words[a]&p,y=(0|this.words[a])-m<<c;this.words[a]=y|f,f=m>>>26-c}f&&(this.words[a]=f,this.length++)}if(0!==u){for(a=this.length-1;a>=0;a--)this.words[a+u]=this.words[a];for(a=0;a<u;a++)this.words[a]=0;this.length+=u}return this.strip()},BN.prototype.ishln=function(e){return assert(0===this.negative),this.iushln(e)},BN.prototype.iushrn=function(e,a,c){assert("number"==typeof e&&e>=0),u=a?(a-a%26)/26:0;var u,p=e%26,f=Math.min((e-p)/26,this.length),m=67108863^67108863>>>p<<p;if(u-=f,u=Math.max(0,u),c){for(var y=0;y<f;y++)c.words[y]=this.words[y];c.length=f}if(0===f);else if(this.length>f)for(this.length-=f,y=0;y<this.length;y++)this.words[y]=this.words[y+f];else this.words[0]=0,this.length=1;var w=0;for(y=this.length-1;y>=0&&(0!==w||y>=u);y--){var E=0|this.words[y];this.words[y]=w<<26-p|E>>>p,w=E&m}return c&&0!==w&&(c.words[c.length++]=w),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},BN.prototype.ishrn=function(e,a,c){return assert(0===this.negative),this.iushrn(e,a,c)},BN.prototype.shln=function(e){return this.clone().ishln(e)},BN.prototype.ushln=function(e){return this.clone().iushln(e)},BN.prototype.shrn=function(e){return this.clone().ishrn(e)},BN.prototype.ushrn=function(e){return this.clone().iushrn(e)},BN.prototype.testn=function(e){assert("number"==typeof e&&e>=0);var a=e%26,c=(e-a)/26;return!(this.length<=c)&&!!(this.words[c]&1<<a)},BN.prototype.imaskn=function(e){assert("number"==typeof e&&e>=0);var a=e%26,c=(e-a)/26;return(assert(0===this.negative,"imaskn works only with positive numbers"),this.length<=c)?this:(0!==a&&c++,this.length=Math.min(c,this.length),0!==a&&(this.words[this.length-1]&=67108863^67108863>>>a<<a),this.strip())},BN.prototype.maskn=function(e){return this.clone().imaskn(e)},BN.prototype.iaddn=function(e){return(assert("number"==typeof e),assert(e<67108864),e<0)?this.isubn(-e):0!==this.negative?(1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0):(this.negative=0,this.isubn(e),this.negative=1),this):this._iaddn(e)},BN.prototype._iaddn=function(e){this.words[0]+=e;for(var a=0;a<this.length&&this.words[a]>=67108864;a++)this.words[a]-=67108864,a===this.length-1?this.words[a+1]=1:this.words[a+1]++;return this.length=Math.max(this.length,a+1),this},BN.prototype.isubn=function(e){if(assert("number"==typeof e),assert(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var a=0;a<this.length&&this.words[a]<0;a++)this.words[a]+=67108864,this.words[a+1]-=1;return this.strip()},BN.prototype.addn=function(e){return this.clone().iaddn(e)},BN.prototype.subn=function(e){return this.clone().isubn(e)},BN.prototype.iabs=function(){return this.negative=0,this},BN.prototype.abs=function(){return this.clone().iabs()},BN.prototype._ishlnsubmul=function(e,a,c){var u,p,f=e.length+c;this._expand(f);var m=0;for(u=0;u<e.length;u++){p=(0|this.words[u+c])+m;var y=(0|e.words[u])*a;p-=67108863&y,m=(p>>26)-(y/67108864|0),this.words[u+c]=67108863&p}for(;u<this.length-c;u++)m=(p=(0|this.words[u+c])+m)>>26,this.words[u+c]=67108863&p;if(0===m)return this.strip();for(assert(-1===m),m=0,u=0;u<this.length;u++)m=(p=-(0|this.words[u])+m)>>26,this.words[u]=67108863&p;return this.negative=1,this.strip()},BN.prototype._wordDiv=function(e,a){var c,u=this.length-e.length,p=this.clone(),f=e,m=0|f.words[f.length-1];0!=(u=26-this._countBits(m))&&(f=f.ushln(u),p.iushln(u),m=0|f.words[f.length-1]);var y=p.length-f.length;if("mod"!==a){(c=new BN(null)).length=y+1,c.words=Array(c.length);for(var w=0;w<c.length;w++)c.words[w]=0}var E=p.clone()._ishlnsubmul(f,1,y);0===E.negative&&(p=E,c&&(c.words[y]=1));for(var S=y-1;S>=0;S--){var A=(0|p.words[f.length+S])*67108864+(0|p.words[f.length+S-1]);for(A=Math.min(A/m|0,67108863),p._ishlnsubmul(f,A,S);0!==p.negative;)A--,p.negative=0,p._ishlnsubmul(f,1,S),p.isZero()||(p.negative^=1);c&&(c.words[S]=A)}return c&&c.strip(),p.strip(),"div"!==a&&0!==u&&p.iushrn(u),{div:c||null,mod:p}},BN.prototype.divmod=function(e,a,c){var u,p,f;return(assert(!e.isZero()),this.isZero())?{div:new BN(0),mod:new BN(0)}:0!==this.negative&&0===e.negative?(f=this.neg().divmod(e,a),"mod"!==a&&(u=f.div.neg()),"div"!==a&&(p=f.mod.neg(),c&&0!==p.negative&&p.iadd(e)),{div:u,mod:p}):0===this.negative&&0!==e.negative?(f=this.divmod(e.neg(),a),"mod"!==a&&(u=f.div.neg()),{div:u,mod:f.mod}):(this.negative&e.negative)!=0?(f=this.neg().divmod(e.neg(),a),"div"!==a&&(p=f.mod.neg(),c&&0!==p.negative&&p.isub(e)),{div:f.div,mod:p}):e.length>this.length||0>this.cmp(e)?{div:new BN(0),mod:this}:1===e.length?"div"===a?{div:this.divn(e.words[0]),mod:null}:"mod"===a?{div:null,mod:new BN(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new BN(this.modn(e.words[0]))}:this._wordDiv(e,a)},BN.prototype.div=function(e){return this.divmod(e,"div",!1).div},BN.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},BN.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},BN.prototype.divRound=function(e){var a=this.divmod(e);if(a.mod.isZero())return a.div;var c=0!==a.div.negative?a.mod.isub(e):a.mod,u=e.ushrn(1),p=e.andln(1),f=c.cmp(u);return f<0||1===p&&0===f?a.div:0!==a.div.negative?a.div.isubn(1):a.div.iaddn(1)},BN.prototype.modn=function(e){assert(e<=67108863);for(var a=67108864%e,c=0,u=this.length-1;u>=0;u--)c=(a*c+(0|this.words[u]))%e;return c},BN.prototype.idivn=function(e){assert(e<=67108863);for(var a=0,c=this.length-1;c>=0;c--){var u=(0|this.words[c])+67108864*a;this.words[c]=u/e|0,a=u%e}return this.strip()},BN.prototype.divn=function(e){return this.clone().idivn(e)},BN.prototype.egcd=function(e){assert(0===e.negative),assert(!e.isZero());var a=this,c=e.clone();a=0!==a.negative?a.umod(e):a.clone();for(var u=new BN(1),p=new BN(0),f=new BN(0),m=new BN(1),y=0;a.isEven()&&c.isEven();)a.iushrn(1),c.iushrn(1),++y;for(var w=c.clone(),E=a.clone();!a.isZero();){for(var S=0,A=1;(a.words[0]&A)==0&&S<26;++S,A<<=1);if(S>0)for(a.iushrn(S);S-- >0;)(u.isOdd()||p.isOdd())&&(u.iadd(w),p.isub(E)),u.iushrn(1),p.iushrn(1);for(var k=0,T=1;(c.words[0]&T)==0&&k<26;++k,T<<=1);if(k>0)for(c.iushrn(k);k-- >0;)(f.isOdd()||m.isOdd())&&(f.iadd(w),m.isub(E)),f.iushrn(1),m.iushrn(1);a.cmp(c)>=0?(a.isub(c),u.isub(f),p.isub(m)):(c.isub(a),f.isub(u),m.isub(p))}return{a:f,b:m,gcd:c.iushln(y)}},BN.prototype._invmp=function(e){assert(0===e.negative),assert(!e.isZero());var a,c=this,u=e.clone();c=0!==c.negative?c.umod(e):c.clone();for(var p=new BN(1),f=new BN(0),m=u.clone();c.cmpn(1)>0&&u.cmpn(1)>0;){for(var y=0,w=1;(c.words[0]&w)==0&&y<26;++y,w<<=1);if(y>0)for(c.iushrn(y);y-- >0;)p.isOdd()&&p.iadd(m),p.iushrn(1);for(var E=0,S=1;(u.words[0]&S)==0&&E<26;++E,S<<=1);if(E>0)for(u.iushrn(E);E-- >0;)f.isOdd()&&f.iadd(m),f.iushrn(1);c.cmp(u)>=0?(c.isub(u),p.isub(f)):(u.isub(c),f.isub(p))}return 0>(a=0===c.cmpn(1)?p:f).cmpn(0)&&a.iadd(e),a},BN.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var a=this.clone(),c=e.clone();a.negative=0,c.negative=0;for(var u=0;a.isEven()&&c.isEven();u++)a.iushrn(1),c.iushrn(1);for(;;){for(;a.isEven();)a.iushrn(1);for(;c.isEven();)c.iushrn(1);var p=a.cmp(c);if(p<0){var f=a;a=c,c=f}else if(0===p||0===c.cmpn(1))break;a.isub(c)}return c.iushln(u)},BN.prototype.invm=function(e){return this.egcd(e).a.umod(e)},BN.prototype.isEven=function(){return(1&this.words[0])==0},BN.prototype.isOdd=function(){return(1&this.words[0])==1},BN.prototype.andln=function(e){return this.words[0]&e},BN.prototype.bincn=function(e){assert("number"==typeof e);var a=e%26,c=(e-a)/26,u=1<<a;if(this.length<=c)return this._expand(c+1),this.words[c]|=u,this;for(var p=u,f=c;0!==p&&f<this.length;f++){var m=0|this.words[f];m+=p,p=m>>>26,m&=67108863,this.words[f]=m}return 0!==p&&(this.words[f]=p,this.length++),this},BN.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},BN.prototype.cmpn=function(e){var a,c=e<0;if(0!==this.negative&&!c)return -1;if(0===this.negative&&c)return 1;if(this.strip(),this.length>1)a=1;else{c&&(e=-e),assert(e<=67108863,"Number is too big");var u=0|this.words[0];a=u===e?0:u<e?-1:1}return 0!==this.negative?0|-a:a},BN.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return -1;if(0===this.negative&&0!==e.negative)return 1;var a=this.ucmp(e);return 0!==this.negative?0|-a:a},BN.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return -1;for(var a=0,c=this.length-1;c>=0;c--){var u=0|this.words[c],p=0|e.words[c];if(u!==p){u<p?a=-1:u>p&&(a=1);break}}return a},BN.prototype.gtn=function(e){return 1===this.cmpn(e)},BN.prototype.gt=function(e){return 1===this.cmp(e)},BN.prototype.gten=function(e){return this.cmpn(e)>=0},BN.prototype.gte=function(e){return this.cmp(e)>=0},BN.prototype.ltn=function(e){return -1===this.cmpn(e)},BN.prototype.lt=function(e){return -1===this.cmp(e)},BN.prototype.lten=function(e){return 0>=this.cmpn(e)},BN.prototype.lte=function(e){return 0>=this.cmp(e)},BN.prototype.eqn=function(e){return 0===this.cmpn(e)},BN.prototype.eq=function(e){return 0===this.cmp(e)},BN.red=function(e){return new Red(e)},BN.prototype.toRed=function(e){return assert(!this.red,"Already a number in reduction context"),assert(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},BN.prototype.fromRed=function(){return assert(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},BN.prototype._forceRed=function(e){return this.red=e,this},BN.prototype.forceRed=function(e){return assert(!this.red,"Already a number in reduction context"),this._forceRed(e)},BN.prototype.redAdd=function(e){return assert(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},BN.prototype.redIAdd=function(e){return assert(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},BN.prototype.redSub=function(e){return assert(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},BN.prototype.redISub=function(e){return assert(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},BN.prototype.redShl=function(e){return assert(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},BN.prototype.redMul=function(e){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},BN.prototype.redIMul=function(e){return assert(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},BN.prototype.redSqr=function(){return assert(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},BN.prototype.redISqr=function(){return assert(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},BN.prototype.redSqrt=function(){return assert(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},BN.prototype.redInvm=function(){return assert(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},BN.prototype.redNeg=function(){return assert(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},BN.prototype.redPow=function(e){return assert(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function MPrime(e,a){this.name=e,this.p=new BN(a,16),this.n=this.p.bitLength(),this.k=new BN(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function K256(){MPrime.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function P224(){MPrime.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function P192(){MPrime.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function P25519(){MPrime.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function Red(e){if("string"==typeof e){var a=BN._prime(e);this.m=a.p,this.prime=a}else assert(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function Mont(e){Red.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new BN(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}MPrime.prototype._tmp=function(){var e=new BN(null);return e.words=Array(Math.ceil(this.n/13)),e},MPrime.prototype.ireduce=function(e){var a,c=e;do this.split(c,this.tmp),a=(c=(c=this.imulK(c)).iadd(this.tmp)).bitLength();while(a>this.n);var u=a<this.n?-1:c.ucmp(this.p);return 0===u?(c.words[0]=0,c.length=1):u>0?c.isub(this.p):c.strip(),c},MPrime.prototype.split=function(e,a){e.iushrn(this.n,0,a)},MPrime.prototype.imulK=function(e){return e.imul(this.k)},inherits(K256,MPrime),K256.prototype.split=function(e,a){for(var c=Math.min(e.length,9),u=0;u<c;u++)a.words[u]=e.words[u];if(a.length=c,e.length<=9){e.words[0]=0,e.length=1;return}var p=e.words[9];for(u=10,a.words[a.length++]=4194303&p;u<e.length;u++){var f=0|e.words[u];e.words[u-10]=(4194303&f)<<4|p>>>22,p=f}p>>>=22,e.words[u-10]=p,0===p&&e.length>10?e.length-=10:e.length-=9},K256.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var a=0,c=0;c<e.length;c++){var u=0|e.words[c];a+=977*u,e.words[c]=67108863&a,a=64*u+(a/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},inherits(P224,MPrime),inherits(P192,MPrime),inherits(P25519,MPrime),P25519.prototype.imulK=function(e){for(var a=0,c=0;c<e.length;c++){var u=(0|e.words[c])*19+a,p=67108863&u;u>>>=26,e.words[c]=p,a=u}return 0!==a&&(e.words[e.length++]=a),e},BN._prime=function(e){var a;if(y[e])return y[e];if("k256"===e)a=new K256;else if("p224"===e)a=new P224;else if("p192"===e)a=new P192;else if("p25519"===e)a=new P25519;else throw Error("Unknown prime "+e);return y[e]=a,a},Red.prototype._verify1=function(e){assert(0===e.negative,"red works only with positives"),assert(e.red,"red works only with red numbers")},Red.prototype._verify2=function(e,a){assert((e.negative|a.negative)==0,"red works only with positives"),assert(e.red&&e.red===a.red,"red works only with red numbers")},Red.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},Red.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},Red.prototype.add=function(e,a){this._verify2(e,a);var c=e.add(a);return c.cmp(this.m)>=0&&c.isub(this.m),c._forceRed(this)},Red.prototype.iadd=function(e,a){this._verify2(e,a);var c=e.iadd(a);return c.cmp(this.m)>=0&&c.isub(this.m),c},Red.prototype.sub=function(e,a){this._verify2(e,a);var c=e.sub(a);return 0>c.cmpn(0)&&c.iadd(this.m),c._forceRed(this)},Red.prototype.isub=function(e,a){this._verify2(e,a);var c=e.isub(a);return 0>c.cmpn(0)&&c.iadd(this.m),c},Red.prototype.shl=function(e,a){return this._verify1(e),this.imod(e.ushln(a))},Red.prototype.imul=function(e,a){return this._verify2(e,a),this.imod(e.imul(a))},Red.prototype.mul=function(e,a){return this._verify2(e,a),this.imod(e.mul(a))},Red.prototype.isqr=function(e){return this.imul(e,e.clone())},Red.prototype.sqr=function(e){return this.mul(e,e)},Red.prototype.sqrt=function(e){if(e.isZero())return e.clone();var a=this.m.andln(3);if(assert(a%2==1),3===a){var c=this.m.add(new BN(1)).iushrn(2);return this.pow(e,c)}for(var u=this.m.subn(1),p=0;!u.isZero()&&0===u.andln(1);)p++,u.iushrn(1);assert(!u.isZero());var f=new BN(1).toRed(this),m=f.redNeg(),y=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new BN(2*w*w).toRed(this);0!==this.pow(w,y).cmp(m);)w.redIAdd(m);for(var E=this.pow(w,u),S=this.pow(e,u.addn(1).iushrn(1)),A=this.pow(e,u),k=p;0!==A.cmp(f);){for(var T=A,O=0;0!==T.cmp(f);O++)T=T.redSqr();assert(O<k);var B=this.pow(E,new BN(1).iushln(k-O-1));S=S.redMul(B),E=B.redSqr(),A=A.redMul(E),k=O}return S},Red.prototype.invm=function(e){var a=e._invmp(this.m);return 0!==a.negative?(a.negative=0,this.imod(a).redNeg()):this.imod(a)},Red.prototype.pow=function(e,a){if(a.isZero())return new BN(1).toRed(this);if(0===a.cmpn(1))return e.clone();var c=Array(16);c[0]=new BN(1).toRed(this),c[1]=e;for(var u=2;u<c.length;u++)c[u]=this.mul(c[u-1],e);var p=c[0],f=0,m=0,y=a.bitLength()%26;for(0===y&&(y=26),u=a.length-1;u>=0;u--){for(var w=a.words[u],E=y-1;E>=0;E--){var S=w>>E&1;if(p!==c[0]&&(p=this.sqr(p)),0===S&&0===f){m=0;continue}f<<=1,f|=S,(4==++m||0===u&&0===E)&&(p=this.mul(p,c[f]),m=0,f=0)}y=26}return p},Red.prototype.convertTo=function(e){var a=e.umod(this.m);return a===e?a.clone():a},Red.prototype.convertFrom=function(e){var a=e.clone();return a.red=null,a},BN.mont=function(e){return new Mont(e)},inherits(Mont,Red),Mont.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},Mont.prototype.convertFrom=function(e){var a=this.imod(e.mul(this.rinv));return a.red=null,a},Mont.prototype.imul=function(e,a){if(e.isZero()||a.isZero())return e.words[0]=0,e.length=1,e;var c=e.imul(a),u=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(u).iushrn(this.shift),f=p;return p.cmp(this.m)>=0?f=p.isub(this.m):0>p.cmpn(0)&&(f=p.iadd(this.m)),f._forceRed(this)},Mont.prototype.mul=function(e,a){if(e.isZero()||a.isZero())return new BN(0)._forceRed(this);var c=e.mul(a),u=c.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),p=c.isub(u).iushrn(this.shift),f=p;return p.cmp(this.m)>=0?f=p.isub(this.m):0>p.cmpn(0)&&(f=p.iadd(this.m)),f._forceRed(this)},Mont.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e=c.nmd(e),this)},72259:function(e){"function"==typeof Object.create?e.exports=function(e,a){e.super_=a,e.prototype=Object.create(a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,a){e.super_=a;var TempCtor=function(){};TempCtor.prototype=a.prototype,e.prototype=new TempCtor,e.prototype.constructor=e}},2473:function(e){e.exports=function(e,a){if("function"==typeof e.compare)return e.compare(a);if(e===a)return 0;for(var c=e.length,u=a.length,p=0,f=Math.min(c,u);p<f&&e[p]===a[p];)++p;return(p!==f&&(c=e[p],u=a[p]),c<u)?-1:u<c?1:0}},69629:function(e,a,c){var u=c(25566),p=c(67133).Buffer;!function(){var a={992:function(e){e.exports=function(e,c,u){if(e.filter)return e.filter(c,u);if(null==e||"function"!=typeof c)throw TypeError();for(var p=[],f=0;f<e.length;f++)if(a.call(e,f)){var m=e[f];c.call(u,m,f,e)&&p.push(m)}return p};var a=Object.prototype.hasOwnProperty},167:function(e,a,c){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p,f,m=c(23).codes,y=m.ERR_AMBIGUOUS_ARGUMENT,w=m.ERR_INVALID_ARG_TYPE,E=m.ERR_INVALID_ARG_VALUE,S=m.ERR_INVALID_RETURN_VALUE,A=m.ERR_MISSING_ARGS,k=c(545),T=c(177).inspect,O=c(177).types,B=O.isPromise,C=O.isRegExp,N=Object.assign?Object.assign:c(604).assign,R=Object.is?Object.is:c(208);function lazyLoadComparison(){var e=c(176);p=e.isDeepEqual,f=e.isDeepStrictEqual}var M=!1,U=e.exports=ok,D={};function innerFail(e){if(e.message instanceof Error)throw e.message;throw new k(e)}function innerOk(e,a,c,u){if(!c){var p=!1;if(0===a)p=!0,u="No value argument passed to `assert.ok()`";else if(u instanceof Error)throw u;var f=new k({actual:c,expected:!0,message:u,operator:"==",stackStartFn:e});throw f.generatedMessage=p,f}}function ok(){for(var e=arguments.length,a=Array(e),c=0;c<e;c++)a[c]=arguments[c];innerOk.apply(void 0,[ok,a.length].concat(a))}U.fail=function fail(e,a,c,p,f){var m,y=arguments.length;if(0===y?m="Failed":1===y?(c=e,e=void 0):(!1===M&&(M=!0,(u.emitWarning?u.emitWarning:console.warn.bind(console))("assert.fail() with more than one argument is deprecated. Please use assert.strictEqual() instead or only pass a message.","DeprecationWarning","DEP0094")),2===y&&(p="!=")),c instanceof Error)throw c;var w={actual:e,expected:a,operator:void 0===p?"fail":p,stackStartFn:f||fail};void 0!==c&&(w.message=c);var E=new k(w);throw m&&(E.message=m,E.generatedMessage=!0),E},U.AssertionError=k,U.ok=ok,U.equal=function equal(e,a,c){if(arguments.length<2)throw new A("actual","expected");e!=a&&innerFail({actual:e,expected:a,message:c,operator:"==",stackStartFn:equal})},U.notEqual=function notEqual(e,a,c){if(arguments.length<2)throw new A("actual","expected");e==a&&innerFail({actual:e,expected:a,message:c,operator:"!=",stackStartFn:notEqual})},U.deepEqual=function deepEqual(e,a,c){if(arguments.length<2)throw new A("actual","expected");void 0===p&&lazyLoadComparison(),p(e,a)||innerFail({actual:e,expected:a,message:c,operator:"deepEqual",stackStartFn:deepEqual})},U.notDeepEqual=function notDeepEqual(e,a,c){if(arguments.length<2)throw new A("actual","expected");void 0===p&&lazyLoadComparison(),p(e,a)&&innerFail({actual:e,expected:a,message:c,operator:"notDeepEqual",stackStartFn:notDeepEqual})},U.deepStrictEqual=function deepStrictEqual(e,a,c){if(arguments.length<2)throw new A("actual","expected");void 0===p&&lazyLoadComparison(),f(e,a)||innerFail({actual:e,expected:a,message:c,operator:"deepStrictEqual",stackStartFn:deepStrictEqual})},U.notDeepStrictEqual=function notDeepStrictEqual(e,a,c){if(arguments.length<2)throw new A("actual","expected");void 0===p&&lazyLoadComparison(),f(e,a)&&innerFail({actual:e,expected:a,message:c,operator:"notDeepStrictEqual",stackStartFn:notDeepStrictEqual})},U.strictEqual=function strictEqual(e,a,c){if(arguments.length<2)throw new A("actual","expected");R(e,a)||innerFail({actual:e,expected:a,message:c,operator:"strictEqual",stackStartFn:strictEqual})},U.notStrictEqual=function notStrictEqual(e,a,c){if(arguments.length<2)throw new A("actual","expected");R(e,a)&&innerFail({actual:e,expected:a,message:c,operator:"notStrictEqual",stackStartFn:notStrictEqual})};var I=function Comparison(e,a,c){var u=this;!function(e,a){if(!(e instanceof a))throw TypeError("Cannot call a class as a function")}(this,Comparison),a.forEach(function(a){a in e&&(void 0!==c&&"string"==typeof c[a]&&C(e[a])&&e[a].test(c[a])?u[a]=c[a]:u[a]=e[a])})};function expectedException(e,a,c,u){if("function"!=typeof a){if(C(a))return a.test(e);if(2==arguments.length)throw new w("expected",["Function","RegExp"],a);if("object"!==_typeof(e)||null===e){var m=new k({actual:e,expected:a,message:c,operator:"deepStrictEqual",stackStartFn:u});throw m.operator=u.name,m}var y=Object.keys(a);if(a instanceof Error)y.push("name","message");else if(0===y.length)throw new E("error",a,"may not be an empty object");return void 0===p&&lazyLoadComparison(),y.forEach(function(p){"string"==typeof e[p]&&C(a[p])&&a[p].test(e[p])||function(e,a,c,u,p,m){if(!(c in e)||!f(e[c],a[c])){if(!u){var y=new I(e,p),w=new I(a,p,e),E=new k({actual:y,expected:w,operator:"deepStrictEqual",stackStartFn:m});throw E.actual=e,E.expected=a,E.operator=m.name,E}innerFail({actual:e,expected:a,message:u,operator:m.name,stackStartFn:m})}}(e,a,p,c,y,u)}),!0}return void 0!==a.prototype&&e instanceof a||!Error.isPrototypeOf(a)&&!0===a.call({},e)}function getActual(e){if("function"!=typeof e)throw new w("fn","Function",e);try{e()}catch(e){return e}return D}function checkIsPromise(e){return B(e)||null!==e&&"object"===_typeof(e)&&"function"==typeof e.then&&"function"==typeof e.catch}function waitForActual(e){return Promise.resolve().then(function(){var a;if("function"==typeof e){if(!checkIsPromise(a=e()))throw new S("instance of Promise","promiseFn",a)}else if(checkIsPromise(e))a=e;else throw new w("promiseFn",["Function","Promise"],e);return Promise.resolve().then(function(){return a}).then(function(){return D}).catch(function(e){return e})})}function expectsError(e,a,c,u){if("string"==typeof c){if(4==arguments.length)throw new w("error",["Object","Error","Function","RegExp"],c);if("object"===_typeof(a)&&null!==a){if(a.message===c)throw new y("error/message",'The error message "'.concat(a.message,'" is identical to the message.'))}else if(a===c)throw new y("error/message",'The error "'.concat(a,'" is identical to the message.'));u=c,c=void 0}else if(null!=c&&"object"!==_typeof(c)&&"function"!=typeof c)throw new w("error",["Object","Error","Function","RegExp"],c);if(a===D){var p="";c&&c.name&&(p+=" (".concat(c.name,")")),p+=u?": ".concat(u):".";var f="rejects"===e.name?"rejection":"exception";innerFail({actual:void 0,expected:c,operator:e.name,message:"Missing expected ".concat(f).concat(p),stackStartFn:e})}if(c&&!expectedException(a,c,u,e))throw a}function expectsNoError(e,a,c,u){if(a!==D){if("string"==typeof c&&(u=c,c=void 0),!c||expectedException(a,c)){var p=u?": ".concat(u):".",f="doesNotReject"===e.name?"rejection":"exception";innerFail({actual:a,expected:c,operator:e.name,message:"Got unwanted ".concat(f).concat(p,"\n")+'Actual message: "'.concat(a&&a.message,'"'),stackStartFn:e})}throw a}}U.throws=function throws(e){for(var a=arguments.length,c=Array(a>1?a-1:0),u=1;u<a;u++)c[u-1]=arguments[u];expectsError.apply(void 0,[throws,getActual(e)].concat(c))},U.rejects=function rejects(e){for(var a=arguments.length,c=Array(a>1?a-1:0),u=1;u<a;u++)c[u-1]=arguments[u];return waitForActual(e).then(function(e){return expectsError.apply(void 0,[rejects,e].concat(c))})},U.doesNotThrow=function doesNotThrow(e){for(var a=arguments.length,c=Array(a>1?a-1:0),u=1;u<a;u++)c[u-1]=arguments[u];expectsNoError.apply(void 0,[doesNotThrow,getActual(e)].concat(c))},U.doesNotReject=function doesNotReject(e){for(var a=arguments.length,c=Array(a>1?a-1:0),u=1;u<a;u++)c[u-1]=arguments[u];return waitForActual(e).then(function(e){return expectsNoError.apply(void 0,[doesNotReject,e].concat(c))})},U.ifError=function ifError(e){if(null!=e){var a="ifError got unwanted exception: ";"object"===_typeof(e)&&"string"==typeof e.message?0===e.message.length&&e.constructor?a+=e.constructor.name:a+=e.message:a+=T(e);var c=new k({actual:e,expected:null,operator:"ifError",message:a,stackStartFn:ifError}),u=e.stack;if("string"==typeof u){var p=u.split("\n");p.shift();for(var f=c.stack.split("\n"),m=0;m<p.length;m++){var y=f.indexOf(p[m]);if(-1!==y){f=f.slice(0,y);break}}c.stack="".concat(f.join("\n"),"\n").concat(p.join("\n"))}throw c}},U.strict=N(function strict(){for(var e=arguments.length,a=Array(e),c=0;c<e;c++)a[c]=arguments[c];innerOk.apply(void 0,[strict,a.length].concat(a))},U,{equal:U.strictEqual,deepEqual:U.deepStrictEqual,notEqual:U.notStrictEqual,notDeepEqual:U.notDeepStrictEqual}),U.strict.strict=U.strict},545:function(e,a,c){"use strict";function _defineProperties(e,a){for(var c=0;c<a.length;c++){var u=a[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(e,u.key,u)}}function _possibleConstructorReturn(e,a){return a&&("object"===_typeof(a)||"function"==typeof a)?a:_assertThisInitialized(e)}function _assertThisInitialized(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _wrapNativeSuper(e){var a="function"==typeof Map?new Map:void 0;return(_wrapNativeSuper=function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw TypeError("Super expression must either be null or a function");if(void 0!==a){if(a.has(e))return a.get(e);a.set(e,Wrapper)}function Wrapper(){return _construct(e,arguments,_getPrototypeOf(this).constructor)}return Wrapper.prototype=Object.create(e.prototype,{constructor:{value:Wrapper,enumerable:!1,writable:!0,configurable:!0}}),_setPrototypeOf(Wrapper,e)})(e)}function _construct(e,a,c){return(_construct=!function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}()?function(e,a,c){var u=[null];u.push.apply(u,a);var p=new(Function.bind.apply(e,u));return c&&_setPrototypeOf(p,c.prototype),p}:Reflect.construct).apply(null,arguments)}function _setPrototypeOf(e,a){return(_setPrototypeOf=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var p=c(177).inspect,f=c(23).codes.ERR_INVALID_ARG_TYPE;function endsWith(e,a,c){return(void 0===c||c>e.length)&&(c=e.length),e.substring(c-a.length,c)===a}var m="",y="",w="",E="",S={deepStrictEqual:"Expected values to be strictly deep-equal:",strictEqual:"Expected values to be strictly equal:",strictEqualObject:'Expected "actual" to be reference-equal to "expected":',deepEqual:"Expected values to be loosely deep-equal:",equal:"Expected values to be loosely equal:",notDeepStrictEqual:'Expected "actual" not to be strictly deep-equal to:',notStrictEqual:'Expected "actual" to be strictly unequal to:',notStrictEqualObject:'Expected "actual" not to be reference-equal to "expected":',notDeepEqual:'Expected "actual" not to be loosely deep-equal to:',notEqual:'Expected "actual" to be loosely unequal to:',notIdentical:"Values identical but not reference-equal:"};function copyError(e){var a=Object.keys(e),c=Object.create(Object.getPrototypeOf(e));return a.forEach(function(a){c[a]=e[a]}),Object.defineProperty(c,"message",{value:e.message}),c}function inspectValue(e){return p(e,{compact:!1,customInspect:!1,depth:1e3,maxArrayLength:1/0,showHidden:!1,breakLength:1/0,showProxy:!1,sorted:!0,getters:!0})}var A=function(e){var a,c;function AssertionError(e){if(!function(e,a){if(!(e instanceof a))throw TypeError("Cannot call a class as a function")}(this,AssertionError),"object"!==_typeof(e)||null===e)throw new f("options","Object",e);var a,c=e.message,p=e.operator,A=e.stackStartFn,k=e.actual,T=e.expected,O=Error.stackTraceLimit;if(Error.stackTraceLimit=0,null!=c)a=_possibleConstructorReturn(this,_getPrototypeOf(AssertionError).call(this,String(c)));else if(u.stderr&&u.stderr.isTTY&&(u.stderr&&u.stderr.getColorDepth&&1!==u.stderr.getColorDepth()?(m="\x1b[34m",y="\x1b[32m",E="\x1b[39m",w="\x1b[31m"):(m="",y="",E="",w="")),"object"===_typeof(k)&&null!==k&&"object"===_typeof(T)&&null!==T&&"stack"in k&&k instanceof Error&&"stack"in T&&T instanceof Error&&(k=copyError(k),T=copyError(T)),"deepStrictEqual"===p||"strictEqual"===p)a=_possibleConstructorReturn(this,_getPrototypeOf(AssertionError).call(this,function(e,a,c){var p="",f="",A=0,k="",T=!1,O=inspectValue(e),B=O.split("\n"),C=inspectValue(a).split("\n"),N=0,R="";if("strictEqual"===c&&"object"===_typeof(e)&&"object"===_typeof(a)&&null!==e&&null!==a&&(c="strictEqualObject"),1===B.length&&1===C.length&&B[0]!==C[0]){var M=B[0].length+C[0].length;if(M<=10){if(("object"!==_typeof(e)||null===e)&&("object"!==_typeof(a)||null===a)&&(0!==e||0!==a))return"".concat(S[c],"\n\n")+"".concat(B[0]," !== ").concat(C[0],"\n")}else if("strictEqualObject"!==c&&M<(u.stderr&&u.stderr.isTTY?u.stderr.columns:80)){for(;B[0][N]===C[0][N];)N++;N>2&&(R="\n  ".concat(function(e,a){if(a=Math.floor(a),0==e.length||0==a)return"";var c=e.length*a;for(a=Math.floor(Math.log(a)/Math.log(2));a;)e+=e,a--;return e+e.substring(0,c-e.length)}(" ",N),"^"),N=0)}}for(var U=B[B.length-1],D=C[C.length-1];U===D&&(N++<2?k="\n  ".concat(U).concat(k):p=U,B.pop(),C.pop(),0!==B.length&&0!==C.length);)U=B[B.length-1],D=C[C.length-1];var H=Math.max(B.length,C.length);if(0===H){var F=O.split("\n");if(F.length>30)for(F[26]="".concat(m,"...").concat(E);F.length>27;)F.pop();return"".concat(S.notIdentical,"\n\n").concat(F.join("\n"),"\n")}N>3&&(k="\n".concat(m,"...").concat(E).concat(k),T=!0),""!==p&&(k="\n  ".concat(p).concat(k),p="");var L=0,K=S[c]+"\n".concat(y,"+ actual").concat(E," ").concat(w,"- expected").concat(E),V=" ".concat(m,"...").concat(E," Lines skipped");for(N=0;N<H;N++){var G=N-A;if(B.length<N+1)G>1&&N>2&&(G>4?(f+="\n".concat(m,"...").concat(E),T=!0):G>3&&(f+="\n  ".concat(C[N-2]),L++),f+="\n  ".concat(C[N-1]),L++),A=N,p+="\n".concat(w,"-").concat(E," ").concat(C[N]),L++;else if(C.length<N+1)G>1&&N>2&&(G>4?(f+="\n".concat(m,"...").concat(E),T=!0):G>3&&(f+="\n  ".concat(B[N-2]),L++),f+="\n  ".concat(B[N-1]),L++),A=N,f+="\n".concat(y,"+").concat(E," ").concat(B[N]),L++;else{var z=C[N],q=B[N],W=q!==z&&(!endsWith(q,",")||q.slice(0,-1)!==z);W&&endsWith(z,",")&&z.slice(0,-1)===q&&(W=!1,q+=","),W?(G>1&&N>2&&(G>4?(f+="\n".concat(m,"...").concat(E),T=!0):G>3&&(f+="\n  ".concat(B[N-2]),L++),f+="\n  ".concat(B[N-1]),L++),A=N,f+="\n".concat(y,"+").concat(E," ").concat(q),p+="\n".concat(w,"-").concat(E," ").concat(z),L+=2):(f+=p,p="",(1===G||0===N)&&(f+="\n  ".concat(q),L++))}if(L>20&&N<H-2)return"".concat(K).concat(V,"\n").concat(f,"\n").concat(m,"...").concat(E).concat(p,"\n")+"".concat(m,"...").concat(E)}return"".concat(K).concat(T?V:"","\n").concat(f).concat(p).concat(k).concat(R)}(k,T,p)));else if("notDeepStrictEqual"===p||"notStrictEqual"===p){var B=S[p],C=inspectValue(k).split("\n");if("notStrictEqual"===p&&"object"===_typeof(k)&&null!==k&&(B=S.notStrictEqualObject),C.length>30)for(C[26]="".concat(m,"...").concat(E);C.length>27;)C.pop();a=1===C.length?_possibleConstructorReturn(this,_getPrototypeOf(AssertionError).call(this,"".concat(B," ").concat(C[0]))):_possibleConstructorReturn(this,_getPrototypeOf(AssertionError).call(this,"".concat(B,"\n\n").concat(C.join("\n"),"\n")))}else{var N=inspectValue(k),R="",M=S[p];"notDeepEqual"===p||"notEqual"===p?(N="".concat(S[p],"\n\n").concat(N)).length>1024&&(N="".concat(N.slice(0,1021),"...")):(R="".concat(inspectValue(T)),N.length>512&&(N="".concat(N.slice(0,509),"...")),R.length>512&&(R="".concat(R.slice(0,509),"...")),"deepEqual"===p||"equal"===p?N="".concat(M,"\n\n").concat(N,"\n\nshould equal\n\n"):R=" ".concat(p," ").concat(R)),a=_possibleConstructorReturn(this,_getPrototypeOf(AssertionError).call(this,"".concat(N).concat(R)))}return Error.stackTraceLimit=O,a.generatedMessage=!c,Object.defineProperty(_assertThisInitialized(a),"name",{value:"AssertionError [ERR_ASSERTION]",enumerable:!1,writable:!0,configurable:!0}),a.code="ERR_ASSERTION",a.actual=k,a.expected=T,a.operator=p,Error.captureStackTrace&&Error.captureStackTrace(_assertThisInitialized(a),A),a.stack,a.name="AssertionError",_possibleConstructorReturn(a)}return!function(e,a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&_setPrototypeOf(e,a)}(AssertionError,e),a=[{key:"toString",value:function(){return"".concat(this.name," [").concat(this.code,"]: ").concat(this.message)}},{key:p.custom,value:function(e,a){return p(this,function(e){for(var a=1;a<arguments.length;a++){var c=null!=arguments[a]?arguments[a]:{},u=Object.keys(c);"function"==typeof Object.getOwnPropertySymbols&&(u=u.concat(Object.getOwnPropertySymbols(c).filter(function(e){return Object.getOwnPropertyDescriptor(c,e).enumerable}))),u.forEach(function(a){var u;u=c[a],a in e?Object.defineProperty(e,a,{value:u,enumerable:!0,configurable:!0,writable:!0}):e[a]=u})}return e}({},a,{customInspect:!1,depth:0}))}}],_defineProperties(AssertionError.prototype,a),c&&_defineProperties(AssertionError,c),AssertionError}(_wrapNativeSuper(Error));e.exports=A},23:function(e,a,c){"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _getPrototypeOf(e){return(_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _setPrototypeOf(e,a){return(_setPrototypeOf=Object.setPrototypeOf||function(e,a){return e.__proto__=a,e})(e,a)}var u,p,f={};function createErrorType(e,a,c){c||(c=Error);var u=function(c){function NodeError(c,u,p){var f,m;return!function(e,a){if(!(e instanceof a))throw TypeError("Cannot call a class as a function")}(this,NodeError),(f=(m=_getPrototypeOf(NodeError).call(this,"string"==typeof a?a:a(c,u,p)))&&("object"===_typeof(m)||"function"==typeof m)?m:function(e){if(void 0===e)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(this)).code=e,f}return!function(e,a){if("function"!=typeof a&&null!==a)throw TypeError("Super expression must either be null or a function");e.prototype=Object.create(a&&a.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),a&&_setPrototypeOf(e,a)}(NodeError,c),NodeError}(c);f[e]=u}function oneOf(e,a){if(!Array.isArray(e))return"of ".concat(a," ").concat(String(e));var c=e.length;return(e=e.map(function(e){return String(e)}),c>2)?"one of ".concat(a," ").concat(e.slice(0,c-1).join(", "),", or ")+e[c-1]:2===c?"one of ".concat(a," ").concat(e[0]," or ").concat(e[1]):"of ".concat(a," ").concat(e[0])}createErrorType("ERR_AMBIGUOUS_ARGUMENT",'The "%s" argument is ambiguous. %s',TypeError),createErrorType("ERR_INVALID_ARG_TYPE",function(e,a,p){if((void 0===u&&(u=c(167)),u("string"==typeof e,"'name' must be a string"),"string"==typeof a&&(f="not ",a.substr(!m||m<0?0:+m,f.length)===f))?(S="must not be",a=a.replace(/^not /,"")):S="must be",y=" argument",(void 0===w||w>e.length)&&(w=e.length),e.substring(w-y.length,w)===y)A="The ".concat(e," ").concat(S," ").concat(oneOf(a,"type"));else{var f,m,y,w,E,S,A,k=("number"!=typeof E&&(E=0),E+1>e.length||-1===e.indexOf(".",E))?"argument":"property";A='The "'.concat(e,'" ').concat(k," ").concat(S," ").concat(oneOf(a,"type"))}return A+". Received type ".concat(_typeof(p))},TypeError),createErrorType("ERR_INVALID_ARG_VALUE",function(e,a){var u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"is invalid";void 0===p&&(p=c(177));var f=p.inspect(a);return f.length>128&&(f="".concat(f.slice(0,128),"...")),"The argument '".concat(e,"' ").concat(u,". Received ").concat(f)},TypeError,RangeError),createErrorType("ERR_INVALID_RETURN_VALUE",function(e,a,c){var u;return u=c&&c.constructor&&c.constructor.name?"instance of ".concat(c.constructor.name):"type ".concat(_typeof(c)),"Expected ".concat(e,' to be returned from the "').concat(a,'"')+" function but got ".concat(u,".")},TypeError),createErrorType("ERR_MISSING_ARGS",function(){for(var e=arguments.length,a=Array(e),p=0;p<e;p++)a[p]=arguments[p];void 0===u&&(u=c(167)),u(a.length>0,"At least one arg needs to be specified");var f="The ",m=a.length;switch(a=a.map(function(e){return'"'.concat(e,'"')}),m){case 1:f+="".concat(a[0]," argument");break;case 2:f+="".concat(a[0]," and ").concat(a[1]," arguments");break;default:f+=a.slice(0,m-1).join(", ")+", and ".concat(a[m-1]," arguments")}return"".concat(f," must be specified")},TypeError),e.exports.codes=f},176:function(e,a,c){"use strict";function _slicedToArray(e,a){return function(e){if(Array.isArray(e))return e}(e)||function(e,a){var c=[],u=!0,p=!1,f=void 0;try{for(var m,y=e[Symbol.iterator]();!(u=(m=y.next()).done)&&(c.push(m.value),!a||c.length!==a);u=!0);}catch(e){p=!0,f=e}finally{try{u||null==y.return||y.return()}finally{if(p)throw f}}return c}(e,a)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance")}()}function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var u=void 0!==/a/g.flags,o=function(e){var a=[];return e.forEach(function(e){return a.push(e)}),a},i=function(e){var a=[];return e.forEach(function(e,c){return a.push([c,e])}),a},p=Object.is?Object.is:c(208),f=Object.getOwnPropertySymbols?Object.getOwnPropertySymbols:function(){return[]},m=Number.isNaN?Number.isNaN:c(718);function uncurryThis(e){return e.call.bind(e)}var y=uncurryThis(Object.prototype.hasOwnProperty),w=uncurryThis(Object.prototype.propertyIsEnumerable),E=uncurryThis(Object.prototype.toString),S=c(177).types,A=S.isAnyArrayBuffer,k=S.isArrayBufferView,T=S.isDate,O=S.isMap,B=S.isRegExp,C=S.isSet,N=S.isNativeError,R=S.isBoxedPrimitive,M=S.isNumberObject,U=S.isStringObject,D=S.isBooleanObject,H=S.isBigIntObject,F=S.isSymbolObject,L=S.isFloat32Array,K=S.isFloat64Array;function isNonIndex(e){if(0===e.length||e.length>10)return!0;for(var a=0;a<e.length;a++){var c=e.charCodeAt(a);if(c<48||c>57)return!0}return 10===e.length&&e>=4294967296}function getOwnNonIndexProperties(e){return Object.keys(e).filter(isNonIndex).concat(f(e).filter(Object.prototype.propertyIsEnumerable.bind(e)))}/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
 * @license  MIT
 */function compare(e,a){if(e===a)return 0;for(var c=e.length,u=a.length,p=0,f=Math.min(c,u);p<f;++p)if(e[p]!==a[p]){c=e[p],u=a[p];break}return c<u?-1:u<c?1:0}var V=void 0;function innerDeepEqual(e,a,c,f){if(e===a)return 0!==e||!c||p(e,a);if(c){if("object"!==_typeof(e))return"number"==typeof e&&m(e)&&m(a);if("object"!==_typeof(a)||null===e||null===a||Object.getPrototypeOf(e)!==Object.getPrototypeOf(a))return!1}else{if(null===e||"object"!==_typeof(e))return(null===a||"object"!==_typeof(a))&&e==a;if(null===a||"object"!==_typeof(a))return!1}var y=E(e);if(y!==E(a))return!1;if(Array.isArray(e)){if(e.length!==a.length)return!1;var w=getOwnNonIndexProperties(e,V),S=getOwnNonIndexProperties(a,V);return w.length===S.length&&keyCheck(e,a,c,f,1,w)}if("[object Object]"===y&&(!O(e)&&O(a)||!C(e)&&C(a)))return!1;if(T(e)){if(!T(a)||Date.prototype.getTime.call(e)!==Date.prototype.getTime.call(a))return!1}else if(B(e)){if(!B(a)||(u?e.source!==a.source||e.flags!==a.flags:RegExp.prototype.toString.call(e)!==RegExp.prototype.toString.call(a)))return!1}else if(N(e)||e instanceof Error){if(e.message!==a.message||e.name!==a.name)return!1}else if(k(e)){if(!c&&(L(e)||K(e))){if(!function(e,a){if(e.byteLength!==a.byteLength)return!1;for(var c=0;c<e.byteLength;c++)if(e[c]!==a[c])return!1;return!0}(e,a))return!1}else if(e.byteLength!==a.byteLength||0!==compare(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),new Uint8Array(a.buffer,a.byteOffset,a.byteLength)))return!1;var G=getOwnNonIndexProperties(e,V),z=getOwnNonIndexProperties(a,V);return G.length===z.length&&keyCheck(e,a,c,f,0,G)}else if(C(e))return!!C(a)&&e.size===a.size&&keyCheck(e,a,c,f,2);else if(O(e))return!!O(a)&&e.size===a.size&&keyCheck(e,a,c,f,3);else if(A(e)){if(e.byteLength!==a.byteLength||0!==compare(new Uint8Array(e),new Uint8Array(a)))return!1}else if(R(e)&&(M(e)?!(M(a)&&p(Number.prototype.valueOf.call(e),Number.prototype.valueOf.call(a))):U(e)?!U(a)||String.prototype.valueOf.call(e)!==String.prototype.valueOf.call(a):D(e)?!D(a)||Boolean.prototype.valueOf.call(e)!==Boolean.prototype.valueOf.call(a):H(e)?!H(a)||BigInt.prototype.valueOf.call(e)!==BigInt.prototype.valueOf.call(a):!F(a)||Symbol.prototype.valueOf.call(e)!==Symbol.prototype.valueOf.call(a)))return!1;return keyCheck(e,a,c,f,0)}function getEnumerables(e,a){return a.filter(function(a){return w(e,a)})}function keyCheck(e,a,c,u,p,m){if(5==arguments.length){m=Object.keys(e);var E=Object.keys(a);if(m.length!==E.length)return!1}for(var S=0;S<m.length;S++)if(!y(a,m[S]))return!1;if(c&&5==arguments.length){var A=f(e);if(0!==A.length){var k=0;for(S=0;S<A.length;S++){var T=A[S];if(w(e,T)){if(!w(a,T))return!1;m.push(T),k++}else if(w(a,T))return!1}var O=f(a);if(A.length!==O.length&&getEnumerables(a,O).length!==k)return!1}else{var B=f(a);if(0!==B.length&&0!==getEnumerables(a,B).length)return!1}}if(0===m.length&&(0===p||1===p&&0===e.length||0===e.size))return!0;if(void 0===u)u={val1:new Map,val2:new Map,position:0};else{var C=u.val1.get(e);if(void 0!==C){var N=u.val2.get(a);if(void 0!==N)return C===N}u.position++}u.val1.set(e,u.position),u.val2.set(a,u.position);var R=function(e,a,c,u,p,f){var m=0;if(2===f){if(!function(e,a,c,u){for(var p=null,f=o(e),m=0;m<f.length;m++){var y=f[m];if("object"===_typeof(y)&&null!==y)null===p&&(p=new Set),p.add(y);else if(!a.has(y)){if(c||!function(e,a,c){var u=findLooseMatchingPrimitives(c);return null!=u?u:a.has(u)&&!e.has(u)}(e,a,y))return!1;null===p&&(p=new Set),p.add(y)}}if(null!==p){for(var w=o(a),E=0;E<w.length;E++){var S=w[E];if("object"===_typeof(S)&&null!==S){if(!setHasEqualElement(p,S,c,u))return!1}else if(!c&&!e.has(S)&&!setHasEqualElement(p,S,c,u))return!1}return 0===p.size}return!0}(e,a,c,p))return!1}else if(3===f){if(!function(e,a,c,u){for(var p=null,f=i(e),m=0;m<f.length;m++){var y=_slicedToArray(f[m],2),w=y[0],E=y[1];if("object"===_typeof(w)&&null!==w)null===p&&(p=new Set),p.add(w);else{var S=a.get(w);if(void 0===S&&!a.has(w)||!innerDeepEqual(E,S,c,u)){if(c||!function(e,a,c,u,p){var f=findLooseMatchingPrimitives(c);if(null!=f)return f;var m=a.get(f);return!!((void 0!==m||a.has(f))&&innerDeepEqual(u,m,!1,p))&&!e.has(f)&&innerDeepEqual(u,m,!1,p)}(e,a,w,E,u))return!1;null===p&&(p=new Set),p.add(w)}}}if(null!==p){for(var A=i(a),k=0;k<A.length;k++){var T=_slicedToArray(A[k],2),w=T[0],O=T[1];if("object"===_typeof(w)&&null!==w){if(!mapHasEqualEntry(p,e,w,O,c,u))return!1}else if(!c&&(!e.has(w)||!innerDeepEqual(e.get(w),O,!1,u))&&!mapHasEqualEntry(p,e,w,O,!1,u))return!1}return 0===p.size}return!0}(e,a,c,p))return!1}else if(1===f)for(;m<e.length;m++)if(y(e,m)){if(!y(a,m)||!innerDeepEqual(e[m],a[m],c,p))return!1}else{if(y(a,m))return!1;for(var w=Object.keys(e);m<w.length;m++){var E=w[m];if(!y(a,E)||!innerDeepEqual(e[E],a[E],c,p))return!1}if(w.length!==Object.keys(a).length)return!1;return!0}for(m=0;m<u.length;m++){var S=u[m];if(!innerDeepEqual(e[S],a[S],c,p))return!1}return!0}(e,a,c,m,u,p);return u.val1.delete(e),u.val2.delete(a),R}function setHasEqualElement(e,a,c,u){for(var p=o(e),f=0;f<p.length;f++){var m=p[f];if(innerDeepEqual(a,m,c,u))return e.delete(m),!0}return!1}function findLooseMatchingPrimitives(e){switch(_typeof(e)){case"undefined":return null;case"object":return;case"symbol":return!1;case"string":e=+e;case"number":if(m(e))return!1}return!0}function mapHasEqualEntry(e,a,c,u,p,f){for(var m=o(e),y=0;y<m.length;y++){var w=m[y];if(innerDeepEqual(c,w,p,f)&&innerDeepEqual(u,a.get(w),p,f))return e.delete(w),!0}return!1}e.exports={isDeepEqual:function(e,a){return innerDeepEqual(e,a,!1)},isDeepStrictEqual:function(e,a){return innerDeepEqual(e,a,!0)}}},256:function(e,a,c){"use strict";var u=c(925),p=c(139),f=p(u("String.prototype.indexOf"));e.exports=function(e,a){var c=u(e,!!a);return"function"==typeof c&&f(e,".prototype.")>-1?p(c):c}},139:function(e,a,c){"use strict";var u=c(174),p=c(925),f=p("%Function.prototype.apply%"),m=p("%Function.prototype.call%"),y=p("%Reflect.apply%",!0)||u.call(m,f),w=p("%Object.getOwnPropertyDescriptor%",!0),E=p("%Object.defineProperty%",!0),S=p("%Math.max%");if(E)try{E({},"a",{value:1})}catch(e){E=null}e.exports=function(e){var a=y(u,m,arguments);return w&&E&&w(a,"length").configurable&&E(a,"length",{value:1+S(0,e.length-(arguments.length-1))}),a};var l=function(){return y(u,f,arguments)};E?E(e.exports,"apply",{value:l}):e.exports.apply=l},69:function(e,a,c){"use strict";var u=c(935),p="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),f=Object.prototype.toString,m=Array.prototype.concat,y=Object.defineProperty,w=y&&function(){var e={};try{for(var a in y(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(e){return!1}}(),defineProperty=function(e,a,c,u){(!(a in e)||"function"==typeof u&&"[object Function]"===f.call(u)&&u())&&(w?y(e,a,{configurable:!0,enumerable:!1,value:c,writable:!0}):e[a]=c)},defineProperties=function(e,a){var c=arguments.length>2?arguments[2]:{},f=u(a);p&&(f=m.call(f,Object.getOwnPropertySymbols(a)));for(var y=0;y<f.length;y+=1)defineProperty(e,f[y],a[f[y]],c[f[y]])};defineProperties.supportsDescriptors=!!w,e.exports=defineProperties},604:function(e){"use strict";function assign(e,a){if(null==e)throw TypeError("Cannot convert first argument to object");for(var c=Object(e),u=1;u<arguments.length;u++){var p=arguments[u];if(null!=p)for(var f=Object.keys(Object(p)),m=0,y=f.length;m<y;m++){var w=f[m],E=Object.getOwnPropertyDescriptor(p,w);void 0!==E&&E.enumerable&&(c[w]=p[w])}}return c}e.exports={assign:assign,polyfill:function(){Object.assign||Object.defineProperty(Object,"assign",{enumerable:!1,configurable:!0,writable:!0,value:assign})}}},144:function(e){var a=Object.prototype.hasOwnProperty,c=Object.prototype.toString;e.exports=function(e,u,p){if("[object Function]"!==c.call(u))throw TypeError("iterator must be a function");var f=e.length;if(f===+f)for(var m=0;m<f;m++)u.call(p,e[m],m,e);else for(var y in e)a.call(e,y)&&u.call(p,e[y],y,e)}},426:function(e){"use strict";var a=Array.prototype.slice,c=Object.prototype.toString;e.exports=function(e){var u,p=this;if("function"!=typeof p||"[object Function]"!==c.call(p))throw TypeError("Function.prototype.bind called on incompatible "+p);for(var f=a.call(arguments,1),m=Math.max(0,p.length-f.length),y=[],w=0;w<m;w++)y.push("$"+w);if(u=Function("binder","return function ("+y.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(!(this instanceof u))return p.apply(e,f.concat(a.call(arguments)));var c=p.apply(this,f.concat(a.call(arguments)));return Object(c)===c?c:this}),p.prototype){var l=function(){};l.prototype=p.prototype,u.prototype=new l,l.prototype=null}return u}},174:function(e,a,c){"use strict";var u=c(426);e.exports=Function.prototype.bind||u},500:function(e,a,c){"use strict";var u,p=SyntaxError,f=Function,m=TypeError,getEvalledConstructor=function(e){try{return f('"use strict"; return ('+e+").constructor;")()}catch(e){}},y=Object.getOwnPropertyDescriptor;if(y)try{y({},"")}catch(e){y=null}var throwTypeError=function(){throw new m},w=y?function(){try{return arguments.callee,throwTypeError}catch(e){try{return y(arguments,"callee").get}catch(e){return throwTypeError}}}():throwTypeError,E=c(115)(),S=Object.getPrototypeOf||function(e){return e.__proto__},A={},k="undefined"==typeof Uint8Array?u:S(Uint8Array),T={"%AggregateError%":"undefined"==typeof AggregateError?u:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?u:ArrayBuffer,"%ArrayIteratorPrototype%":E?S([][Symbol.iterator]()):u,"%AsyncFromSyncIteratorPrototype%":u,"%AsyncFunction%":A,"%AsyncGenerator%":A,"%AsyncGeneratorFunction%":A,"%AsyncIteratorPrototype%":A,"%Atomics%":"undefined"==typeof Atomics?u:Atomics,"%BigInt%":"undefined"==typeof BigInt?u:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?u:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?u:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?u:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?u:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":A,"%Int8Array%":"undefined"==typeof Int8Array?u:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?u:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?u:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":E?S(S([][Symbol.iterator]())):u,"%JSON%":"object"==typeof JSON?JSON:u,"%Map%":"undefined"==typeof Map?u:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&E?S((new Map)[Symbol.iterator]()):u,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?u:Promise,"%Proxy%":"undefined"==typeof Proxy?u:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?u:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?u:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&E?S((new Set)[Symbol.iterator]()):u,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?u:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":E?S(""[Symbol.iterator]()):u,"%Symbol%":E?Symbol:u,"%SyntaxError%":p,"%ThrowTypeError%":w,"%TypedArray%":k,"%TypeError%":m,"%Uint8Array%":"undefined"==typeof Uint8Array?u:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?u:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?u:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?u:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?u:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?u:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?u:WeakSet},g=function doEval(e){var a;if("%AsyncFunction%"===e)a=getEvalledConstructor("async function () {}");else if("%GeneratorFunction%"===e)a=getEvalledConstructor("function* () {}");else if("%AsyncGeneratorFunction%"===e)a=getEvalledConstructor("async function* () {}");else if("%AsyncGenerator%"===e){var c=doEval("%AsyncGeneratorFunction%");c&&(a=c.prototype)}else if("%AsyncIteratorPrototype%"===e){var u=doEval("%AsyncGenerator%");u&&(a=S(u.prototype))}return T[e]=a,a},O={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},B=c(174),C=c(101),N=B.call(Function.call,Array.prototype.concat),R=B.call(Function.apply,Array.prototype.splice),M=B.call(Function.call,String.prototype.replace),U=B.call(Function.call,String.prototype.slice),D=B.call(Function.call,RegExp.prototype.exec),H=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,F=/\\(\\)?/g,j=function(e){var a=U(e,0,1),c=U(e,-1);if("%"===a&&"%"!==c)throw new p("invalid intrinsic syntax, expected closing `%`");if("%"===c&&"%"!==a)throw new p("invalid intrinsic syntax, expected opening `%`");var u=[];return M(e,H,function(e,a,c,p){u[u.length]=c?M(p,F,"$1"):a||e}),u},P=function(e,a){var c,u=e;if(C(O,u)&&(u="%"+(c=O[u])[0]+"%"),C(T,u)){var f=T[u];if(f===A&&(f=g(u)),void 0===f&&!a)throw new m("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:c,name:u,value:f}}throw new p("intrinsic "+e+" does not exist!")};e.exports=function(e,a){if("string"!=typeof e||0===e.length)throw new m("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof a)throw new m('"allowMissing" argument must be a boolean');if(null===D(/^%?[^%]*%?$/g,e))throw new p("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var c=j(e),u=c.length>0?c[0]:"",f=P("%"+u+"%",a),w=f.name,E=f.value,S=!1,A=f.alias;A&&(u=A[0],R(c,N([0,1],A)));for(var k=1,O=!0;k<c.length;k+=1){var B=c[k],M=U(B,0,1),H=U(B,-1);if(('"'===M||"'"===M||"`"===M||'"'===H||"'"===H||"`"===H)&&M!==H)throw new p("property names with quotes must have matching quotes");if("constructor"!==B&&O||(S=!0),u+="."+B,C(T,w="%"+u+"%"))E=T[w];else if(null!=E){if(!(B in E)){if(!a)throw new m("base intrinsic for "+e+" exists, but the property is not available.");return}if(y&&k+1>=c.length){var F=y(E,B);E=(O=!!F)&&"get"in F&&!("originalValue"in F.get)?F.get:E[B]}else O=C(E,B),E=E[B];O&&!S&&(T[w]=E)}}return E}},925:function(e,a,c){"use strict";var u,p=SyntaxError,f=Function,m=TypeError,getEvalledConstructor=function(e){try{return f('"use strict"; return ('+e+").constructor;")()}catch(e){}},y=Object.getOwnPropertyDescriptor;if(y)try{y({},"")}catch(e){y=null}var throwTypeError=function(){throw new m},w=y?function(){try{return arguments.callee,throwTypeError}catch(e){try{return y(arguments,"callee").get}catch(e){return throwTypeError}}}():throwTypeError,E=c(115)(),S=c(504)(),A=Object.getPrototypeOf||(S?function(e){return e.__proto__}:null),k={},T="undefined"!=typeof Uint8Array&&A?A(Uint8Array):u,O={"%AggregateError%":"undefined"==typeof AggregateError?u:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?u:ArrayBuffer,"%ArrayIteratorPrototype%":E&&A?A([][Symbol.iterator]()):u,"%AsyncFromSyncIteratorPrototype%":u,"%AsyncFunction%":k,"%AsyncGenerator%":k,"%AsyncGeneratorFunction%":k,"%AsyncIteratorPrototype%":k,"%Atomics%":"undefined"==typeof Atomics?u:Atomics,"%BigInt%":"undefined"==typeof BigInt?u:BigInt,"%BigInt64Array%":"undefined"==typeof BigInt64Array?u:BigInt64Array,"%BigUint64Array%":"undefined"==typeof BigUint64Array?u:BigUint64Array,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?u:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?u:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?u:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?u:FinalizationRegistry,"%Function%":f,"%GeneratorFunction%":k,"%Int8Array%":"undefined"==typeof Int8Array?u:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?u:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?u:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":E&&A?A(A([][Symbol.iterator]())):u,"%JSON%":"object"==typeof JSON?JSON:u,"%Map%":"undefined"==typeof Map?u:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&E&&A?A((new Map)[Symbol.iterator]()):u,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?u:Promise,"%Proxy%":"undefined"==typeof Proxy?u:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?u:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?u:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&E&&A?A((new Set)[Symbol.iterator]()):u,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?u:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":E&&A?A(""[Symbol.iterator]()):u,"%Symbol%":E?Symbol:u,"%SyntaxError%":p,"%ThrowTypeError%":w,"%TypedArray%":T,"%TypeError%":m,"%Uint8Array%":"undefined"==typeof Uint8Array?u:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?u:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?u:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?u:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?u:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?u:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?u:WeakSet};if(A)try{null.error}catch(e){var B=A(A(e));O["%Error.prototype%"]=B}var d=function doEval(e){var a;if("%AsyncFunction%"===e)a=getEvalledConstructor("async function () {}");else if("%GeneratorFunction%"===e)a=getEvalledConstructor("function* () {}");else if("%AsyncGeneratorFunction%"===e)a=getEvalledConstructor("async function* () {}");else if("%AsyncGenerator%"===e){var c=doEval("%AsyncGeneratorFunction%");c&&(a=c.prototype)}else if("%AsyncIteratorPrototype%"===e){var u=doEval("%AsyncGenerator%");u&&A&&(a=A(u.prototype))}return O[e]=a,a},C={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},N=c(174),R=c(101),M=N.call(Function.call,Array.prototype.concat),U=N.call(Function.apply,Array.prototype.splice),D=N.call(Function.call,String.prototype.replace),H=N.call(Function.call,String.prototype.slice),F=N.call(Function.call,RegExp.prototype.exec),L=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,K=/\\(\\)?/g,_=function(e){var a=H(e,0,1),c=H(e,-1);if("%"===a&&"%"!==c)throw new p("invalid intrinsic syntax, expected closing `%`");if("%"===c&&"%"!==a)throw new p("invalid intrinsic syntax, expected opening `%`");var u=[];return D(e,L,function(e,a,c,p){u[u.length]=c?D(p,K,"$1"):a||e}),u},x=function(e,a){var c,u=e;if(R(C,u)&&(u="%"+(c=C[u])[0]+"%"),R(O,u)){var f=O[u];if(f===k&&(f=d(u)),void 0===f&&!a)throw new m("intrinsic "+e+" exists, but is not available. Please file an issue!");return{alias:c,name:u,value:f}}throw new p("intrinsic "+e+" does not exist!")};e.exports=function(e,a){if("string"!=typeof e||0===e.length)throw new m("intrinsic name must be a non-empty string");if(arguments.length>1&&"boolean"!=typeof a)throw new m('"allowMissing" argument must be a boolean');if(null===F(/^%?[^%]*%?$/,e))throw new p("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var c=_(e),u=c.length>0?c[0]:"",f=x("%"+u+"%",a),w=f.name,E=f.value,S=!1,A=f.alias;A&&(u=A[0],U(c,M([0,1],A)));for(var k=1,T=!0;k<c.length;k+=1){var B=c[k],C=H(B,0,1),N=H(B,-1);if(('"'===C||"'"===C||"`"===C||'"'===N||"'"===N||"`"===N)&&C!==N)throw new p("property names with quotes must have matching quotes");if("constructor"!==B&&T||(S=!0),u+="."+B,R(O,w="%"+u+"%"))E=O[w];else if(null!=E){if(!(B in E)){if(!a)throw new m("base intrinsic for "+e+" exists, but the property is not available.");return}if(y&&k+1>=c.length){var D=y(E,B);E=(T=!!D)&&"get"in D&&!("originalValue"in D.get)?D.get:E[B]}else T=R(E,B),E=E[B];T&&!S&&(O[w]=E)}}return E}},504:function(e){"use strict";var a={foo:{}},c=Object;e.exports=function(){return({__proto__:a}).foo===a.foo&&!(({__proto__:null})instanceof c)}},942:function(e,a,c){"use strict";var u="undefined"!=typeof Symbol&&Symbol,p=c(773);e.exports=function(){return"function"==typeof u&&"function"==typeof Symbol&&"symbol"==typeof u("foo")&&"symbol"==typeof Symbol("bar")&&p()}},773:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},a=Symbol("test"),c=Object(a);if("string"==typeof a||"[object Symbol]"!==Object.prototype.toString.call(a)||"[object Symbol]"!==Object.prototype.toString.call(c))return!1;for(a in e[a]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var u=Object.getOwnPropertySymbols(e);if(1!==u.length||u[0]!==a||!Object.prototype.propertyIsEnumerable.call(e,a))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var p=Object.getOwnPropertyDescriptor(e,a);if(42!==p.value||!0!==p.enumerable)return!1}return!0}},115:function(e,a,c){"use strict";var u="undefined"!=typeof Symbol&&Symbol,p=c(832);e.exports=function(){return"function"==typeof u&&"function"==typeof Symbol&&"symbol"==typeof u("foo")&&"symbol"==typeof Symbol("bar")&&p()}},832:function(e){"use strict";e.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var e={},a=Symbol("test"),c=Object(a);if("string"==typeof a||"[object Symbol]"!==Object.prototype.toString.call(a)||"[object Symbol]"!==Object.prototype.toString.call(c))return!1;for(a in e[a]=42,e)return!1;if("function"==typeof Object.keys&&0!==Object.keys(e).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(e).length)return!1;var u=Object.getOwnPropertySymbols(e);if(1!==u.length||u[0]!==a||!Object.prototype.propertyIsEnumerable.call(e,a))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){var p=Object.getOwnPropertyDescriptor(e,a);if(42!==p.value||!0!==p.enumerable)return!1}return!0}},101:function(e,a,c){"use strict";var u=c(174);e.exports=u.call(Function.call,Object.prototype.hasOwnProperty)},782:function(e){"function"==typeof Object.create?e.exports=function(e,a){a&&(e.super_=a,e.prototype=Object.create(a.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,a){if(a){e.super_=a;var TempCtor=function(){};TempCtor.prototype=a.prototype,e.prototype=new TempCtor,e.prototype.constructor=e}}},157:function(e){"use strict";var a="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,c=Object.prototype.toString,n=function(e){return(!a||!e||"object"!=typeof e||!(Symbol.toStringTag in e))&&"[object Arguments]"===c.call(e)},o=function(e){return!!n(e)||null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Array]"!==c.call(e)&&"[object Function]"===c.call(e.callee)},u=function(){return n(arguments)}();n.isLegacyArguments=o,e.exports=u?n:o},391:function(e){"use strict";var a=Object.prototype.toString,c=Function.prototype.toString,u=/^\s*(?:function)?\*/,p="function"==typeof Symbol&&"symbol"==typeof Symbol.toStringTag,f=Object.getPrototypeOf,m=function(){if(!p)return!1;try{return Function("return function*() {}")()}catch(e){}}(),y=m?f(m):{};e.exports=function(e){return"function"==typeof e&&(!!u.test(c.call(e))||(p?f(e)===y:"[object GeneratorFunction]"===a.call(e)))}},460:function(e){"use strict";e.exports=function(e){return e!=e}},718:function(e,a,c){"use strict";var u=c(139),p=c(69),f=c(460),m=c(625),y=c(171),w=u(m(),Number);p(w,{getPolyfill:m,implementation:f,shim:y}),e.exports=w},625:function(e,a,c){"use strict";var u=c(460);e.exports=function(){return Number.isNaN&&Number.isNaN(NaN)&&!Number.isNaN("a")?Number.isNaN:u}},171:function(e,a,c){"use strict";var u=c(69),p=c(625);e.exports=function(){var e=p();return u(Number,{isNaN:e},{isNaN:function(){return Number.isNaN!==e}}),e}},994:function(e,a,u){"use strict";var p=u(144),f=u(349),m=u(256),y=m("Object.prototype.toString"),w=u(942)()&&"symbol"==typeof Symbol.toStringTag,E=f(),S=m("Array.prototype.indexOf",!0)||function(e,a){for(var c=0;c<e.length;c+=1)if(e[c]===a)return c;return -1},A=m("String.prototype.slice"),k={},T=u(24),O=Object.getPrototypeOf;w&&T&&O&&p(E,function(e){var a=new c.g[e];if(!(Symbol.toStringTag in a))throw EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var u=O(a),p=T(u,Symbol.toStringTag);p||(p=T(O(u),Symbol.toStringTag)),k[e]=p.get});var v=function(e){var a=!1;return p(k,function(c,u){if(!a)try{a=c.call(e)===u}catch(e){}}),a};e.exports=function(e){return!!e&&"object"==typeof e&&(w?!!T&&v(e):S(E,A(y(e),8,-1))>-1)}},208:function(e){"use strict";var numberIsNaN=function(e){return e!=e};e.exports=function(e,a){return 0===e&&0===a?1/e==1/a:!!(e===a||numberIsNaN(e)&&numberIsNaN(a))}},579:function(e,a,c){"use strict";var u;if(!Object.keys){var p=Object.prototype.hasOwnProperty,f=Object.prototype.toString,m=c(412),y=Object.prototype.propertyIsEnumerable,w=!y.call({toString:null},"toString"),E=y.call(function(){},"prototype"),S=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],equalsConstructorPrototype=function(e){var a=e.constructor;return a&&a.prototype===e},A={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},k=function(){if("undefined"==typeof window)return!1;for(var e in window)try{if(!A["$"+e]&&p.call(window,e)&&null!==window[e]&&"object"==typeof window[e])try{equalsConstructorPrototype(window[e])}catch(e){return!0}}catch(e){return!0}return!1}(),equalsConstructorPrototypeIfNotBuggy=function(e){if("undefined"==typeof window||!k)return equalsConstructorPrototype(e);try{return equalsConstructorPrototype(e)}catch(e){return!1}};u=function(e){var a=null!==e&&"object"==typeof e,c="[object Function]"===f.call(e),u=m(e),y=a&&"[object String]"===f.call(e),A=[];if(!a&&!c&&!u)throw TypeError("Object.keys called on a non-object");var k=E&&c;if(y&&e.length>0&&!p.call(e,0))for(var T=0;T<e.length;++T)A.push(String(T));if(u&&e.length>0)for(var O=0;O<e.length;++O)A.push(String(O));else for(var B in e)!(k&&"prototype"===B)&&p.call(e,B)&&A.push(String(B));if(w)for(var C=equalsConstructorPrototypeIfNotBuggy(e),N=0;N<S.length;++N)!(C&&"constructor"===S[N])&&p.call(e,S[N])&&A.push(S[N]);return A}}e.exports=u},935:function(e,a,c){"use strict";var u=Array.prototype.slice,p=c(412),f=Object.keys,m=f?function(e){return f(e)}:c(579),y=Object.keys;m.shim=function(){return Object.keys?!function(){var e=Object.keys(arguments);return e&&e.length===arguments.length}(1,2)&&(Object.keys=function(e){return p(e)?y(u.call(e)):y(e)}):Object.keys=m,Object.keys||m},e.exports=m},412:function(e){"use strict";var a=Object.prototype.toString;e.exports=function(e){var c=a.call(e),u="[object Arguments]"===c;return u||(u="[object Array]"!==c&&null!==e&&"object"==typeof e&&"number"==typeof e.length&&e.length>=0&&"[object Function]"===a.call(e.callee)),u}},369:function(e){e.exports=function(e){return e instanceof p}},584:function(e,a,c){"use strict";var u=c(157),p=c(391),f=c(490),m=c(994);function uncurryThis(e){return e.call.bind(e)}var y="undefined"!=typeof BigInt,w="undefined"!=typeof Symbol,E=uncurryThis(Object.prototype.toString),S=uncurryThis(Number.prototype.valueOf),A=uncurryThis(String.prototype.valueOf),k=uncurryThis(Boolean.prototype.valueOf);if(y)var T=uncurryThis(BigInt.prototype.valueOf);if(w)var O=uncurryThis(Symbol.prototype.valueOf);function checkBoxedPrimitive(e,a){if("object"!=typeof e)return!1;try{return a(e),!0}catch(e){return!1}}function isMapToString(e){return"[object Map]"===E(e)}function isSetToString(e){return"[object Set]"===E(e)}function isWeakMapToString(e){return"[object WeakMap]"===E(e)}function isWeakSetToString(e){return"[object WeakSet]"===E(e)}function isArrayBufferToString(e){return"[object ArrayBuffer]"===E(e)}function isArrayBuffer(e){return"undefined"!=typeof ArrayBuffer&&(isArrayBufferToString.working?isArrayBufferToString(e):e instanceof ArrayBuffer)}function isDataViewToString(e){return"[object DataView]"===E(e)}function isDataView(e){return"undefined"!=typeof DataView&&(isDataViewToString.working?isDataViewToString(e):e instanceof DataView)}a.isArgumentsObject=u,a.isGeneratorFunction=p,a.isTypedArray=m,a.isPromise=function(e){return"undefined"!=typeof Promise&&e instanceof Promise||null!==e&&"object"==typeof e&&"function"==typeof e.then&&"function"==typeof e.catch},a.isArrayBufferView=function(e){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):m(e)||isDataView(e)},a.isUint8Array=function(e){return"Uint8Array"===f(e)},a.isUint8ClampedArray=function(e){return"Uint8ClampedArray"===f(e)},a.isUint16Array=function(e){return"Uint16Array"===f(e)},a.isUint32Array=function(e){return"Uint32Array"===f(e)},a.isInt8Array=function(e){return"Int8Array"===f(e)},a.isInt16Array=function(e){return"Int16Array"===f(e)},a.isInt32Array=function(e){return"Int32Array"===f(e)},a.isFloat32Array=function(e){return"Float32Array"===f(e)},a.isFloat64Array=function(e){return"Float64Array"===f(e)},a.isBigInt64Array=function(e){return"BigInt64Array"===f(e)},a.isBigUint64Array=function(e){return"BigUint64Array"===f(e)},isMapToString.working="undefined"!=typeof Map&&isMapToString(new Map),a.isMap=function(e){return"undefined"!=typeof Map&&(isMapToString.working?isMapToString(e):e instanceof Map)},isSetToString.working="undefined"!=typeof Set&&isSetToString(new Set),a.isSet=function(e){return"undefined"!=typeof Set&&(isSetToString.working?isSetToString(e):e instanceof Set)},isWeakMapToString.working="undefined"!=typeof WeakMap&&isWeakMapToString(new WeakMap),a.isWeakMap=function(e){return"undefined"!=typeof WeakMap&&(isWeakMapToString.working?isWeakMapToString(e):e instanceof WeakMap)},isWeakSetToString.working="undefined"!=typeof WeakSet&&isWeakSetToString(new WeakSet),a.isWeakSet=function(e){return isWeakSetToString(e)},isArrayBufferToString.working="undefined"!=typeof ArrayBuffer&&isArrayBufferToString(new ArrayBuffer),a.isArrayBuffer=isArrayBuffer,isDataViewToString.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&isDataViewToString(new DataView(new ArrayBuffer(1),0,1)),a.isDataView=isDataView;var B="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function isSharedArrayBufferToString(e){return"[object SharedArrayBuffer]"===E(e)}function isSharedArrayBuffer(e){return void 0!==B&&(void 0===isSharedArrayBufferToString.working&&(isSharedArrayBufferToString.working=isSharedArrayBufferToString(new B)),isSharedArrayBufferToString.working?isSharedArrayBufferToString(e):e instanceof B)}function isNumberObject(e){return checkBoxedPrimitive(e,S)}function isStringObject(e){return checkBoxedPrimitive(e,A)}function isBooleanObject(e){return checkBoxedPrimitive(e,k)}function isBigIntObject(e){return y&&checkBoxedPrimitive(e,T)}function isSymbolObject(e){return w&&checkBoxedPrimitive(e,O)}a.isSharedArrayBuffer=isSharedArrayBuffer,a.isAsyncFunction=function(e){return"[object AsyncFunction]"===E(e)},a.isMapIterator=function(e){return"[object Map Iterator]"===E(e)},a.isSetIterator=function(e){return"[object Set Iterator]"===E(e)},a.isGeneratorObject=function(e){return"[object Generator]"===E(e)},a.isWebAssemblyCompiledModule=function(e){return"[object WebAssembly.Module]"===E(e)},a.isNumberObject=isNumberObject,a.isStringObject=isStringObject,a.isBooleanObject=isBooleanObject,a.isBigIntObject=isBigIntObject,a.isSymbolObject=isSymbolObject,a.isBoxedPrimitive=function(e){return isNumberObject(e)||isStringObject(e)||isBooleanObject(e)||isBigIntObject(e)||isSymbolObject(e)},a.isAnyArrayBuffer=function(e){return"undefined"!=typeof Uint8Array&&(isArrayBuffer(e)||isSharedArrayBuffer(e))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(e){Object.defineProperty(a,e,{enumerable:!1,value:function(){throw Error(e+" is not supported in userland")}})})},177:function(e,a,c){var p=Object.getOwnPropertyDescriptors||function(e){for(var a=Object.keys(e),c={},u=0;u<a.length;u++)c[a[u]]=Object.getOwnPropertyDescriptor(e,a[u]);return c},f=/%[sdj%]/g;a.format=function(e){if(!isString(e)){for(var a=[],c=0;c<arguments.length;c++)a.push(inspect(arguments[c]));return a.join(" ")}for(var c=1,u=arguments,p=u.length,m=String(e).replace(f,function(e){if("%%"===e)return"%";if(c>=p)return e;switch(e){case"%s":return String(u[c++]);case"%d":return Number(u[c++]);case"%j":try{return JSON.stringify(u[c++])}catch(e){return"[Circular]"}default:return e}}),y=u[c];c<p;y=u[++c])isNull(y)||!isObject(y)?m+=" "+y:m+=" "+inspect(y);return m},a.deprecate=function(e,c){if(void 0!==u&&!0===u.noDeprecation)return e;if(void 0===u)return function(){return a.deprecate(e,c).apply(this,arguments)};var p=!1;return function(){if(!p){if(u.throwDeprecation)throw Error(c);u.traceDeprecation?console.trace(c):console.error(c),p=!0}return e.apply(this,arguments)}};var m={},y=/^$/;if(u.env.NODE_DEBUG){var w=u.env.NODE_DEBUG;y=RegExp("^"+(w=w.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase())+"$","i")}function inspect(e,c){var u={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(u.depth=arguments[2]),arguments.length>=4&&(u.colors=arguments[3]),isBoolean(c)?u.showHidden=c:c&&a._extend(u,c),isUndefined(u.showHidden)&&(u.showHidden=!1),isUndefined(u.depth)&&(u.depth=2),isUndefined(u.colors)&&(u.colors=!1),isUndefined(u.customInspect)&&(u.customInspect=!0),u.colors&&(u.stylize=stylizeWithColor),formatValue(u,e,u.depth)}function stylizeWithColor(e,a){var c=inspect.styles[a];return c?"\x1b["+inspect.colors[c][0]+"m"+e+"\x1b["+inspect.colors[c][1]+"m":e}function stylizeNoColor(e,a){return e}function formatValue(e,c,u){if(e.customInspect&&c&&isFunction(c.inspect)&&c.inspect!==a.inspect&&!(c.constructor&&c.constructor.prototype===c)){var p,f,m,y,w,E=c.inspect(u,e);return isString(E)||(E=formatValue(e,E,u)),E}var S=function(e,a){if(isUndefined(a))return e.stylize("undefined","undefined");if(isString(a)){var c="'"+JSON.stringify(a).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(c,"string")}return isNumber(a)?e.stylize(""+a,"number"):isBoolean(a)?e.stylize(""+a,"boolean"):isNull(a)?e.stylize("null","null"):void 0}(e,c);if(S)return S;var A=Object.keys(c),k=(y={},A.forEach(function(e,a){y[e]=!0}),y);if(e.showHidden&&(A=Object.getOwnPropertyNames(c)),isError(c)&&(A.indexOf("message")>=0||A.indexOf("description")>=0))return formatError(c);if(0===A.length){if(isFunction(c)){var T=c.name?": "+c.name:"";return e.stylize("[Function"+T+"]","special")}if(isRegExp(c))return e.stylize(RegExp.prototype.toString.call(c),"regexp");if(isDate(c))return e.stylize(Date.prototype.toString.call(c),"date");if(isError(c))return formatError(c)}var O="",B=!1,C=["{","}"];return(isArray(c)&&(B=!0,C=["[","]"]),isFunction(c)&&(O=" [Function"+(c.name?": "+c.name:"")+"]"),isRegExp(c)&&(O=" "+RegExp.prototype.toString.call(c)),isDate(c)&&(O=" "+Date.prototype.toUTCString.call(c)),isError(c)&&(O=" "+formatError(c)),0!==A.length||B&&0!=c.length)?u<0?isRegExp(c)?e.stylize(RegExp.prototype.toString.call(c),"regexp"):e.stylize("[Object]","special"):(e.seen.push(c),w=B?function(e,a,c,u,p){for(var f=[],m=0,y=a.length;m<y;++m)hasOwnProperty(a,String(m))?f.push(formatProperty(e,a,c,u,String(m),!0)):f.push("");return p.forEach(function(p){p.match(/^\d+$/)||f.push(formatProperty(e,a,c,u,p,!0))}),f}(e,c,u,k,A):A.map(function(a){return formatProperty(e,c,u,k,a,B)}),e.seen.pop(),p=O,f=C,m=0,w.reduce(function(e,a){return m++,a.indexOf("\n")>=0&&m++,e+a.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60?f[0]+(""===p?"":p+"\n ")+" "+w.join(",\n  ")+" "+f[1]:f[0]+p+" "+w.join(", ")+" "+f[1]):C[0]+O+C[1]}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatProperty(e,a,c,u,p,f){var m,y,w;if((w=Object.getOwnPropertyDescriptor(a,p)||{value:a[p]}).get?y=w.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):w.set&&(y=e.stylize("[Setter]","special")),hasOwnProperty(u,p)||(m="["+p+"]"),!y&&(0>e.seen.indexOf(w.value)?(y=isNull(c)?formatValue(e,w.value,null):formatValue(e,w.value,c-1)).indexOf("\n")>-1&&(y=f?y.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+y.split("\n").map(function(e){return"   "+e}).join("\n")):y=e.stylize("[Circular]","special")),isUndefined(m)){if(f&&p.match(/^\d+$/))return y;(m=JSON.stringify(""+p)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(m=m.substr(1,m.length-2),m=e.stylize(m,"name")):(m=m.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),m=e.stylize(m,"string"))}return m+": "+y}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return e<10?"0"+e.toString(10):e.toString(10)}a.debuglog=function(e){if(!m[e=e.toUpperCase()]){if(y.test(e)){var c=u.pid;m[e]=function(){var u=a.format.apply(a,arguments);console.error("%s %d: %s",e,c,u)}}else m[e]=function(){}}return m[e]},a.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},a.types=c(584),a.isArray=isArray,a.isBoolean=isBoolean,a.isNull=isNull,a.isNullOrUndefined=function(e){return null==e},a.isNumber=isNumber,a.isString=isString,a.isSymbol=function(e){return"symbol"==typeof e},a.isUndefined=isUndefined,a.isRegExp=isRegExp,a.types.isRegExp=isRegExp,a.isObject=isObject,a.isDate=isDate,a.types.isDate=isDate,a.isError=isError,a.types.isNativeError=isError,a.isFunction=isFunction,a.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},a.isBuffer=c(369);var E=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hasOwnProperty(e,a){return Object.prototype.hasOwnProperty.call(e,a)}a.log=function(){var e,c;console.log("%s - %s",(c=[pad((e=new Date).getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":"),[e.getDate(),E[e.getMonth()],c].join(" ")),a.format.apply(a,arguments))},a.inherits=c(782),a._extend=function(e,a){if(!a||!isObject(a))return e;for(var c=Object.keys(a),u=c.length;u--;)e[c[u]]=a[c[u]];return e};var S="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;function callbackifyOnRejected(e,a){if(!e){var c=Error("Promise was rejected with a falsy value");c.reason=e,e=c}return a(e)}a.promisify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');if(S&&e[S]){var t=e[S];if("function"!=typeof t)throw TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(t,S,{value:t,enumerable:!1,writable:!1,configurable:!0}),t}function t(){for(var a,c,u=new Promise(function(e,u){a=e,c=u}),p=[],f=0;f<arguments.length;f++)p.push(arguments[f]);p.push(function(e,u){e?c(e):a(u)});try{e.apply(this,p)}catch(e){c(e)}return u}return Object.setPrototypeOf(t,Object.getPrototypeOf(e)),S&&Object.defineProperty(t,S,{value:t,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(t,p(e))},a.promisify.custom=S,a.callbackify=function(e){if("function"!=typeof e)throw TypeError('The "original" argument must be of type Function');function callbackified(){for(var a=[],c=0;c<arguments.length;c++)a.push(arguments[c]);var p=a.pop();if("function"!=typeof p)throw TypeError("The last argument must be of type Function");var f=this,cb=function(){return p.apply(f,arguments)};e.apply(this,a).then(function(e){u.nextTick(cb.bind(null,null,e))},function(e){u.nextTick(callbackifyOnRejected.bind(null,e,cb))})}return Object.setPrototypeOf(callbackified,Object.getPrototypeOf(e)),Object.defineProperties(callbackified,p(e)),callbackified}},490:function(e,a,u){"use strict";var p=u(144),f=u(349),m=u(256),y=m("Object.prototype.toString"),w=u(942)()&&"symbol"==typeof Symbol.toStringTag,E=f(),S=m("String.prototype.slice"),A={},k=u(24),T=Object.getPrototypeOf;w&&k&&T&&p(E,function(e){if("function"==typeof c.g[e]){var a=new c.g[e];if(!(Symbol.toStringTag in a))throw EvalError("this engine has support for Symbol.toStringTag, but "+e+" does not have the property! Please report this.");var u=T(a),p=k(u,Symbol.toStringTag);p||(p=k(T(u),Symbol.toStringTag)),A[e]=p.get}});var g=function(e){var a=!1;return p(A,function(c,u){if(!a)try{var p=c.call(e);p===u&&(a=p)}catch(e){}}),a},O=u(994);e.exports=function(e){return!!O(e)&&(w?g(e):S(y(e),8,-1))}},349:function(e,a,u){"use strict";var p=u(992);e.exports=function(){return p(["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],function(e){return"function"==typeof c.g[e]})}},24:function(e,a,c){"use strict";var u=c(500)("%Object.getOwnPropertyDescriptor%",!0);if(u)try{u([],"length")}catch(e){u=null}e.exports=u}},f={};function __nccwpck_require__(e){var c=f[e];if(void 0!==c)return c.exports;var u=f[e]={exports:{}},p=!0;try{a[e](u,u.exports,__nccwpck_require__),p=!1}finally{p&&delete f[e]}return u.exports}__nccwpck_require__.ab="//";var m=__nccwpck_require__(167);e.exports=m}()},40692:function(e,a,c){!function(){var a={452:function(e){"use strict";e.exports=c(9875)}},u={};function __nccwpck_require__(e){var c=u[e];if(void 0!==c)return c.exports;var p=u[e]={exports:{}},f=!0;try{a[e](p,p.exports,__nccwpck_require__),f=!1}finally{f&&delete u[e]}return p.exports}__nccwpck_require__.ab="//";var p={};!function(){var e,a=(e=__nccwpck_require__(452))&&"object"==typeof e&&"default"in e?e.default:e,c=/https?|ftp|gopher|file/;function r(e){"string"==typeof e&&(e=d(e));var u,p,f,m,y,w,E,S,A,k=(p=(u=e).auth,f=u.hostname,m=u.protocol||"",y=u.pathname||"",w=u.hash||"",E=u.query||"",S=!1,p=p?encodeURIComponent(p).replace(/%3A/i,":")+"@":"",u.host?S=p+u.host:f&&(S=p+(~f.indexOf(":")?"["+f+"]":f),u.port&&(S+=":"+u.port)),E&&"object"==typeof E&&(E=a.encode(E)),A=u.search||E&&"?"+E||"",m&&":"!==m.substr(-1)&&(m+=":"),u.slashes||(!m||c.test(m))&&!1!==S?(S="//"+(S||""),y&&"/"!==y[0]&&(y="/"+y)):S||(S=""),w&&"#"!==w[0]&&(w="#"+w),A&&"?"!==A[0]&&(A="?"+A),{protocol:m,host:S,pathname:y=y.replace(/[?#]/g,encodeURIComponent),search:A=A.replace("#","%23"),hash:w});return""+k.protocol+k.host+k.pathname+k.search+k.hash}var u="http://",f=u+"w.w",m=/^([a-z0-9.+-]*:\/\/\/)([a-z0-9.+-]:\/*)?/i,y=/https?|ftp|gopher|file/;function h(e,a){var c="string"==typeof e?d(e):e;e="object"==typeof e?r(e):e;var p=d(a),w="";c.protocol&&!c.slashes&&(w=c.protocol,e=e.replace(c.protocol,""),w+="/"===a[0]||"/"===e[0]?"/":""),w&&p.protocol&&(w="",p.slashes||(w=p.protocol,a=a.replace(p.protocol,"")));var E=e.match(m);E&&!p.protocol&&(e=e.substr((w=E[1]+(E[2]||"")).length),/^\/\/[^/]/.test(a)&&(w=w.slice(0,-1)));var S=new URL(e,f+"/"),A=new URL(a,S).toString().replace(f,""),k=p.protocol||c.protocol;return k+=c.slashes||p.slashes?"//":"",!w&&k?A=A.replace(u,k):w&&(A=A.replace(u,"")),y.test(A)||~a.indexOf(".")||"/"===e.slice(-1)||"/"===a.slice(-1)||"/"!==A.slice(-1)||(A=A.slice(0,-1)),w&&(A=w+("/"===A[0]?A.substr(1):A)),A}function l(){}l.prototype.parse=d,l.prototype.format=r,l.prototype.resolve=h,l.prototype.resolveObject=h;var w=/^https?|ftp|gopher|file/,E=/^(.*?)([#?].*)/,S=/^([a-z0-9.+-]*:)(\/{0,3})(.*)/i,A=/^([a-z0-9.+-]*:)?\/\/\/*/i,k=/^([a-z0-9.+-]*:)(\/{0,2})\[(.*)\]$/i;function d(e,c,u){if(void 0===c&&(c=!1),void 0===u&&(u=!1),e&&"object"==typeof e&&e instanceof l)return e;var p=(e=e.trim()).match(E);e=p?p[1].replace(/\\/g,"/")+p[2]:e.replace(/\\/g,"/"),k.test(e)&&"/"!==e.slice(-1)&&(e+="/");var m=!/(^javascript)/.test(e)&&e.match(S),y=A.test(e),T="";m&&(w.test(m[1])||(T=m[1].toLowerCase(),e=""+m[2]+m[3]),m[2]||(y=!1,w.test(m[1])?(T=m[1],e=""+m[3]):e="//"+m[3]),3!==m[2].length&&1!==m[2].length||(T=m[1],e="/"+m[3]));var O,B=(p?p[1]:e).match(/^https?:\/\/[^/]+(:[0-9]+)(?=\/|$)/),C=B&&B[1],N=new l,R="",M="";try{O=new URL(e)}catch(a){R=a,T||u||!/^\/\//.test(e)||/^\/\/.+[@.]/.test(e)||(M="/",e=e.substr(1));try{O=new URL(e,f)}catch(e){return N.protocol=T,N.href=T,N}}N.slashes=y&&!M,N.host="w.w"===O.host?"":O.host,N.hostname="w.w"===O.hostname?"":O.hostname.replace(/(\[|\])/g,""),N.protocol=R?T||null:O.protocol,N.search=O.search.replace(/\\/g,"%5C"),N.hash=O.hash.replace(/\\/g,"%5C");var U=e.split("#");!N.search&&~U[0].indexOf("?")&&(N.search="?"),N.hash||""!==U[1]||(N.hash="#"),N.query=c?a.decode(O.search.substr(1)):N.search.substr(1),N.pathname=M+(m?O.pathname.replace(/['^|`]/g,function(e){return"%"+e.charCodeAt().toString(16).toUpperCase()}).replace(/((?:%[0-9A-F]{2})+)/g,function(e,a){try{return decodeURIComponent(a).split("").map(function(e){var a=e.charCodeAt();return a>256||/^[a-z0-9]$/i.test(e)?e:"%"+a.toString(16).toUpperCase()}).join("")}catch(e){return a}}):O.pathname),"about:"===N.protocol&&"blank"===N.pathname&&(N.protocol="",N.pathname=""),R&&"/"!==e[0]&&(N.pathname=N.pathname.substr(1)),T&&!w.test(T)&&"/"!==e.slice(-1)&&"/"===N.pathname&&(N.pathname=""),N.path=N.pathname+N.search,N.auth=[O.username,O.password].map(decodeURIComponent).filter(Boolean).join(":"),N.port=O.port,C&&!N.host.endsWith(C)&&(N.host+=C,N.port=C.slice(1)),N.href=M?""+N.pathname+N.search+N.hash:r(N);var D=/^(file)/.test(N.href)?["host","hostname"]:[];return Object.keys(N).forEach(function(e){~D.indexOf(e)||(N[e]=N[e]||null)}),N}p.parse=d,p.format=r,p.resolve=h,p.resolveObject=function(e,a){return d(h(e,a))},p.Url=l}(),e.exports=p}()},9875:function(e){!function(){"use strict";var a={815:function(e){e.exports=function(e,c,u,p){c=c||"&",u=u||"=";var f={};if("string"!=typeof e||0===e.length)return f;var m=/\+/g;e=e.split(c);var y=1e3;p&&"number"==typeof p.maxKeys&&(y=p.maxKeys);var w=e.length;y>0&&w>y&&(w=y);for(var E=0;E<w;++E){var S,A,k,T,O=e[E].replace(m,"%20"),B=O.indexOf(u);(B>=0?(S=O.substr(0,B),A=O.substr(B+1)):(S=O,A=""),k=decodeURIComponent(S),T=decodeURIComponent(A),Object.prototype.hasOwnProperty.call(f,k))?a(f[k])?f[k].push(T):f[k]=[f[k],T]:f[k]=T}return f};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},577:function(e){var stringifyPrimitive=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,u,p,f){return(u=u||"&",p=p||"=",null===e&&(e=void 0),"object"==typeof e)?map(c(e),function(c){var f=encodeURIComponent(stringifyPrimitive(c))+p;return a(e[c])?map(e[c],function(e){return f+encodeURIComponent(stringifyPrimitive(e))}).join(u):f+encodeURIComponent(stringifyPrimitive(e[c]))}).join(u):f?encodeURIComponent(stringifyPrimitive(f))+p+encodeURIComponent(stringifyPrimitive(e)):""};var a=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)};function map(e,a){if(e.map)return e.map(a);for(var c=[],u=0;u<e.length;u++)c.push(a(e[u],u));return c}var c=Object.keys||function(e){var a=[];for(var c in e)Object.prototype.hasOwnProperty.call(e,c)&&a.push(c);return a}}},c={};function __nccwpck_require__(e){var u=c[e];if(void 0!==u)return u.exports;var p=c[e]={exports:{}},f=!0;try{a[e](p,p.exports,__nccwpck_require__),f=!1}finally{f&&delete c[e]}return p.exports}__nccwpck_require__.ab="//";var u={};u.decode=u.parse=__nccwpck_require__(815),u.encode=u.stringify=__nccwpck_require__(577),e.exports=u}()},70441:function(e,a,c){"use strict";c.d(a,{xe:function(){return useAccounts}});var u,p,f,m,y,w,E,S,A,k,T,O,B=c(512);Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable;var C=((u=C||{})[u.UserSelect=0]="UserSelect",u[u.Gasless=1]="Gasless",u[u.UserPaidNative=2]="UserPaidNative",u),N=((p=N||{}).Request="RequestSendTransaction",p.Resolve="ResolveSendTransaction",p.Reject="RejectSendTransaction",p),R=Object.defineProperty,M={"ethereum-1":{id:1,name:"Ethereum",chainType:"evm",icon:"https://static.particle.network/token-list/ethereum/native.png",nativeIcon:"",fullname:"Ethereum Mainnet",network:"Mainnet",website:"https://ethereum.org",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrl:"https://ethereum.publicnode.com",blockExplorerUrl:"https://etherscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"1.0.0"},{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"},{name:"LIGHT",version:"1.0.2"},{name:"XTERIO",version:"1.0.0"},{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]},{name:"SWAP"},{name:"ON-RAMP"}]},"optimism-10":{id:10,name:"Optimism",chainType:"evm",icon:"https://static.particle.network/token-list/optimism/native.png",nativeIcon:"",fullname:"Optimism Mainnet",network:"Mainnet",website:"https://optimism.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrl:"https://mainnet.optimism.io",blockExplorerUrl:"https://optimistic.etherscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"1.0.0"},{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"},{name:"LIGHT",version:"1.0.2"}]},{name:"SWAP"},{name:"ON-RAMP"}]},"thundercore-18":{id:18,name:"ThunderCore",chainType:"evm",icon:"https://static.particle.network/token-list/thundercore/native.png",nativeIcon:"",fullname:"ThunderCore Testnet",network:"Testnet",website:"https://thundercore.com",nativeCurrency:{name:"ThunderCore Token",symbol:"TT",decimals:18},rpcUrl:"https://testnet-rpc.thundercore.com",faucetUrl:"https://faucet-testnet.thundercore.com",blockExplorerUrl:"https://explorer-testnet.thundercore.com"},"elastos-20":{id:20,name:"Elastos",chainType:"evm",icon:"https://static.particle.network/token-list/elastos/native.png",nativeIcon:"",fullname:"Elastos Mainnet",network:"Mainnet",website:"http://elastos.org",nativeCurrency:{name:"ELA",symbol:"ELA",decimals:18},rpcUrl:"https://api.elastos.io/esc",blockExplorerUrl:"https://esc.elastos.io",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"cronos-25":{id:25,name:"Cronos",chainType:"evm",icon:"https://static.particle.network/token-list/cronos/native.png",nativeIcon:"",fullname:"Cronos Mainnet",network:"Mainnet",website:"https://cronos.org",nativeCurrency:{name:"Cronos",symbol:"CRO",decimals:18},rpcUrl:"https://evm.cronos.org",blockExplorerUrl:"https://cronoscan.com",features:[{name:"EIP1559"},{name:"SWAP"}]},"bsc-56":{id:56,name:"BSC",chainType:"evm",icon:"https://static.particle.network/token-list/bsc/native.png",nativeIcon:"https://static.particle.network/token-list/bsc/native.png",fullname:"BNB Chain",network:"Mainnet",website:"https://www.bnbchain.org/en",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrl:"https://bsc-dataseed1.binance.org",blockExplorerUrl:"https://bscscan.com",features:[{name:"ERC4337",contracts:[{name:"BICONOMY",version:"1.0.0"},{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"},{name:"XTERIO",version:"1.0.0"},{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]},{name:"SWAP"},{name:"ON-RAMP"}]},"okc-65":{id:65,name:"OKC",chainType:"evm",icon:"https://static.particle.network/token-list/okc/native.png",nativeIcon:"",fullname:"OKTC Testnet",network:"Testnet",website:"https://www.okex.com/okexchain",nativeCurrency:{name:"OKT",symbol:"OKT",decimals:18},rpcUrl:"https://exchaintestrpc.okex.org",faucetUrl:"https://docs.oxdex.com/v/en/help/gitter",blockExplorerUrl:"https://www.oklink.com/okc-test"},"okc-66":{id:66,name:"OKC",chainType:"evm",icon:"https://static.particle.network/token-list/okc/native.png",nativeIcon:"",fullname:"OKTC Mainnet",network:"Mainnet",website:"https://www.okex.com/okc",nativeCurrency:{name:"OKT",symbol:"OKT",decimals:18},rpcUrl:"https://exchainrpc.okex.org",blockExplorerUrl:"https://www.oklink.com/okc",features:[{name:"SWAP"}]},"confluxespace-71":{id:71,name:"ConfluxESpace",chainType:"evm",icon:"https://static.particle.network/token-list/confluxespace/native.png",nativeIcon:"",fullname:"Conflux eSpace Testnet",network:"Testnet",website:"https://confluxnetwork.org",nativeCurrency:{name:"CFX",symbol:"CFX",decimals:18},rpcUrl:"https://evmtestnet.confluxrpc.com",faucetUrl:"https://efaucet.confluxnetwork.org",blockExplorerUrl:"https://evmtestnet.confluxscan.net"},"viction-88":{id:88,name:"Viction",chainType:"evm",icon:"https://static.particle.network/token-list/viction/native.png",nativeIcon:"",fullname:"Viction Mainnet",network:"Mainnet",website:"https://tomochain.com",nativeCurrency:{name:"Viction",symbol:"VIC",decimals:18},rpcUrl:"https://rpc.viction.xyz",blockExplorerUrl:"https://vicscan.xyz",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"viction-89":{id:89,name:"Viction",chainType:"evm",icon:"https://static.particle.network/token-list/viction/native.png",nativeIcon:"",fullname:"Viction Testnet",network:"Testnet",website:"https://tomochain.com",nativeCurrency:{name:"Viction",symbol:"VIC",decimals:18},rpcUrl:"https://rpc-testnet.viction.xyz",blockExplorerUrl:"https://testnet.vicscan.xyz",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"bsc-97":{id:97,name:"BSC",chainType:"evm",icon:"https://static.particle.network/token-list/bsc/native.png",nativeIcon:"https://static.particle.network/token-list/bsc/native.png",fullname:"BNB Chain Testnet",network:"Testnet",website:"https://www.bnbchain.org/en",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrl:"https://data-seed-prebsc-1-s1.binance.org:8545",faucetUrl:"https://testnet.bnbchain.org/faucet-smart",blockExplorerUrl:"https://testnet.bscscan.com",features:[{name:"ERC4337",contracts:[{name:"BICONOMY",version:"1.0.0"},{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"},{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"},{name:"UNIVERSAL",version:"1.0.0"}]}]},"gnosis-100":{id:100,name:"Gnosis",chainType:"evm",icon:"https://static.particle.network/token-list/gnosis/native.png",nativeIcon:"",fullname:"Gnosis Mainnet",network:"Mainnet",website:"https://docs.gnosischain.com",nativeCurrency:{name:"Gnosis",symbol:"XDAI",decimals:18},rpcUrl:"https://rpc.ankr.com/gnosis",blockExplorerUrl:"https://gnosisscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]},{name:"SWAP"}]},"solana-101":{id:101,name:"Solana",chainType:"solana",icon:"https://static.particle.network/token-list/solana/native.png",nativeIcon:"",fullname:"Solana Mainnet",network:"Mainnet",website:"https://solana.com",nativeCurrency:{name:"SOL",symbol:"SOL",decimals:9},rpcUrl:"https://api.mainnet-beta.solana.com",blockExplorerUrl:"https://solscan.io",features:[{name:"SWAP"},{name:"ON-RAMP"}]},"solana-102":{id:102,name:"Solana",chainType:"solana",icon:"https://static.particle.network/token-list/solana/native.png",nativeIcon:"",fullname:"Solana Testnet",network:"Testnet",website:"https://solana.com",nativeCurrency:{name:"SOL",symbol:"SOL",decimals:9},rpcUrl:"https://api.testnet.solana.com",faucetUrl:"https://solfaucet.com",blockExplorerUrl:"https://solscan.io"},"solana-103":{id:103,name:"Solana",chainType:"solana",icon:"https://static.particle.network/token-list/solana/native.png",nativeIcon:"",fullname:"Solana Devnet",network:"Devnet",website:"https://solana.com",nativeCurrency:{name:"SOL",symbol:"SOL",decimals:9},rpcUrl:"https://api.devnet.solana.com",faucetUrl:"https://solfaucet.com",blockExplorerUrl:"https://solscan.io"},"thundercore-108":{id:108,name:"ThunderCore",chainType:"evm",icon:"https://static.particle.network/token-list/thundercore/native.png",nativeIcon:"",fullname:"ThunderCore Mainnet",network:"Mainnet",website:"https://thundercore.com",nativeCurrency:{name:"ThunderCore Token",symbol:"TT",decimals:18},rpcUrl:"https://mainnet-rpc.thundercore.com",blockExplorerUrl:"https://viewblock.io/thundercore"},"bob-111":{id:111,name:"BOB",chainType:"evm",icon:"https://static.particle.network/token-list/bob/native.png",nativeIcon:"",fullname:"BOB Testnet",network:"Testnet",website:"https://www.gobob.xyz",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrl:"https://testnet.rpc.gobob.xyz",blockExplorerUrl:"https://testnet-explorer.gobob.xyz",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"fuse-122":{id:122,name:"fuse",chainType:"evm",icon:"https://static.particle.network/token-list/fuse/native.png",nativeIcon:"",fullname:"Fuse Mainnet",network:"Mainnet",website:"https://www.fuse.io",nativeCurrency:{name:"FUSE",symbol:"FUSE",decimals:18},rpcUrl:"https://rpc.fuse.io",blockExplorerUrl:"https://explorer.fuse.io",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"fuse-123":{id:123,name:"fuse",chainType:"evm",icon:"https://static.particle.network/token-list/fuse/native.png",nativeIcon:"",fullname:"Fuse Testnet",network:"Testnet",website:"https://www.fuse.io",nativeCurrency:{name:"FUSE",symbol:"FUSE",decimals:18},rpcUrl:"https://rpc.fusespark.io",blockExplorerUrl:"https://explorer.fusespark.io",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"heco-128":{id:128,name:"Heco",chainType:"evm",icon:"https://static.particle.network/token-list/heco/native.png",nativeIcon:"",fullname:"Heco Mainnet",network:"Mainnet",website:"https://www.hecochain.com",nativeCurrency:{name:"HT",symbol:"HT",decimals:18},rpcUrl:"https://http-mainnet.hecochain.com",blockExplorerUrl:"https://hecoinfo.com",features:[{name:"EIP1559"}]},"polygon-137":{id:137,name:"Polygon",chainType:"evm",icon:"https://static.particle.network/token-list/polygon/native.png",nativeIcon:"",fullname:"Polygon Mainnet",network:"Mainnet",website:"https://polygon.technology",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrl:"https://polygon-rpc.com",blockExplorerUrl:"https://polygonscan.com",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"1.0.0"},{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"},{name:"LIGHT",version:"1.0.2"},{name:"XTERIO",version:"1.0.0"},{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]},{name:"SWAP"},{name:"ON-RAMP"}]},"manta-169":{id:169,name:"Manta",chainType:"evm",icon:"https://static.particle.network/token-list/manta/native.png",nativeIcon:"",fullname:"Manta Mainnet",network:"Mainnet",website:"https://manta.network",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrl:"https://pacific-rpc.manta.network/http",blockExplorerUrl:"https://pacific-explorer.manta.network",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]},{name:"SWAP"}]},"okbc-195":{id:195,name:"OKBC",chainType:"evm",icon:"https://static.particle.network/token-list/okc/native.png",nativeIcon:"",fullname:"X Layer Testnet",network:"Testnet",website:"https://www.okx.com",nativeCurrency:{name:"OKB",symbol:"OKB",decimals:18},rpcUrl:"https://testrpc.xlayer.tech",blockExplorerUrl:"https://www.okx.com/explorer/xlayer-test",features:[{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"okbc-196":{id:196,name:"OKBC",chainType:"evm",icon:"https://static.particle.network/token-list/okc/native.png",nativeIcon:"",fullname:"X Layer Mainnet",network:"Mainnet",website:"https://www.okx.com",nativeCurrency:{name:"OKB",symbol:"OKB",decimals:18},rpcUrl:"https://rpc.xlayer.tech",blockExplorerUrl:"https://www.okx.com/zh-hans/explorer/xlayer",features:[{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"opbnb-204":{id:204,name:"opBNB",chainType:"evm",icon:"https://static.particle.network/token-list/opbnb/native.png",nativeIcon:"https://static.particle.network/token-list/bsc/native.png",fullname:"opBNB Mainnet",network:"Mainnet",website:"https://opbnb.bnbchain.org",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrl:"https://opbnb-mainnet-rpc.bnbchain.org",blockExplorerUrl:"https://mainnet.opbnbscan.com",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"},{name:"XTERIO",version:"1.0.0"}]},{name:"ON-RAMP"}]},"mapprotocol-212":{id:212,name:"MAPProtocol",chainType:"evm",icon:"https://static.particle.network/token-list/mapprotocol/native.png",nativeIcon:"",fullname:"MAP Protocol Testnet",network:"Testnet",website:"https://maplabs.io",nativeCurrency:{name:"MAPO",symbol:"MAPO",decimals:18},rpcUrl:"https://testnet-rpc.maplabs.io",faucetUrl:"https://faucet.mapprotocol.io",blockExplorerUrl:"https://testnet.maposcan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"bsquared-223":{id:223,name:"BSquared",chainType:"evm",icon:"https://static.particle.network/token-list/bsquared/native.png",nativeIcon:"https://static.particle.network/token-list/btc/native.png",fullname:"B\xb2 Network Mainnet",network:"Mainnet",website:"https://www.bsquared.network",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrl:"https://rpc.bsquared.network",blockExplorerUrl:"https://explorer.bsquared.network",features:[{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"fantom-250":{id:250,name:"Fantom",chainType:"evm",icon:"https://static.particle.network/token-list/fantom/native.png",nativeIcon:"",fullname:"Fantom Mainnet",network:"Mainnet",website:"https://fantom.foundation",nativeCurrency:{name:"FTM",symbol:"FTM",decimals:18},rpcUrl:"https://rpc.ftm.tools",blockExplorerUrl:"https://ftmscan.com",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]},{name:"SWAP"}]},"zksync-300":{id:300,name:"zkSync",chainType:"evm",icon:"https://static.particle.network/token-list/zksync/native.png",nativeIcon:"",fullname:"zkSync Era Sepolia",network:"Sepolia",website:"https://era.zksync.io",nativeCurrency:{name:"zkSync",symbol:"ETH",decimals:18},rpcUrl:"https://sepolia.era.zksync.dev",faucetUrl:"https://portal.zksync.io/faucet",blockExplorerUrl:"https://sepolia.explorer.zksync.io",features:[{name:"EIP1559"}]},"kcc-321":{id:321,name:"KCC",chainType:"evm",icon:"https://static.particle.network/token-list/kcc/native.png",nativeIcon:"",fullname:"KCC Mainnet",network:"Mainnet",website:"https://kcc.io",nativeCurrency:{name:"KCS",symbol:"KCS",decimals:18},rpcUrl:"https://rpc-mainnet.kcc.network",blockExplorerUrl:"https://explorer.kcc.io/en"},"kcc-322":{id:322,name:"KCC",chainType:"evm",icon:"https://static.particle.network/token-list/kcc/native.png",nativeIcon:"",fullname:"KCC Testnet",network:"Testnet",website:"https://scan-testnet.kcc.network",nativeCurrency:{name:"KCS",symbol:"KCS",decimals:18},rpcUrl:"https://rpc-testnet.kcc.network",faucetUrl:"https://faucet-testnet.kcc.network",blockExplorerUrl:"https://scan-testnet.kcc.network"},"zksync-324":{id:324,name:"zkSync",chainType:"evm",icon:"https://static.particle.network/token-list/zksync/native.png",nativeIcon:"",fullname:"zkSync Era",network:"Mainnet",website:"https://zksync.io",nativeCurrency:{name:"zkSync",symbol:"ETH",decimals:18},rpcUrl:"https://zksync2-mainnet.zksync.io",blockExplorerUrl:"https://explorer.zksync.io",features:[{name:"EIP1559"},{name:"SWAP"},{name:"ON-RAMP"}]},"cronos-338":{id:338,name:"Cronos",chainType:"evm",icon:"https://static.particle.network/token-list/cronos/native.png",nativeIcon:"",fullname:"Cronos Testnet",network:"Testnet",website:"https://cronos.org",nativeCurrency:{name:"Cronos",symbol:"CRO",decimals:18},rpcUrl:"https://evm-t3.cronos.org",faucetUrl:"https://cronos.org/faucet",blockExplorerUrl:"https://testnet.cronoscan.com",features:[{name:"EIP1559"}]},"mode-919":{id:919,name:"Mode",chainType:"evm",icon:"https://static.particle.network/token-list/mode/native.png",nativeIcon:"",fullname:"Mode Testnet",network:"Testnet",website:"https://www.mode.network",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrl:"https://sepolia.mode.network",blockExplorerUrl:"https://sepolia.explorer.mode.network",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"fiveire-995":{id:995,name:"fiveire",chainType:"evm",icon:"https://static.particle.network/token-list/fiveire/native.png",nativeIcon:"",fullname:"5ire Mainnet",network:"Mainnet",website:"https://www.5ire.org",nativeCurrency:{name:"5IRE",symbol:"5IRE",decimals:18},rpcUrl:"https://rpc.5ire.network",blockExplorerUrl:"https://5irescan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"fiveire-997":{id:997,name:"fiveire",chainType:"evm",icon:"https://static.particle.network/token-list/fiveire/native.png",nativeIcon:"",fullname:"5ire Testnet",network:"Testnet",website:"https://www.5ire.org",nativeCurrency:{name:"5IRE",symbol:"5IRE",decimals:18},rpcUrl:"https://rpc.qa.5ire.network",blockExplorerUrl:"https://scan.qa.5ire.network",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"klaytn-1001":{id:1001,name:"Klaytn",chainType:"evm",icon:"https://static.particle.network/token-list/klaytn/native.png",nativeIcon:"",fullname:"Klaytn Testnet",network:"Testnet",website:"https://www.klaytn.com",nativeCurrency:{name:"Klaytn",symbol:"KLAY",decimals:18},rpcUrl:"https://api.baobab.klaytn.net:8651",faucetUrl:"https://baobab.wallet.klaytn.foundation/faucet",blockExplorerUrl:"https://baobab.scope.klaytn.com"},"confluxespace-1030":{id:1030,name:"ConfluxESpace",chainType:"evm",icon:"https://static.particle.network/token-list/confluxespace/native.png",nativeIcon:"",fullname:"Conflux eSpace",network:"Mainnet",website:"https://confluxnetwork.org",nativeCurrency:{name:"CFX",symbol:"CFX",decimals:18},rpcUrl:"https://evm.confluxrpc.com",blockExplorerUrl:"https://evm.confluxscan.net"},"metis-1088":{id:1088,name:"Metis",chainType:"evm",icon:"https://static.particle.network/token-list/metis/native.png",nativeIcon:"",fullname:"Metis Mainnet",network:"Mainnet",website:"https://www.metis.io",nativeCurrency:{name:"Metis",symbol:"METIS",decimals:18},rpcUrl:"https://andromeda.metis.io/?owner=1088",blockExplorerUrl:"https://andromeda-explorer.metis.io"},"polygonzkevm-1101":{id:1101,name:"PolygonZkEVM",chainType:"evm",icon:"https://static.particle.network/token-list/polygonzkevm/native.png",nativeIcon:"",fullname:"Polygon zkEVM",network:"Mainnet",website:"https://polygon.technology/polygon-zkevm",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrl:"https://zkevm-rpc.com",blockExplorerUrl:"https://zkevm.polygonscan.com",features:[{name:"ERC4337",contracts:[{name:"BICONOMY",version:"1.0.0"},{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]},{name:"SWAP"}]},"core-1115":{id:1115,name:"Core",chainType:"evm",icon:"https://static.particle.network/token-list/core/native.png",nativeIcon:"",fullname:"Core Testnet",network:"Testnet",website:"https://coredao.org",nativeCurrency:{name:"CORE",symbol:"CORE",decimals:18},rpcUrl:"https://rpc.test.btcs.network",blockExplorerUrl:"https://scan.test.btcs.network",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"core-1116":{id:1116,name:"Core",chainType:"evm",icon:"https://static.particle.network/token-list/core/native.png",nativeIcon:"",fullname:"Core Mainnet",network:"Mainnet",website:"https://coredao.org",nativeCurrency:{name:"CORE",symbol:"CORE",decimals:18},rpcUrl:"https://rpc.coredao.org",blockExplorerUrl:"https://scan.coredao.org",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"bsquared-1123":{id:1123,name:"BSquared",chainType:"evm",icon:"https://static.particle.network/token-list/bsquared/native.png",nativeIcon:"https://static.particle.network/token-list/btc/native.png",fullname:"B\xb2 Network Testnet",network:"Testnet",website:"https://www.bsquared.network",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrl:"https://b2-testnet.alt.technology",blockExplorerUrl:"https://testnet-explorer.bsquared.network",features:[{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"},{name:"UNIVERSAL",version:"1.0.0"}]}]},"hybrid-1225":{id:1225,name:"Hybrid",chainType:"evm",icon:"https://static.particle.network/token-list/hybrid/native.png",nativeIcon:"",fullname:"Hybrid Testnet",network:"Testnet",website:"https://buildonhybrid.com",nativeCurrency:{name:"HYB",symbol:"HYB",decimals:18},rpcUrl:"https://hybrid-testnet.rpc.caldera.xyz/http",blockExplorerUrl:"https://explorer.buildonhybrid.com",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"moonbeam-1284":{id:1284,name:"Moonbeam",chainType:"evm",icon:"https://static.particle.network/token-list/moonbeam/native.png",nativeIcon:"",fullname:"Moonbeam Mainnet",network:"Mainnet",website:"https://moonbeam.network/networks/moonbeam",nativeCurrency:{name:"GLMR",symbol:"GLMR",decimals:18},rpcUrl:"https://rpc.api.moonbeam.network",blockExplorerUrl:"https://moonbeam.moonscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]},{name:"SWAP"}]},"moonriver-1285":{id:1285,name:"Moonriver",chainType:"evm",icon:"https://static.particle.network/token-list/moonriver/native.png",nativeIcon:"",fullname:"Moonriver Mainnet",network:"Mainnet",website:"https://moonbeam.network/networks/moonriver",nativeCurrency:{name:"MOVR",symbol:"MOVR",decimals:18},rpcUrl:"https://rpc.api.moonriver.moonbeam.network",blockExplorerUrl:"https://moonriver.moonscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]},{name:"SWAP"}]},"moonbeam-1287":{id:1287,name:"Moonbeam",chainType:"evm",icon:"https://static.particle.network/token-list/moonbeam/native.png",nativeIcon:"",fullname:"Moonbeam Testnet",network:"Testnet",website:"https://docs.moonbeam.network/networks/testnet",nativeCurrency:{name:"Dev",symbol:"DEV",decimals:18},rpcUrl:"https://rpc.api.moonbase.moonbeam.network",faucetUrl:"https://apps.moonbeam.network/moonbase-alpha/faucet",blockExplorerUrl:"https://moonbase.moonscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"sei-1328":{id:1328,name:"Sei",chainType:"evm",icon:"https://static.particle.network/token-list/sei/native.png",nativeIcon:"",fullname:"Sei Testnet",network:"Testnet",website:"https://www.sei.io",nativeCurrency:{name:"SEI",symbol:"SEI",decimals:18},rpcUrl:"https://evm-rpc-testnet.sei-apis.com",blockExplorerUrl:"https://testnet.seistream.app",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"UNIVERSAL",version:"1.0.0"}]}]},"sei-1329":{id:1329,name:"Sei",chainType:"evm",icon:"https://static.particle.network/token-list/sei/native.png",nativeIcon:"",fullname:"Sei Mainnet",network:"Mainnet",website:"https://www.sei.io",nativeCurrency:{name:"SEI",symbol:"SEI",decimals:18},rpcUrl:"https://evm-rpc.sei-apis.com",blockExplorerUrl:"https://seistream.app",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"bevm-1501":{id:1501,name:"BEVM",chainType:"evm",icon:"https://static.particle.network/token-list/bevm/native.png",nativeIcon:"https://static.particle.network/token-list/btc/native.png",fullname:"BEVM Canary Mainnet",network:"Mainnet",website:"https://www.bevm.io",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrl:"https://rpc-canary-1.bevm.io",blockExplorerUrl:"https://scan-canary.bevm.io",features:[{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"bevm-1502":{id:1502,name:"BEVM",chainType:"evm",icon:"https://static.particle.network/token-list/bevm/native.png",nativeIcon:"https://static.particle.network/token-list/btc/native.png",fullname:"BEVM Canary Testnet",network:"Testnet",website:"https://www.bevm.io",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrl:"https://canary-testnet.bevm.io",blockExplorerUrl:"https://scan-canary-testnet.bevm.io",features:[{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"combo-1715":{id:1715,name:"Combo",chainType:"evm",icon:"https://static.particle.network/token-list/combo/native.png",nativeIcon:"https://static.particle.network/token-list/bsc/native.png",fullname:"Combo Testnet",network:"Testnet",website:"https://docs.combonetwork.io",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrl:"https://test-rpc.combonetwork.io",blockExplorerUrl:"https://combotrace-testnet.nodereal.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"UNIVERSAL",version:"1.0.0"}]}]},"kava-2221":{id:2221,name:"Kava",chainType:"evm",icon:"https://static.particle.network/token-list/kava/native.png",nativeIcon:"",fullname:"Kava Testnet",network:"Testnet",website:"https://www.kava.io",nativeCurrency:{name:"KAVA",symbol:"KAVA",decimals:18},rpcUrl:"https://evm.testnet.kava.io",faucetUrl:"https://faucet.kava.io",blockExplorerUrl:"http://testnet.kavascan.com"},"kava-2222":{id:2222,name:"Kava",chainType:"evm",icon:"https://static.particle.network/token-list/kava/native.png",nativeIcon:"",fullname:"Kava Mainnet",network:"Mainnet",website:"https://www.kava.io",nativeCurrency:{name:"KAVA",symbol:"KAVA",decimals:18},rpcUrl:"https://evm.kava.io",blockExplorerUrl:"https://kavascan.com"},"peaq-2241":{id:2241,name:"peaq",chainType:"evm",icon:"https://static.particle.network/token-list/peaq/native.png",nativeIcon:"",fullname:"Peaq Krest Mainnet",network:"Mainnet",website:"https://www.peaq.network",nativeCurrency:{name:"KRST",symbol:"KRST",decimals:18},rpcUrl:"https://erpc-krest.peaq.network",blockExplorerUrl:"https://krest.subscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"polygonzkevm-2442":{id:2442,name:"PolygonZkEVM",chainType:"evm",icon:"https://static.particle.network/token-list/polygonzkevm/native.png",nativeIcon:"",fullname:"Polygon zkEVM Cardona",network:"Cardona",website:"https://polygon.technology",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrl:"https://rpc.cardona.zkevm-rpc.com",blockExplorerUrl:"https://cardona-zkevm.polygonscan.com",features:[{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"ainn-2648":{id:2648,name:"ainn",chainType:"evm",icon:"https://static.particle.network/token-list/ainn/native.png",nativeIcon:"https://static.particle.network/token-list/btc/native.png",fullname:"AILayer Testnet",network:"Testnet",website:"https://anvm.io",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrl:"https://rpc.anvm.io",blockExplorerUrl:"https://explorer.anvm.io",features:[{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"ainn-2649":{id:2649,name:"ainn",chainType:"evm",icon:"https://static.particle.network/token-list/ainn/native.png",nativeIcon:"https://static.particle.network/token-list/btc/native.png",fullname:"AILayer Mainnet",network:"Mainnet",website:"https://anvm.io",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrl:"https://mainnet-rpc.ailayer.xyz",blockExplorerUrl:"https://mainnet-explorer.ailayer.xyz",features:[{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"gmnetwork-2777":{id:2777,name:"GMNetwork",chainType:"evm",icon:"https://static.particle.network/token-list/gmnetwork/native.png",nativeIcon:"",fullname:"GM Network Mainnet",network:"Mainnet",website:"https://gmnetwork.ai",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrl:"https://rpc.gmnetwork.ai",blockExplorerUrl:"https://scan.gmnetwork.ai",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"satoshivm-3109":{id:3109,name:"satoshivm",chainType:"evm",icon:"https://static.particle.network/token-list/satoshivm/native.png",nativeIcon:"https://static.particle.network/token-list/btc/native.png",fullname:"SatoshiVM Alpha",network:"Mainnet",website:"https://www.satoshivm.io",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrl:"https://alpha-rpc-node-http.svmscan.io",blockExplorerUrl:"https://svmscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"satoshivm-3110":{id:3110,name:"SatoshiVM",chainType:"evm",icon:"https://static.particle.network/token-list/satoshivm/native.png",nativeIcon:"https://static.particle.network/token-list/btc/native.png",fullname:"SatoshiVM Testnet",network:"Testnet",website:"https://www.satoshivm.io",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrl:"https://test-rpc-node-http.svmscan.io",blockExplorerUrl:"https://testnet.svmscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"botanix-3636":{id:3636,name:"Botanix",chainType:"evm",icon:"https://static.particle.network/token-list/botanix/native.png",nativeIcon:"https://static.particle.network/token-list/btc/native.png",fullname:"Botanix Testnet",network:"Testnet",website:"https://botanixlabs.xyz",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrl:"https://node.botanixlabs.dev",blockExplorerUrl:"https://blockscout.botanixlabs.dev",features:[{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"astarzkevm-3776":{id:3776,name:"AstarZkEVM",chainType:"evm",icon:"https://static.particle.network/token-list/astarzkevm/native.png",nativeIcon:"",fullname:"Astar zkEVM Mainet",network:"Mainet",website:"https://astar.network",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrl:"https://rpc.startale.com/astar-zkevm",blockExplorerUrl:"https://astar-zkevm.explorer.startale.com",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"fantom-4002":{id:4002,name:"Fantom",chainType:"evm",icon:"https://static.particle.network/token-list/fantom/native.png",nativeIcon:"",fullname:"Fantom Testnet",network:"Testnet",website:"https://docs.fantom.foundation/quick-start/short-guide#fantom-testnet",nativeCurrency:{name:"FTM",symbol:"FTM",decimals:18},rpcUrl:"https://rpc.testnet.fantom.network",faucetUrl:"https://faucet.fantom.network",blockExplorerUrl:"https://testnet.ftmscan.com",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"merlin-4200":{id:4200,name:"Merlin",chainType:"evm",icon:"https://static.particle.network/token-list/merlin/native.png",nativeIcon:"https://static.particle.network/token-list/btc/native.png",fullname:"Merlin Mainnet",network:"Mainnet",website:"https://merlinprotocol.org",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrl:"https://rpc.merlinchain.io",blockExplorerUrl:"https://scan.merlinchain.io",features:[{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]},{name:"SWAP"}]},"iotex-4689":{id:4689,name:"iotex",chainType:"evm",icon:"https://static.particle.network/token-list/iotex/native.png",nativeIcon:"",fullname:"IoTeX Mainnet",network:"Mainnet",website:"https://iotex.io",nativeCurrency:{name:"IOTX",symbol:"IOTX",decimals:18},rpcUrl:"https://babel-api.mainnet.iotex.io",blockExplorerUrl:"https://iotexscan.io",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"iotex-4690":{id:4690,name:"iotex",chainType:"evm",icon:"https://static.particle.network/token-list/iotex/native.png",nativeIcon:"",fullname:"IoTeX Testnet",network:"Testnet",website:"https://iotex.io",nativeCurrency:{name:"IOTX",symbol:"IOTX",decimals:18},rpcUrl:"https://babel-api.testnet.iotex.io",blockExplorerUrl:"https://testnet.iotexscan.io",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"mantle-5000":{id:5e3,name:"Mantle",chainType:"evm",icon:"https://static.particle.network/token-list/mantle/native.png",nativeIcon:"",fullname:"Mantle Mainnet",network:"Mainnet",website:"https://mantle.xyz",nativeCurrency:{name:"MNT",symbol:"MNT",decimals:18},rpcUrl:"https://rpc.mantle.xyz",blockExplorerUrl:"https://explorer.mantle.xyz",features:[{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"},{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]},{name:"SWAP"},{name:"ON-RAMP"}]},"mantle-5003":{id:5003,name:"Mantle",chainType:"evm",icon:"https://static.particle.network/token-list/mantle/native.png",nativeIcon:"",fullname:"Mantle Sepolia Testnet",network:"Testnet",website:"https://mantle.xyz",nativeCurrency:{name:"MNT",symbol:"MNT",decimals:18},rpcUrl:"https://rpc.sepolia.mantle.xyz",faucetUrl:"https://faucet.sepolia.mantle.xyz",blockExplorerUrl:"https://explorer.sepolia.mantle.xyz",features:[{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"opbnb-5611":{id:5611,name:"opBNB",chainType:"evm",icon:"https://static.particle.network/token-list/opbnb/native.png",nativeIcon:"https://static.particle.network/token-list/bsc/native.png",fullname:"opBNB Testnet",network:"Testnet",website:"https://opbnb.bnbchain.org",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrl:"https://opbnb-testnet-rpc.bnbchain.org",blockExplorerUrl:"https://opbnb-testnet.bscscan.com",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"},{name:"UNIVERSAL",version:"1.0.0"}]}]},"aura-6321":{id:6321,name:"aura",chainType:"evm",icon:"https://static.particle.network/token-list/aura/native.png",nativeIcon:"",fullname:"Aura Testnet",network:"Testnet",website:"https://aura.network",nativeCurrency:{name:"AURA",symbol:"AURA",decimals:18},rpcUrl:"https://jsonrpc.euphoria.aura.network",blockExplorerUrl:"https://euphoria.aurascan.io",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"aura-6322":{id:6322,name:"aura",chainType:"evm",icon:"https://static.particle.network/token-list/aura/native.png",nativeIcon:"",fullname:"Aura Mainnet",network:"Mainnet",website:"https://aura.network",nativeCurrency:{name:"AURA",symbol:"AURA",decimals:18},rpcUrl:"https://jsonrpc.aura.network",blockExplorerUrl:"https://aurascan.io",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"zetachain-7000":{id:7e3,name:"ZetaChain",chainType:"evm",icon:"https://static.particle.network/token-list/zetachain/native.png",nativeIcon:"",fullname:"ZetaChain Mainnet",network:"Mainnet",website:"https://zetachain.com",nativeCurrency:{name:"ZETA",symbol:"ZETA",decimals:18},rpcUrl:"https://zetachain-evm.blockpi.network/v1/rpc/public",blockExplorerUrl:"https://zetachain.blockscout.com",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"zetachain-7001":{id:7001,name:"ZetaChain",chainType:"evm",icon:"https://static.particle.network/token-list/zetachain/native.png",nativeIcon:"",fullname:"ZetaChain Testnet",network:"Testnet",website:"https://zetachain.com",nativeCurrency:{name:"ZETA",symbol:"ZETA",decimals:18},rpcUrl:"https://zetachain-athens-evm.blockpi.network/v1/rpc/public",faucetUrl:"https://labs.zetachain.com/get-zeta",blockExplorerUrl:"https://zetachain-athens-3.blockscout.com",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"cyber-7560":{id:7560,name:"Cyber",chainType:"evm",icon:"https://static.particle.network/token-list/cyber/native.png",nativeIcon:"",fullname:"Cyber Mainnet",network:"Mainnet",website:"https://cyber-explorer.alt.technology",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrl:"https://cyber.alt.technology",blockExplorerUrl:"https://cyberscan.co",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"}]}]},"klaytn-8217":{id:8217,name:"Klaytn",chainType:"evm",icon:"https://static.particle.network/token-list/klaytn/native.png",nativeIcon:"",fullname:"Klaytn Mainnet",network:"Mainnet",website:"https://www.klaytn.com",nativeCurrency:{name:"Klaytn",symbol:"KLAY",decimals:18},rpcUrl:"https://cypress.fandom.finance/archive",blockExplorerUrl:"https://scope.klaytn.com",features:[{name:"SWAP"}]},"lorenzo-8329":{id:8329,name:"lorenzo",chainType:"evm",icon:"https://static.particle.network/token-list/lorenzo/native.png",nativeIcon:"https://static.particle.network/token-list/btc/native.png",fullname:"Lorenzo Mainnet",network:"Mainnet",website:"https://lorenzo-protocol.xyz",nativeCurrency:{name:"stBTC",symbol:"stBTC",decimals:18},rpcUrl:"https://rpc.lorenzo-protocol.xyz",blockExplorerUrl:"https://scan.lorenzo-protocol.xyz",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"base-8453":{id:8453,name:"Base",chainType:"evm",icon:"https://static.particle.network/token-list/base/native.png",nativeIcon:"",fullname:"Base Mainnet",network:"Mainnet",website:"https://base.org",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrl:"https://developer-access-mainnet.base.org",blockExplorerUrl:"https://basescan.org",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"1.0.0"},{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"},{name:"LIGHT",version:"1.0.2"},{name:"XTERIO",version:"1.0.0"}]},{name:"SWAP"},{name:"ON-RAMP"}]},"combo-9980":{id:9980,name:"Combo",chainType:"evm",icon:"https://static.particle.network/token-list/combo/native.png",nativeIcon:"https://static.particle.network/token-list/bsc/native.png",fullname:"Combo Mainnet",network:"Mainnet",website:"https://docs.combonetwork.io",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrl:"https://rpc.combonetwork.io",blockExplorerUrl:"https://combotrace.nodereal.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"peaq-9990":{id:9990,name:"peaq",chainType:"evm",icon:"https://static.particle.network/token-list/peaq/native.png",nativeIcon:"",fullname:"Peaq Agung Testnet",network:"Testnet",website:"https://www.peaq.network",nativeCurrency:{name:"AGUNG",symbol:"AGUNG",decimals:18},rpcUrl:"https://rpcpc1-qa.agung.peaq.network",blockExplorerUrl:"https://agung-testnet.subscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"gnosis-10200":{id:10200,name:"Gnosis",chainType:"evm",icon:"https://static.particle.network/token-list/gnosis/native.png",nativeIcon:"",fullname:"Gnosis Testnet",network:"Testnet",website:"https://docs.gnosischain.com",nativeCurrency:{name:"Gnosis",symbol:"XDAI",decimals:18},rpcUrl:"https://optimism.gnosischain.com",faucetUrl:"https://gnosisfaucet.com",blockExplorerUrl:"https://blockscout.com/gnosis/chiado",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"bevm-11501":{id:11501,name:"BEVM",chainType:"evm",icon:"https://static.particle.network/token-list/bevm/native.png",nativeIcon:"https://static.particle.network/token-list/btc/native.png",fullname:"BEVM Mainnet",network:"Mainnet",website:"https://www.bevm.io",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrl:"https://rpc-mainnet-1.bevm.io",blockExplorerUrl:"https://scan-mainnet.bevm.io",features:[{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"bevm-11503":{id:11503,name:"BEVM",chainType:"evm",icon:"https://static.particle.network/token-list/bevm/native.png",nativeIcon:"https://static.particle.network/token-list/btc/native.png",fullname:"BEVM Testnet",network:"Testnet",website:"https://www.bevm.io",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrl:"https://testnet.bevm.io",blockExplorerUrl:"https://scan-testnet.bevm.io",features:[{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"readon-12015":{id:12015,name:"ReadON",chainType:"evm",icon:"https://static.particle.network/token-list/readon/native.png",nativeIcon:"",fullname:"ReadON Testnet",network:"Testnet",website:"https://opside.network",nativeCurrency:{name:"READ",symbol:"READ",decimals:18},rpcUrl:"https://pre-alpha-zkrollup-rpc.opside.network/readon-content-test-chain",blockExplorerUrl:"https://readon-content-test-chain.zkevm.opside.info",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"immutable-13473":{id:13473,name:"Immutable",chainType:"evm",icon:"https://static.particle.network/token-list/immutable/native.png",nativeIcon:"",fullname:"Immutable zkEVM Testnet",network:"Testnet",website:"https://www.immutable.com",nativeCurrency:{name:"IMX",symbol:"IMX",decimals:18},rpcUrl:"https://rpc.testnet.immutable.com",blockExplorerUrl:"https://explorer.testnet.immutable.com",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"eosevm-15557":{id:15557,name:"Eosevm",chainType:"evm",icon:"https://static.particle.network/token-list/eosevm/native.png",nativeIcon:"",fullname:"EOS EVM Testnet",network:"Testnet",website:"https://eosnetwork.com",nativeCurrency:{name:"EOS",symbol:"EOS",decimals:18},rpcUrl:"https://api.testnet.evm.eosnetwork.com",faucetUrl:"https://bridge.testnet.evm.eosnetwork.com",blockExplorerUrl:"https://explorer.testnet.evm.eosnetwork.com"},"ethereum-17000":{id:17e3,name:"Ethereum",chainType:"evm",icon:"https://static.particle.network/token-list/ethereum/native.png",nativeIcon:"",fullname:"Ethereum Holesky",network:"Holesky",website:"https://holesky.ethpandaops.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrl:"https://ethereum-holesky.blockpi.network/v1/rpc/public",faucetUrl:"https://faucet.quicknode.com/drip",blockExplorerUrl:"https://holesky.etherscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"eosevm-17777":{id:17777,name:"Eosevm",chainType:"evm",icon:"https://static.particle.network/token-list/eosevm/native.png",nativeIcon:"",fullname:"EOS EVM",network:"Mainnet",website:"https://eosnetwork.com",nativeCurrency:{name:"EOS",symbol:"EOS",decimals:18},rpcUrl:"https://api.evm.eosnetwork.com",blockExplorerUrl:"https://explorer.evm.eosnetwork.com"},"mapprotocol-22776":{id:22776,name:"MAPProtocol",chainType:"evm",icon:"https://static.particle.network/token-list/mapprotocol/native.png",nativeIcon:"",fullname:"MAP Protocol",network:"Mainnet",website:"https://maplabs.io",nativeCurrency:{name:"MAPO",symbol:"MAPO",decimals:18},rpcUrl:"https://rpc.maplabs.io",blockExplorerUrl:"https://mapscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"zeroone-27827":{id:27827,name:"Zeroone",chainType:"evm",icon:"https://static.particle.network/token-list/zeroone/native.png",nativeIcon:"",fullname:"Zeroone Mainnet",network:"Mainnet",website:"https://zeroone.art",nativeCurrency:{name:"ZERO",symbol:"ZERO",decimals:18},rpcUrl:"https://subnets.avax.network/zeroonemai/mainnet/rpc",blockExplorerUrl:"https://subnets.avax.network/zeroonemai",features:[{name:"EIP1559"}]},"mode-34443":{id:34443,name:"Mode",chainType:"evm",icon:"https://static.particle.network/token-list/mode/native.png",nativeIcon:"",fullname:"Mode Mainnet",network:"Mainnet",website:"https://www.mode.network",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrl:"https://mainnet.mode.network",blockExplorerUrl:"https://explorer.mode.network",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"arbitrum-42161":{id:42161,name:"Arbitrum",chainType:"evm",icon:"https://static.particle.network/token-list/arbitrum/native.png",nativeIcon:"",fullname:"Arbitrum One",network:"Mainnet",website:"https://arbitrum.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrl:"https://arb1.arbitrum.io/rpc",blockExplorerUrl:"https://arbiscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"1.0.0"},{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"},{name:"LIGHT",version:"1.0.2"},{name:"XTERIO",version:"1.0.0"},{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]},{name:"SWAP"},{name:"ON-RAMP"}]},"arbitrum-42170":{id:42170,name:"Arbitrum",chainType:"evm",icon:"https://static.particle.network/token-list/arbitrum/native.png",nativeIcon:"",fullname:"Arbitrum Nova",network:"Mainnet",website:"https://arbitrum.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrl:"https://nova.arbitrum.io/rpc",blockExplorerUrl:"https://nova.arbiscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"1.0.0"},{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"celo-42220":{id:42220,name:"Celo",chainType:"evm",icon:"https://static.particle.network/token-list/celo/native.png",nativeIcon:"",fullname:"Celo Mainnet",network:"Mainnet",website:"https://docs.celo.org",nativeCurrency:{name:"Celo",symbol:"CELO",decimals:18},rpcUrl:"https://rpc.ankr.com/celo",blockExplorerUrl:"https://explorer.celo.org/mainnet",features:[{name:"SWAP"},{name:"ON-RAMP"}]},"oasisemerald-42261":{id:42261,name:"OasisEmerald",chainType:"evm",icon:"https://static.particle.network/token-list/oasisemerald/native.png",nativeIcon:"",fullname:"OasisEmerald Testnet",network:"Testnet",website:"https://docs.oasis.io/dapp/emerald",nativeCurrency:{name:"OasisEmerald",symbol:"ROSE",decimals:18},rpcUrl:"https://testnet.emerald.oasis.dev",faucetUrl:"https://faucet.testnet.oasis.dev",blockExplorerUrl:"https://testnet.explorer.emerald.oasis.dev"},"oasisemerald-42262":{id:42262,name:"OasisEmerald",chainType:"evm",icon:"https://static.particle.network/token-list/oasisemerald/native.png",nativeIcon:"",fullname:"OasisEmerald Mainnet",network:"Mainnet",website:"https://docs.oasis.io/dapp/emerald",nativeCurrency:{name:"OasisEmerald",symbol:"ROSE",decimals:18},rpcUrl:"https://emerald.oasis.dev",blockExplorerUrl:"https://explorer.emerald.oasis.dev"},"zkfair-42766":{id:42766,name:"ZKFair",chainType:"evm",icon:"https://static.particle.network/token-list/zkfair/native.png",nativeIcon:"https://static.particle.network/token-list/zkfair/usdc.png",fullname:"ZKFair Mainnet",network:"Mainnet",website:"https://zkfair.io",nativeCurrency:{name:"ZKF",symbol:"USDC",decimals:18},rpcUrl:"https://rpc.zkfair.io",blockExplorerUrl:"https://scan.zkfair.io",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]},{name:"SWAP"}]},"avalanche-43113":{id:43113,name:"Avalanche",chainType:"evm",icon:"https://static.particle.network/token-list/avalanche/native.png",nativeIcon:"",fullname:"Avalanche Testnet",network:"Testnet",website:"https://cchain.explorer.avax-test.network",nativeCurrency:{name:"AVAX",symbol:"AVAX",decimals:18},rpcUrl:"https://api.avax-test.network/ext/bc/C/rpc",faucetUrl:"https://faucet.avax.network",blockExplorerUrl:"https://testnet.snowtrace.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"1.0.0"},{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"UNIVERSAL",version:"1.0.0"}]}]},"avalanche-43114":{id:43114,name:"Avalanche",chainType:"evm",icon:"https://static.particle.network/token-list/avalanche/native.png",nativeIcon:"",fullname:"Avalanche Mainnet",network:"Mainnet",website:"https://www.avax.network",nativeCurrency:{name:"AVAX",symbol:"AVAX",decimals:18},rpcUrl:"https://api.avax.network/ext/bc/C/rpc",blockExplorerUrl:"https://snowtrace.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"1.0.0"},{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]},{name:"SWAP"},{name:"ON-RAMP"}]},"zkfair-43851":{id:43851,name:"ZKFair",chainType:"evm",icon:"https://static.particle.network/token-list/zkfair/native.png",nativeIcon:"https://static.particle.network/token-list/zkfair/usdc.png",fullname:"ZKFair Testnet",network:"Testnet",website:"https://zkfair.io",nativeCurrency:{name:"ZKF",symbol:"USDC",decimals:18},rpcUrl:"https://testnet-rpc.zkfair.io",blockExplorerUrl:"https://testnet-scan.zkfair.io",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"celo-44787":{id:44787,name:"Celo",chainType:"evm",icon:"https://static.particle.network/token-list/celo/native.png",nativeIcon:"",fullname:"Celo Testnet",network:"Testnet",website:"https://docs.celo.org",nativeCurrency:{name:"Celo",symbol:"CELO",decimals:18},rpcUrl:"https://alfajores-forno.celo-testnet.org",faucetUrl:"https://celo.org/developers/faucet",blockExplorerUrl:"https://explorer.celo.org/alfajores"},"zircuit-48899":{id:48899,name:"Zircuit",chainType:"evm",icon:"https://static.particle.network/token-list/zircuit/native.png",nativeIcon:"",fullname:"Zircuit Testnet",network:"Testnet",website:"https://www.zircuit.com",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrl:"https://zircuit1.p2pify.com",blockExplorerUrl:"https://explorer.zircuit.com",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"zeroone-56400":{id:56400,name:"Zeroone",chainType:"evm",icon:"https://static.particle.network/token-list/zeroone/native.png",nativeIcon:"",fullname:"Zeroone Testnet",network:"Testnet",website:"https://zeroone.art",nativeCurrency:{name:"ZERO",symbol:"ZERO",decimals:18},rpcUrl:"https://subnets.avax.network/testnetzer/testnet/rpc",blockExplorerUrl:"https://subnets-test.avax.network/testnetzer",features:[{name:"EIP1559"}]},"linea-59141":{id:59141,name:"Linea",chainType:"evm",icon:"https://static.particle.network/token-list/linea/native.png",nativeIcon:"",fullname:"Linea Sepolia",network:"Sepolia",website:"https://linea.build",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrl:"https://rpc.sepolia.linea.build",faucetUrl:"https://faucet.goerli.linea.build",blockExplorerUrl:"https://sepolia.lineascan.build",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"UNIVERSAL",version:"1.0.0"}]}]},"linea-59144":{id:59144,name:"Linea",chainType:"evm",icon:"https://static.particle.network/token-list/linea/native.png",nativeIcon:"",fullname:"Linea Mainnet",network:"Mainnet",website:"https://linea.build",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrl:"https://rpc.linea.build",blockExplorerUrl:"https://lineascan.build",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"}]},{name:"SWAP"},{name:"ON-RAMP"}]},"bob-60808":{id:60808,name:"BOB",chainType:"evm",icon:"https://static.particle.network/token-list/bob/native.png",nativeIcon:"",fullname:"BOB Mainnet",network:"Mainnet",website:"https://www.gobob.xyz",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrl:"https://rpc.gobob.xyz",blockExplorerUrl:"https://explorer.gobob.xyz",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"polygon-80002":{id:80002,name:"Polygon",chainType:"evm",icon:"https://static.particle.network/token-list/polygon/native.png",nativeIcon:"",fullname:"Polygon Amoy",network:"Amoy",website:"https://polygon.technology",nativeCurrency:{name:"MATIC",symbol:"MATIC",decimals:18},rpcUrl:"https://rpc-amoy.polygon.technology",blockExplorerUrl:"https://www.oklink.com/amoy",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"},{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"},{name:"UNIVERSAL",version:"1.0.0"}]}]},"berachain-80084":{id:80084,name:"Berachain",chainType:"evm",icon:"https://static.particle.network/token-list/berachain/native.png",nativeIcon:"",fullname:"Berachain bArtio",network:"bArtio",website:"https://www.berachain.com",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrl:"https://bartio.rpc.berachain.com",faucetUrl:"https://bartio.faucet.berachain.com",blockExplorerUrl:"https://bartio.beratrail.io",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"UNIVERSAL",version:"1.0.0"}]}]},"blast-81457":{id:81457,name:"Blast",chainType:"evm",icon:"https://static.particle.network/token-list/blast/native.png",nativeIcon:"",fullname:"Blast Mainnet",network:"Mainnet",website:"https://blastblockchain.com",nativeCurrency:{name:"Blast Ether",symbol:"ETH",decimals:18},rpcUrl:"https://rpc.blast.io",blockExplorerUrl:"https://blastscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"}]}]},"lorenzo-83291":{id:83291,name:"lorenzo",chainType:"evm",icon:"https://static.particle.network/token-list/lorenzo/native.png",nativeIcon:"https://static.particle.network/token-list/btc/native.png",fullname:"Lorenzo Testnet",network:"Testnet",website:"https://lorenzo-protocol.xyz",nativeCurrency:{name:"stBTC",symbol:"stBTC",decimals:18},rpcUrl:"https://rpc-testnet.lorenzo-protocol.xyz",blockExplorerUrl:"https://scan-testnet.lorenzo-protocol.xyz",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"base-84532":{id:84532,name:"Base",chainType:"evm",icon:"https://static.particle.network/token-list/base/native.png",nativeIcon:"",fullname:"Base Sepolia",network:"Sepolia",website:"https://base.org",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrl:"https://sepolia.base.org",faucetUrl:"https://bridge.base.org/deposit",blockExplorerUrl:"https://sepolia.basescan.org",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"},{name:"UNIVERSAL",version:"1.0.0"}]}]},"tuna-89682":{id:89682,name:"TUNA",chainType:"evm",icon:"https://static.particle.network/token-list/tuna/native.png",nativeIcon:"https://static.particle.network/token-list/btc/native.png",fullname:"TUNA Testnet",network:"Testnet",website:"https://tunachain.io",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrl:"https://babytuna.rpc.tunachain.io",blockExplorerUrl:"https://babytuna.explorer.tunachain.io",features:[{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"xterio-112358":{id:112358,name:"xterio",chainType:"evm",icon:"https://static.particle.network/token-list/xterio/native.png",nativeIcon:"https://static.particle.network/token-list/bsc/native.png",fullname:"Xterio(BNB) Mainnet",network:"Mainnet",website:"https://xter.io",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrl:"https://xterio.alt.technology",blockExplorerUrl:"https://xterscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"XTERIO",version:"1.0.0"}]}]},"taiko-167000":{id:167e3,name:"Taiko",chainType:"evm",icon:"https://static.particle.network/token-list/taiko/native.png",nativeIcon:"",fullname:"Taiko Mainnet",network:"Mainnet",website:"https://taiko.xyz",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrl:"https://rpc.mainnet.taiko.xyz",blockExplorerUrl:"https://taikoscan.network",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"taiko-167009":{id:167009,name:"Taiko",chainType:"evm",icon:"https://static.particle.network/token-list/taiko/native.png",nativeIcon:"",fullname:"Taiko Hekla",network:"Hekla",website:"https://taiko.xyz",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrl:"https://rpc.hekla.taiko.xyz",blockExplorerUrl:"https://explorer.hekla.taiko.xyz",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"bitlayer-200810":{id:200810,name:"Bitlayer",chainType:"evm",icon:"https://static.particle.network/token-list/bitlayer/native.png",nativeIcon:"https://static.particle.network/token-list/btc/native.png",fullname:"Bitlayer Testnet",network:"Testnet",website:"https://www.bitlayer.org",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrl:"https://testnet-rpc.bitlayer.org",blockExplorerUrl:"https://testnet-scan.bitlayer.org",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"},{name:"UNIVERSAL",version:"1.0.0"}]}]},"bitlayer-200901":{id:200901,name:"Bitlayer",chainType:"evm",icon:"https://static.particle.network/token-list/bitlayer/native.png",nativeIcon:"https://static.particle.network/token-list/btc/native.png",fullname:"Bitlayer Mainnet",network:"Mainnet",website:"https://www.bitlayer.org",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrl:"https://rpc.bitlayer.org",blockExplorerUrl:"https://www.btrscan.com",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"}]}]},"platon-210425":{id:210425,name:"PlatON",chainType:"evm",icon:"https://static.particle.network/token-list/platon/native.png",nativeIcon:"",fullname:"PlatON Mainnet",network:"Mainnet",website:"https://www.platon.network",nativeCurrency:{name:"LAT",symbol:"LAT",decimals:18},rpcUrl:"https://openapi2.platon.network/rpc",blockExplorerUrl:"https://scan.platon.network"},"arbitrum-421614":{id:421614,name:"Arbitrum",chainType:"evm",icon:"https://static.particle.network/token-list/arbitrum/native.png",nativeIcon:"",fullname:"Arbitrum Sepolia",network:"Sepolia",website:"https://arbitrum.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrl:"https://sepolia-rollup.arbitrum.io/rpc",blockExplorerUrl:"https://sepolia.arbiscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"},{name:"UNIVERSAL",version:"1.0.0"}]}]},"scroll-534351":{id:534351,name:"Scroll",chainType:"evm",icon:"https://static.particle.network/token-list/scroll/native.png",nativeIcon:"",fullname:"Scroll Sepolia",network:"Sepolia",website:"https://scroll.io",nativeCurrency:{name:"Scroll",symbol:"ETH",decimals:18},rpcUrl:"https://sepolia-rpc.scroll.io",blockExplorerUrl:"https://sepolia.scrollscan.com",features:[{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"}]}]},"scroll-534352":{id:534352,name:"Scroll",chainType:"evm",icon:"https://static.particle.network/token-list/scroll/native.png",nativeIcon:"",fullname:"Scroll Mainnet",network:"Mainnet",website:"https://scroll.io",nativeCurrency:{name:"Scroll",symbol:"ETH",decimals:18},rpcUrl:"https://rpc.scroll.io",blockExplorerUrl:"https://scrollscan.com",features:[{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"}]},{name:"SWAP"}]},"merlin-686868":{id:686868,name:"Merlin",chainType:"evm",icon:"https://static.particle.network/token-list/merlin/native.png",nativeIcon:"https://static.particle.network/token-list/btc/native.png",fullname:"Merlin Testnet",network:"Testnet",website:"https://merlinprotocol.org",nativeCurrency:{name:"BTC",symbol:"BTC",decimals:18},rpcUrl:"https://testnet-rpc.merlinchain.io",blockExplorerUrl:"https://testnet-scan.merlinchain.io",features:[{name:"ERC4337",contracts:[{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"},{name:"UNIVERSAL",version:"1.0.0"}]}]},"sei-713715":{id:713715,name:"Sei",chainType:"evm",icon:"https://static.particle.network/token-list/sei/native.png",nativeIcon:"",fullname:"Sei Devnet",network:"Devnet",website:"https://www.sei.io",nativeCurrency:{name:"SEI",symbol:"SEI",decimals:18},rpcUrl:"https://evm-rpc-arctic-1.sei-apis.com",blockExplorerUrl:"https://devnet.seistream.app",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"zklink-810180":{id:810180,name:"zkLink",chainType:"evm",icon:"https://static.particle.network/token-list/zklink/native.png",nativeIcon:"",fullname:"zkLink Nova Mainnet",network:"Mainnet",website:"https://zklink.io",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrl:"https://rpc.zklink.io",blockExplorerUrl:"https://explorer.zklink.io"},"xterio-1637450":{id:1637450,name:"xterio",chainType:"evm",icon:"https://static.particle.network/token-list/xterio/native.png",nativeIcon:"https://static.particle.network/token-list/bsc/native.png",fullname:"Xterio(BNB) Testnet",network:"Testnet",website:"https://xter.io",nativeCurrency:{name:"BNB",symbol:"BNB",decimals:18},rpcUrl:"https://xterio-testnet.alt.technology",blockExplorerUrl:"https://testnet.xterscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"XTERIO",version:"1.0.0"},{name:"UNIVERSAL",version:"1.0.0"}]}]},"platon-2206132":{id:2206132,name:"PlatON",chainType:"evm",icon:"https://static.particle.network/token-list/platon/native.png",nativeIcon:"",fullname:"PlatON Testnet",network:"Testnet",website:"https://www.platon.network",nativeCurrency:{name:"LAT",symbol:"LAT",decimals:18},rpcUrl:"https://devnetopenapi2.platon.network/rpc",faucetUrl:"https://devnet2faucet.platon.network/faucet",blockExplorerUrl:"https://devnet2scan.platon.network"},"xterioeth-2702128":{id:2702128,name:"xterioeth",chainType:"evm",icon:"https://static.particle.network/token-list/xterioeth/native.png",nativeIcon:"",fullname:"Xterio(ETH) Mainnet",network:"Mainnet",website:"https://xterscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrl:"https://xterio-eth.alt.technology",blockExplorerUrl:"https://eth.xterscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"XTERIO",version:"1.0.0"}]}]},"manta-3441006":{id:3441006,name:"Manta",chainType:"evm",icon:"https://static.particle.network/token-list/manta/native.png",nativeIcon:"",fullname:"Manta Sepolia",network:"Sepolia",website:"https://manta.network",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrl:"https://pacific-rpc.sepolia-testnet.manta.network/http",faucetUrl:"https://pacific-info.manta.network",blockExplorerUrl:"https://pacific-explorer.sepolia-testnet.manta.network",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"astarzkevm-6038361":{id:6038361,name:"AstarZkEVM",chainType:"evm",icon:"https://static.particle.network/token-list/astarzkevm/native.png",nativeIcon:"",fullname:"Astar zkEVM Testnet",network:"Testnet",website:"https://astar.network",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrl:"https://rpc.startale.com/zkyoto",blockExplorerUrl:"https://zkyoto.explorer.startale.com",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"zora-7777777":{id:7777777,name:"Zora",chainType:"evm",icon:"https://static.particle.network/token-list/zora/native.png",nativeIcon:"",fullname:"Zora Mainnet",network:"Mainnet",website:"https://zora.energy",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrl:"https://rpc.zora.energy",blockExplorerUrl:"https://explorer.zora.energy",features:[{name:"EIP1559"}]},"ethereum-11155111":{id:11155111,name:"Ethereum",chainType:"evm",icon:"https://static.particle.network/token-list/ethereum/native.png",nativeIcon:"",fullname:"Ethereum Sepolia",network:"Sepolia",website:"https://sepolia.otterscan.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrl:"https://rpc.sepolia.org",faucetUrl:"https://faucet.quicknode.com/drip",blockExplorerUrl:"https://sepolia.etherscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"},{name:"LIGHT",version:"1.0.2"},{name:"XTERIO",version:"1.0.0"},{name:"BTC",version:"1.0.0"},{name:"BTC",version:"2.0.0"},{name:"UNIVERSAL",version:"1.0.0"}]}]},"optimism-11155420":{id:11155420,name:"Optimism",chainType:"evm",icon:"https://static.particle.network/token-list/optimism/native.png",nativeIcon:"",fullname:"Optimism Sepolia",network:"Sepolia",website:"https://optimism.io",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrl:"https://sepolia.optimism.io",blockExplorerUrl:"https://sepolia-optimism.etherscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"},{name:"UNIVERSAL",version:"1.0.0"}]}]},"ancient8-28122024":{id:28122024,name:"ancient8",chainType:"evm",icon:"https://static.particle.network/token-list/ancient8/native.png",nativeIcon:"",fullname:"Ancient8 Testnet",network:"Testnet",website:"https://ancient8.gg",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrl:"https://rpcv2-testnet.ancient8.gg",blockExplorerUrl:"https://scanv2-testnet.ancient8.gg",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"cyber-111557560":{id:111557560,name:"Cyber",chainType:"evm",icon:"https://static.particle.network/token-list/cyber/native.png",nativeIcon:"",fullname:"Cyber Testnet",network:"Testnet",website:"https://testnet.cyberscan.co",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrl:"https://cyber-testnet.alt.technology",blockExplorerUrl:"https://testnet.cyberscan.co",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"}]}]},"blast-168587773":{id:168587773,name:"Blast",chainType:"evm",icon:"https://static.particle.network/token-list/blast/native.png",nativeIcon:"",fullname:"Blast Sepolia",network:"Sepolia",website:"https://blastblockchain.com",nativeCurrency:{name:"Blast Ether",symbol:"ETH",decimals:18},rpcUrl:"https://sepolia.blast.io",blockExplorerUrl:"https://testnet.blastscan.io",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"BICONOMY",version:"2.0.0"},{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"},{name:"CYBERCONNECT",version:"1.0.0"},{name:"UNIVERSAL",version:"1.0.0"}]}]},"tron-728126428":{id:728126428,name:"Tron",chainType:"evm",icon:"https://static.particle.network/token-list/tron/native.png",nativeIcon:"",fullname:"Tron Mainnet",network:"Mainnet",website:"https://tron.network",nativeCurrency:{name:"TRX",symbol:"TRX",decimals:6},rpcUrl:"https://api.trongrid.io",blockExplorerUrl:"https://tronscan.io",features:[{name:"ON-RAMP"}]},"ancient8-888888888":{id:888888888,name:"ancient8",chainType:"evm",icon:"https://static.particle.network/token-list/ancient8/native.png",nativeIcon:"",fullname:"Ancient8 Mainnet",network:"Mainnet",website:"https://ancient8.gg",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrl:"https://rpc.ancient8.gg",blockExplorerUrl:"https://scan.ancient8.gg",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"aurora-1313161554":{id:1313161554,name:"Aurora",chainType:"evm",icon:"https://static.particle.network/token-list/aurora/native.png",nativeIcon:"",fullname:"Aurora Mainnet",network:"Mainnet",website:"https://aurora.dev",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrl:"https://mainnet.aurora.dev",blockExplorerUrl:"https://explorer.aurora.dev",features:[{name:"SWAP"}]},"aurora-1313161555":{id:1313161555,name:"Aurora",chainType:"evm",icon:"https://static.particle.network/token-list/aurora/native.png",nativeIcon:"",fullname:"Aurora Testnet",network:"Testnet",website:"https://aurora.dev",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrl:"https://testnet.aurora.dev",faucetUrl:"https://aurora.dev/faucet",blockExplorerUrl:"https://explorer.testnet.aurora.dev"},"nebula-1482601649":{id:1482601649,name:"Nebula",chainType:"evm",icon:"https://static.particle.network/token-list/nebula/native.png",nativeIcon:"",fullname:"SKALE Nebula",network:"Mainnet",website:"https://mainnet.skalenodes.com",nativeCurrency:{name:"sFUEL",symbol:"sFUEL",decimals:18},rpcUrl:"https://mainnet.skalenodes.com/v1/green-giddy-denebola",blockExplorerUrl:"https://green-giddy-denebola.explorer.mainnet.skalenodes.com"},"harmony-1666600000":{id:16666e5,name:"Harmony",chainType:"evm",icon:"https://static.particle.network/token-list/harmony/native.png",nativeIcon:"",fullname:"Harmony Mainnet",network:"Mainnet",website:"https://www.harmony.one",nativeCurrency:{name:"ONE",symbol:"ONE",decimals:18},rpcUrl:"https://api.harmony.one",blockExplorerUrl:"https://explorer.harmony.one"},"harmony-1666700000":{id:16667e5,name:"Harmony",chainType:"evm",icon:"https://static.particle.network/token-list/harmony/native.png",nativeIcon:"",fullname:"Harmony Testnet",network:"Testnet",website:"https://www.harmony.one",nativeCurrency:{name:"ONE",symbol:"ONE",decimals:18},rpcUrl:"https://api.s0.b.hmny.io",faucetUrl:"https://faucet.pops.one",blockExplorerUrl:"https://explorer.pops.one"},"kakarot-1802203764":{id:1802203764,name:"Kakarot",chainType:"evm",icon:"https://static.particle.network/token-list/kakarot/native.png",nativeIcon:"",fullname:"Kakarot Sepolia",network:"Sepolia",website:"https://www.kakarot.org",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrl:"https://sepolia-rpc.kakarot.org",blockExplorerUrl:"https://sepolia.kakarotscan.org",features:[{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]},"tron-2494104990":{id:2494104990,name:"Tron",chainType:"evm",icon:"https://static.particle.network/token-list/tron/native.png",nativeIcon:"",fullname:"Tron Shasta",network:"Shasta",website:"https://www.trongrid.io/shasta",nativeCurrency:{name:"TRX",symbol:"TRX",decimals:6},rpcUrl:"https://api.shasta.trongrid.io",blockExplorerUrl:"https://shasta.tronscan.org"},"tron-3448148188":{id:3448148188,name:"Tron",chainType:"evm",icon:"https://static.particle.network/token-list/tron/native.png",nativeIcon:"",fullname:"Tron Nile",network:"Nile",website:"https://nileex.io",nativeCurrency:{name:"TRX",symbol:"TRX",decimals:6},rpcUrl:"https://nile.trongrid.io",faucetUrl:"https://nileex.io/join/getJoinPage",blockExplorerUrl:"https://nile.tronscan.org"},"gmnetwork-202402181627":{id:202402181627,name:"GMNetwork",chainType:"evm",icon:"https://static.particle.network/token-list/gmnetwork/native.png",nativeIcon:"",fullname:"GM Network Testnet",network:"Testnet",website:"https://gmnetwork.ai",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrl:"https://gmnetwork-testnet.alt.technology",blockExplorerUrl:"https://gmnetwork-testnet-explorer.alt.technology",features:[{name:"EIP1559"},{name:"ERC4337",contracts:[{name:"SIMPLE",version:"1.0.0"},{name:"SIMPLE",version:"2.0.0"}]}]}};function getChainInfo(e){return M[`${e.name.toLowerCase()}-${e.id}`]}function getChainNetwork(e){let a=getChainInfo(e);return(null==a?void 0:a.network)||"UNKNOWN"}function getChainSymbol(e){var a;let c=getChainInfo(e);return(null==(a=null==c?void 0:c.nativeCurrency)?void 0:a.symbol)||"UNKNOWN"}function getChainType(e){let a=getChainInfo(e);return null==a?void 0:a.chainType}function isChainSupportEIP1559(e){var a,c;let u=getChainInfo(e);return null!=(c=null==(a=null==u?void 0:u.features)?void 0:a.some(e=>"EIP1559"===e.name))&&c}function isChainSupportSwap(e){var a,c;let u=getChainInfo(e);return null!=(c=null==(a=null==u?void 0:u.features)?void 0:a.some(e=>"SWAP"===e.name))&&c}function isChainSupportOnRamp(e){var a,c;let u=getChainInfo(e);return null!=(c=null==(a=null==u?void 0:u.features)?void 0:a.some(e=>"ON-RAMP"===e.name))&&c}function isChainSupportERC4337(e,{name:a,version:c}){var u,p,f,m;let y=getChainInfo(e);return null!=(m=null==(f=null==(p=null==(u=null==y?void 0:y.features)?void 0:u.find(e=>"ERC4337"===e.name))?void 0:p.contracts)?void 0:f.some(e=>e.name===a&&e.version===c))&&m}function getChainIcon(e){let a=getChainInfo(e);return null==a?void 0:a.icon}function getEVMChainInfoById(e){return Object.values(M).find(a=>"evm"===a.chainType&&a.id===e)}function getSolanaChainInfoById(e){return Object.values(M).find(a=>"solana"===a.chainType&&a.id===e)}function getAllChainInfos(e){let a=Object.values(M);if(e)return a.sort(e);let c=["Solana","Ethereum","BSC","opBNB","Polygon","Avalanche","Moonbeam","Moonriver","Heco","Fantom","Arbitrum","Harmony","Aurora","Optimism","KCC","PlatON","Tron"];return a.sort((e,a)=>{if(c.includes(e.name)&&c.includes(a.name)){if(e.name===a.name)return"Mainnet"===e.network?-1:"Mainnet"===a.network?1:"Testnet"===e.network?-1:"Testnet"===a.network?1:0;return c.indexOf(e.name)>c.indexOf(a.name)?1:-1}return c.includes(e.name)?-1:c.includes(a.name)?1:e.name!==a.name?e.name.localeCompare(a.name):"Mainnet"===e.network?-1:"Mainnet"===a.network?1:e.fullname.localeCompare(a.fullname)}),a}function getParticleNode(e,a,c){return`https://rpc.particle.network/evm-chain?chainId=${e}&projectUuid=${a}&projectKey=${c}`}((e,a)=>{for(var c in a)R(e,c,{get:a[c],enumerable:!0})})({},{getAllChainInfos:()=>getAllChainInfos,getChainIcon:()=>getChainIcon,getChainInfo:()=>getChainInfo,getChainNetwork:()=>getChainNetwork,getChainSymbol:()=>getChainSymbol,getChainType:()=>getChainType,getEVMChainInfoById:()=>getEVMChainInfoById,getParticleNode:()=>getParticleNode,getSolanaChainInfoById:()=>getSolanaChainInfoById,isChainSupportEIP1559:()=>isChainSupportEIP1559,isChainSupportERC4337:()=>isChainSupportERC4337,isChainSupportOnRamp:()=>isChainSupportOnRamp,isChainSupportSwap:()=>isChainSupportSwap});var U=c(2265),D=c(94953),H=c(62043);BigInt(0);let F={},L={};for(let e=0;e<16;e++){let a=e,c=16*e,u=e.toString(16).toLowerCase();L[u]=a,L[u.toUpperCase()]=a,F[u]=c,F[u.toUpperCase()]=c}Array.from({length:256},(e,a)=>a.toString(16).padStart(2,"0"));let K=[];for(let e=0;e<=65535;e++)K[e]=BigInt(e);let bytes_hexToBytes=e=>{if("string"!=typeof e)throw Error(`hex argument type ${typeof e} must be of type string`);if(!/^0x[0-9a-fA-F]*$/.test(e))throw Error(`Input must be a 0x-prefixed hexadecimal string, got ${e}`);let a=e.slice(2);return function(e){let a=e.length,c=new Uint8Array(a/2);for(let u=0;u<a;u+=2)c[u/2]=F[e[u]]+L[e[u+1]];return c}(a.length%2==0?a:function(e){let a=e;if("string"!=typeof a)throw Error(`[padToEven] value must be type 'string', received ${typeof a}`);return a.length%2&&(a=`0${a}`),a}(a))},bytes_intToHex=e=>{if(!Number.isSafeInteger(e)||e<0)throw Error(`Received an invalid integer type: ${e}`);return`0x${e.toString(16)}`},intToBytes=e=>{let a=bytes_intToHex(e);return bytes_hexToBytes(a)};BigInt("0xffffffffffffffff"),BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),BigInt("115792089237316195423570985008687907853269984665640564039457584007913129639935"),D.kA.CURVE.n,D.kA.CURVE.n,BigInt(2),BigInt("0x10000000000000000000000000000000000000000000000000000000000000000"),bytes_hexToBytes("0xc5d2460186f7233c927e7db2dcc703c0e500b653ca82273b7bfad8045d85a470"),bytes_hexToBytes("0x1dcc4de8dec75d7aab85b567b6ccd41ad312451b948a7413f0a142fd40d49347"),bytes_hexToBytes("0x56e81f171bcc55a6ff8345e692c0f86e5b48e01b996cadc001622fb5e363b421"),Uint8Array.from([128]),BigInt(-1),BigInt(0),BigInt(1),BigInt(2),BigInt(3),BigInt(7),BigInt(8),BigInt(27),BigInt(28),BigInt(31),BigInt(32),BigInt(64),BigInt(128),BigInt(255),BigInt(256),BigInt(96),BigInt(100),BigInt(160),BigInt(224),BigInt(7922816251426434e13),BigInt(1461501637330903e33),BigInt(2695994666715064e52),BigInt(1e9),Array.from({length:256},(e,a)=>a.toString(16).padStart(2,"0")),c(84264),new Uint8Array(0),(f=S||(S={})).String="string",f.Bytes="view",f.Number="number",(m=A||(A={})).String="string",m.Bytes="view",m.JSON="json",(y=k||(k={}))[y.Number=0]="Number",y[y.BigInt=1]="BigInt",y[y.Uint8Array=2]="Uint8Array",y[y.PrefixedHexString=3]="PrefixedHexString";var V=c(16353);(0,H.gn)(V.J),(w=T||(T={}))[w.Deposit=0]="Deposit",w[w.Withdrawal=1]="Withdrawal",w[w.Consolidation=2]="Consolidation",(E=O||(O={}))[E.Version=0]="Version",E[E.Balance=1]="Balance",E[E.Nonce=2]="Nonce",E[E.CodeHash=3]="CodeHash",E[E.CodeSize=4]="CodeSize",intToBytes(O.Version),intToBytes(O.Balance),intToBytes(O.Nonce),intToBytes(O.CodeHash),intToBytes(O.CodeSize),BigInt(256),BigInt(31),c(57437),c(54887),c(87350),c(67133).Buffer,Object.prototype.hasOwnProperty,Object.prototype.propertyIsEnumerable,new WeakMap,new WeakMap;var useAccounts=()=>{let{accounts:e}=useConnectProvider();return{accounts:e}};new B.EventEmitter().setMaxListeners(100);var G="906d42389ecad5c2ab92642c8e0775ea667c413b069684ce9d01199562f2d0be";!function(){if("undefined"!=typeof document&&!document.getElementById(G)){var e=document.createElement("style");e.id=G,e.textContent='._loader_g0am3_1{animation:_rotate_g0am3_1 1s linear infinite;border-radius:50%;height:20px;position:relative;width:20px}._loader_g0am3_1:before{animation:_prixClipFix_g0am3_1 2s linear infinite;border:2px solid #000;border-radius:50%;box-sizing:border-box;content:"";inset:0;position:absolute}@keyframes _rotate_g0am3_1{to{transform:rotate(1turn)}}@keyframes _prixClipFix_g0am3_1{0%{clip-path:polygon(50% 50%,0 0,0 0,0 0,0 0,0 0)}25%{clip-path:polygon(50% 50%,0 0,100% 0,100% 0,100% 0,100% 0)}50%{clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,100% 100%,100% 100%)}75%{clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,0 100%,0 100%)}to{clip-path:polygon(50% 50%,0 0,100% 0,100% 100%,0 100%,0 0)}}',document.head.appendChild(e)}}();var z="424d614dbc2763d7cad7ca35c00bd255c6ed55da308a1f3018594201a47127bf";!function(){if("undefined"!=typeof document&&!document.getElementById(z)){var e=document.createElement("style");e.id=z,e.textContent="._btn_ofd87_1{align-items:center;background:#fff;border-radius:8px;color:#000;display:flex;flex-direction:row;font-size:16px;gap:16px;justify-content:center;padding:6px 24px;position:relative}._btn_ofd87_1:hover{opacity:.85}._btn_ofd87_1:disabled{background:hsla(0,0%,100%,.2);color:hsla(0,0%,100%,.639);cursor:not-allowed;opacity:1}",document.head.appendChild(e)}}();var q="65eada90924218eba4e72a5f00291c3cb69387ecce1351e454cdefd066d4bcff";!function(){if("undefined"!=typeof document&&!document.getElementById(q)){var e=document.createElement("style");e.id=q,e.textContent="._container_smzpm_1{align-items:center;backdrop-filter:blur(12px);background:rgba(0,0,0,.502);bottom:0;color:#fff;display:flex;height:100%;justify-content:center;left:0;overflow:hidden;position:fixed;right:0;top:0;width:100%;z-index:100000}._container_smzpm_1 ._modal_smzpm_18{align-items:center;background-color:#171a1f;border-radius:16px;display:flex;flex-direction:column;font-size:14px;height:auto;margin:16px;max-height:80%;max-width:100%;overflow:auto;padding:24px;position:relative;width:380px}",document.head.appendChild(e)}}();var W="c7bbc091f1227154742a5bd0d55a3df29eb913eb0ad4cafc7ab236b574002f65";!function(){if("undefined"!=typeof document&&!document.getElementById(W)){var e=document.createElement("style");e.id=W,e.textContent="._connectModal_1kqtj_1{gap:12px}._connectModal_1kqtj_1 ._title_1kqtj_4{font-size:18px;font-weight:700;margin-bottom:4px}._connectModal_1kqtj_1 ._closeBtn_1kqtj_9{cursor:pointer;position:absolute;right:16px;top:16px}._connectModal_1kqtj_1 ._backBtn_1kqtj_15{cursor:pointer;left:16px;position:absolute;top:16px}._connectModal_1kqtj_1 ._walletItem_1kqtj_21{border:1px solid #3a3a3a;border-radius:8px;box-sizing:border-box;cursor:pointer;display:flex;padding:8px;width:100%}._connectModal_1kqtj_1 ._walletItem_1kqtj_21:hover{background:hsla(0,0%,100%,.05)}._connectModal_1kqtj_1 ._walletItem_1kqtj_21 ._walletIcon_1kqtj_33{border-radius:4px;height:42px;width:42px}._connectModal_1kqtj_1 ._walletItem_1kqtj_21 ._walletName_1kqtj_38{flex-grow:1;line-height:42px;text-align:center}._connectModal_1kqtj_1 ._connecting_1kqtj_43{align-items:center;display:flex;flex-direction:column;height:204px;justify-content:center;width:100%}._connectModal_1kqtj_1 ._connecting_1kqtj_43 ._connectingIconContainer_1kqtj_51{position:relative}._connectModal_1kqtj_1 ._connecting_1kqtj_43 ._connectingIconContainer_1kqtj_51 ._retryContainer_1kqtj_54{background:#4b5563;border-radius:50%;bottom:-12px;cursor:pointer;padding:4px;position:absolute;right:-12px}._connectModal_1kqtj_1 ._connecting_1kqtj_43 ._connectingIconContainer_1kqtj_51 ._retryContainer_1kqtj_54 ._retryIcon_1kqtj_63{height:24px;width:24px}._connectModal_1kqtj_1 ._connecting_1kqtj_43 ._connectingIcon_1kqtj_51{border-radius:4px;height:60px;width:60px}._connectModal_1kqtj_1 ._connecting_1kqtj_43 ._connection_1kqtj_72{font-size:18px;margin-top:20px}._connectModal_1kqtj_1 ._connecting_1kqtj_43 ._acceptRequest_1kqtj_76{color:hsla(0,0%,100%,.4);font-size:14px;margin-top:6px;text-align:center;white-space:pre-wrap}._connectModal_1kqtj_1 ._connecting_1kqtj_43 ._btnDownload_1kqtj_83{margin-top:20px}",document.head.appendChild(e)}}();var Q="d6fbb5df7ed6ec51d41f665ca768306181bb1e7d7c1cef8eed9bd4230368d7bb";!function(){if("undefined"!=typeof document&&!document.getElementById(Q)){var e=document.createElement("style");e.id=Q,e.textContent="._copyText_smolu_1{cursor:pointer;text-decoration-line:underline}._copyText_smolu_1:hover{opacity:.75}._copied_smolu_9{color:#a855f7;cursor:none;text-decoration-line:none}._copied_smolu_9:hover{opacity:1}",document.head.appendChild(e)}}();var Y="ee15dc27fcfd209601159e7f0e0063ff4e7a886b7b892c1600a911372b82a0b1";!function(){if("undefined"!=typeof document&&!document.getElementById(Y)){var e=document.createElement("style");e.id=Y,e.textContent="._tipContainer_ufud7_1{overflow:visible;position:relative}._tipContainer_ufud7_1 ._tipContent_ufud7_5{background:#3f3f46;border-radius:8px;bottom:100%;color:#fff;font-size:11px;left:-100%;opacity:0;padding:3px 6px;position:absolute;transition:opacity .5s;visibility:hidden;white-space:nowrap;z-index:1}._tipContainer_ufud7_1:hover ._tipContent_ufud7_5{opacity:1;visibility:visible}",document.head.appendChild(e)}}();var Z="a81c744751497ed4b401c08b9e5aeef1991aeb86f2cbba3ee57c1926c0502f1a";!function(){if("undefined"!=typeof document&&!document.getElementById(Z)){var e=document.createElement("style");e.id=Z,e.textContent="._detailsCard_ml2p9_1{background:#232529;border:1px solid #252525;border-radius:8px;color:#fff;margin-top:16px;overflow-x:hidden;padding:10px;position:relative;width:100%}._detailsCard_ml2p9_1 ._title_ml2p9_13{font-size:16px;font-weight:600;margin-bottom:12px;text-align:left}._detailsCard_ml2p9_1 ._nftContract_ml2p9_19{color:#a855f7;font-size:16px;position:absolute;right:8px;top:8px}._detailsCard_ml2p9_1 ._row_ml2p9_26{align-items:center;display:flex;flex-direction:row;font-size:14px;gap:8px;justify-content:space-between;margin-top:6px}._detailsCard_ml2p9_1 ._row_ml2p9_26 ._tokenIcon_ml2p9_35{border-radius:50%;height:32px;margin:10px 0;width:32px}._detailsCard_ml2p9_1 ._row_ml2p9_26 ._nftIcon_ml2p9_41{border-radius:2px;display:inline;height:32px;margin:10px 8px 10px 0;width:32px}._detailsCard_ml2p9_1 ._row_ml2p9_26 ._balanceChange_ml2p9_49{flex-grow:2;font-size:16px;font-weight:500;text-align:end;word-break:break-word}._detailsCard_ml2p9_1 ._row_ml2p9_26 ._tokenSymbol_ml2p9_56{font-size:16px;font-weight:500;text-align:end}._detailsCard_ml2p9_1 ._row_ml2p9_26 ._toContract_ml2p9_61{align-items:center;display:flex;gap:8px}._detailsCard_ml2p9_1 ._row_ml2p9_26 ._toContract_ml2p9_61 img{display:inline;height:18px;width:18px}._detailsCard_ml2p9_1 ._row_ml2p9_26 ._right_ml2p9_71{text-align:end}",document.head.appendChild(e)}}();var J="3ab1a455562ae7e24c2ac49572897e615b9e9275066fd0d64f0cf24844521bab";!function(){if("undefined"!=typeof document&&!document.getElementById(J)){var e=document.createElement("style");e.id=J,e.textContent="._modalContent_aoysu_1{color:#fff;text-align:center}._modalContent_aoysu_1 ._closeBtn_aoysu_5{cursor:pointer;position:absolute;right:16px;top:16px}._modalContent_aoysu_1 ._signTitle_aoysu_11{font-size:20px;font-weight:600;margin-bottom:10px}._modalContent_aoysu_1 ._chainInfo_aoysu_16{align-items:center;display:flex;flex-direction:row;font-size:12px;gap:8px;justify-content:center;margin-bottom:8px}._modalContent_aoysu_1 ._chainInfo_aoysu_16 img{height:18px;width:18px}._modalContent_aoysu_1 ._addressContainer_aoysu_29{height:28px;margin-bottom:16px;margin-top:8px}._modalContent_aoysu_1 ._addressContainer_aoysu_29 ._addressInfo_aoysu_34{align-items:center;background:rgba(58,58,58,.635);border-radius:20px;display:flex;flex-direction:row;font-size:12px;gap:4px;justify-content:center;padding:4px 8px}._modalContent_aoysu_1 ._addressContainer_aoysu_29 ._addressInfo_aoysu_34 img{height:18px;width:18px}._modalContent_aoysu_1 ._detailsContent_aoysu_49{max-height:0;overflow-y:auto;transition:max-height .3s linear;width:100%}._modalContent_aoysu_1 ._detailsContent_aoysu_49::-webkit-scrollbar{display:none}._modalContent_aoysu_1 ._detailsContent_aoysu_49._fill_aoysu_58{max-height:500px}._modalContent_aoysu_1 ._detailsContent_aoysu_49 ._unsignedMessage_aoysu_61{background:#232529;border:1px solid #252525;border-radius:8px;box-sizing:border-box;color:#fff;font-size:14px;padding:8px;width:100%;word-wrap:break-word;color:hsla(0,0%,100%,.631);text-align:left;white-space:pre-wrap}._modalContent_aoysu_1 ._estimatedGas_aoysu_76{color:hsla(0,0%,100%,.631);font-size:12px;margin-top:24px}._modalContent_aoysu_1 ._signBtn_aoysu_81{margin-top:24px;min-width:200px}._modalContent_aoysu_1 ._notRemind_aoysu_85{align-items:center;color:hsla(0,0%,100%,.631);cursor:pointer;display:inline-flex;font-size:12px;gap:4px;margin-top:16px}._modalContent_aoysu_1 ._notRemind_aoysu_85:hover{opacity:.85}",document.head.appendChild(e)}}();var X=(0,U.createContext)({}),useConnectProvider=()=>{let e=(0,U.useContext)(X);return e};"undefined"!=typeof window&&(window.__PARTICLE_BTC_CONNECT_VERSION="1.0.0-alpha.26")},65197:function(e,a,c){"use strict";c.d(a,{R:function(){return AbiCoder}});var u=c(52261),p=c(26744),f=c(3635),m=c(79635),y=c(86157);let AddressCoder=class AddressCoder extends p.XI{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,a){let c=y._.dereference(a,"string");try{c=(0,f.K)(c)}catch(e){return this._throwError(e.message,a)}return e.writeValue(c)}decode(e){return(0,f.K)((0,m.m9)(e.readValue(),20))}};var w=c(60533);let AnonymousCoder=class AnonymousCoder extends p.XI{coder;constructor(e){super(e.name,e.type,"_",e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,a){return this.coder.encode(e,a)}decode(e){return this.coder.decode(e)}};function pack(e,a,c){let f=[];if(Array.isArray(c))f=c;else if(c&&"object"==typeof c){let e={};f=a.map(a=>{let p=a.localName;return(0,u.hu)(p,"cannot encode object for signature with missing names","INVALID_ARGUMENT",{argument:"values",info:{coder:a},value:c}),(0,u.hu)(!e[p],"cannot encode object for signature with duplicate names","INVALID_ARGUMENT",{argument:"values",info:{coder:a},value:c}),e[p]=!0,c[p]})}else(0,u.en)(!1,"invalid tuple value","tuple",c);(0,u.en)(a.length===f.length,"types/value length mismatch","tuple",c);let m=new p.QV,y=new p.QV,w=[];return a.forEach((e,a)=>{let c=f[a];if(e.dynamic){let a=y.length;e.encode(y,c);let u=m.writeUpdatableValue();w.push(e=>{u(e+a)})}else e.encode(m,c)}),w.forEach(e=>{e(m.length)}),e.appendWriter(m)+e.appendWriter(y)}function unpack(e,a){let c=[],f=[],m=e.subReader(0);return a.forEach(a=>{let p=null;if(a.dynamic){let c=e.readIndex(),f=m.subReader(c);try{p=a.decode(f)}catch(e){if((0,u.VZ)(e,"BUFFER_OVERRUN"))throw e;(p=e).baseType=a.name,p.name=a.localName,p.type=a.type}}else try{p=a.decode(e)}catch(e){if((0,u.VZ)(e,"BUFFER_OVERRUN"))throw e;(p=e).baseType=a.name,p.name=a.localName,p.type=a.type}if(void 0==p)throw Error("investigate");c.push(p),f.push(a.localName||null)}),p.x4.fromItems(c,f)}let ArrayCoder=class ArrayCoder extends p.XI{coder;length;constructor(e,a,c){let u=e.type+"["+(a>=0?a:"")+"]",p=-1===a||e.dynamic;super("array",u,c,p),(0,w.h)(this,{coder:e,length:a})}defaultValue(){let e=this.coder.defaultValue(),a=[];for(let c=0;c<this.length;c++)a.push(e);return a}encode(e,a){let c=y._.dereference(a,"array");Array.isArray(c)||this._throwError("expected array value",c);let p=this.length;-1===p&&(p=c.length,e.writeValue(c.length)),(0,u.fG)(c.length,p,"coder array"+(this.localName?" "+this.localName:""));let f=[];for(let e=0;e<c.length;e++)f.push(this.coder);return pack(e,f,c)}decode(e){let a=this.length;-1===a&&(a=e.readIndex(),(0,u.hu)(a*p.Bx<=e.dataLength,"insufficient data length","BUFFER_OVERRUN",{buffer:e.bytes,offset:a*p.Bx,length:e.dataLength}));let c=[];for(let e=0;e<a;e++)c.push(new AnonymousCoder(this.coder));return unpack(e,c)}};let BooleanCoder=class BooleanCoder extends p.XI{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,a){let c=y._.dereference(a,"bool");return e.writeValue(c?1:0)}decode(e){return!!e.readValue()}};var E=c(65541);let DynamicBytesCoder=class DynamicBytesCoder extends p.XI{constructor(e,a){super(e,e,a,!0)}defaultValue(){return"0x"}encode(e,a){return a=(0,E.h_)(a),e.writeValue(a.length)+e.writeBytes(a)}decode(e){return e.readBytes(e.readIndex(),!0)}};let BytesCoder=class BytesCoder extends DynamicBytesCoder{constructor(e){super("bytes",e)}decode(e){return(0,E.Dv)(super.decode(e))}};let FixedBytesCoder=class FixedBytesCoder extends p.XI{size;constructor(e,a){let c="bytes"+String(e);super(c,c,a,!1),(0,w.h)(this,{size:e},{size:"number"})}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+2*this.size)}encode(e,a){let c=(0,E.h_)(y._.dereference(a,this.type));return c.length!==this.size&&this._throwError("incorrect data length",a),e.writeBytes(c)}decode(e){return(0,E.Dv)(e.readBytes(this.size))}};let S=new Uint8Array([]);let NullCoder=class NullCoder extends p.XI{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,a){return null!=a&&this._throwError("not null",a),e.writeBytes(S)}decode(e){return e.readBytes(0),null}};let A=BigInt(0),k=BigInt(1),T=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");let NumberCoder=class NumberCoder extends p.XI{size;signed;constructor(e,a,c){let u=(a?"int":"uint")+8*e;super(u,u,c,!1),(0,w.h)(this,{size:e,signed:a},{size:"number",signed:"boolean"})}defaultValue(){return 0}encode(e,a){let c=(0,m.yT)(y._.dereference(a,this.type)),u=(0,m.sS)(T,8*p.Bx);if(this.signed){let e=(0,m.sS)(u,8*this.size-1);(c>e||c<-(e+k))&&this._throwError("value out-of-bounds",a),c=(0,m.$j)(c,8*p.Bx)}else(c<A||c>(0,m.sS)(u,8*this.size))&&this._throwError("value out-of-bounds",a);return e.writeValue(c)}decode(e){let a=(0,m.sS)(e.readValue(),8*this.size);return this.signed&&(a=(0,m._Y)(a,8*this.size)),a}};var O=c(94178);let StringCoder=class StringCoder extends DynamicBytesCoder{constructor(e){super("string",e)}defaultValue(){return""}encode(e,a){return super.encode(e,(0,O.Y0)(y._.dereference(a,"string")))}decode(e){return(0,O.ZN)(super.decode(e))}};let TupleCoder=class TupleCoder extends p.XI{coders;constructor(e,a){let c=!1,u=[];e.forEach(e=>{e.dynamic&&(c=!0),u.push(e.type)});let p="tuple("+u.join(",")+")";super("tuple",p,a,c),(0,w.h)(this,{coders:Object.freeze(e.slice())})}defaultValue(){let e=[];this.coders.forEach(a=>{e.push(a.defaultValue())});let a=this.coders.reduce((e,a)=>{let c=a.localName;return c&&(e[c]||(e[c]=0),e[c]++),e},{});return this.coders.forEach((c,u)=>{let p=c.localName;p&&1===a[p]&&("length"===p&&(p="_length"),null==e[p]&&(e[p]=e[u]))}),Object.freeze(e)}encode(e,a){let c=y._.dereference(a,"tuple");return pack(e,this.coders,c)}decode(e){return unpack(e,this.coders)}};var B=c(71385);let C=new Map;C.set(0,"GENERIC_PANIC"),C.set(1,"ASSERT_FALSE"),C.set(17,"OVERFLOW"),C.set(18,"DIVIDE_BY_ZERO"),C.set(33,"ENUM_RANGE_ERROR"),C.set(34,"BAD_STORAGE_DATA"),C.set(49,"STACK_UNDERFLOW"),C.set(50,"ARRAY_RANGE_ERROR"),C.set(65,"OUT_OF_MEMORY"),C.set(81,"UNINITIALIZED_FUNCTION_CALL");let N=new RegExp(/^bytes([0-9]*)$/),R=new RegExp(/^(u?int)([0-9]*)$/),M=null,U=1024;let AbiCoder=class AbiCoder{#t(e){if(e.isArray())return new ArrayCoder(this.#t(e.arrayChildren),e.arrayLength,e.name);if(e.isTuple())return new TupleCoder(e.components.map(e=>this.#t(e)),e.name);switch(e.baseType){case"address":return new AddressCoder(e.name);case"bool":return new BooleanCoder(e.name);case"string":return new StringCoder(e.name);case"bytes":return new BytesCoder(e.name);case"":return new NullCoder(e.name)}let a=e.type.match(R);if(a){let c=parseInt(a[2]||"256");return(0,u.en)(0!==c&&c<=256&&c%8==0,"invalid "+a[1]+" bit length","param",e),new NumberCoder(c/8,"int"===a[1],e.name)}if(a=e.type.match(N)){let c=parseInt(a[1]);return(0,u.en)(0!==c&&c<=32,"invalid bytes length","param",e),new FixedBytesCoder(c,e.name)}(0,u.en)(!1,"invalid type","type",e.type)}getDefaultValue(e){let a=e.map(e=>this.#t(B._R.from(e))),c=new TupleCoder(a,"_");return c.defaultValue()}encode(e,a){(0,u.fG)(a.length,e.length,"types/values length mismatch");let c=e.map(e=>this.#t(B._R.from(e))),f=new TupleCoder(c,"_"),m=new p.QV;return f.encode(m,a),m.data}decode(e,a,c){let u=e.map(e=>this.#t(B._R.from(e))),f=new TupleCoder(u,"_");return f.decode(new p.Ej(a,c,U))}static _setDefaultMaxInflation(e){(0,u.en)("number"==typeof e&&Number.isInteger(e),"invalid defaultMaxInflation factor","value",e),U=e}static defaultAbiCoder(){return null==M&&(M=new AbiCoder),M}static getBuiltinCallException(e,a,c){return function(e,a,c,p){let m="missing revert data",y=null,w=null;if(c){m="execution reverted";let e=(0,E.Pw)(c);if(c=(0,E.Dv)(c),0===e.length)m+=" (no data present; likely require(false) occurred",y="require(false)";else if(e.length%32!=4)m+=" (could not decode reason; invalid data length)";else if("0x08c379a0"===(0,E.Dv)(e.slice(0,4)))try{y=p.decode(["string"],e.slice(4))[0],w={signature:"Error(string)",name:"Error",args:[y]},m+=`: ${JSON.stringify(y)}`}catch(e){m+=" (could not decode reason; invalid string data)"}else if("0x4e487b71"===(0,E.Dv)(e.slice(0,4)))try{let a=Number(p.decode(["uint256"],e.slice(4))[0]);w={signature:"Panic(uint256)",name:"Panic",args:[a]},y=`Panic due to ${C.get(a)||"UNKNOWN"}(${a})`,m+=`: ${y}`}catch(e){m+=" (could not decode panic code)"}else m+=" (unknown custom error)"}let S={to:a.to?(0,f.K)(a.to):null,data:a.data||"0x"};return a.from&&(S.from=(0,f.K)(a.from)),(0,u.wf)(m,"CALL_EXCEPTION",{action:e,data:c,reason:y,transaction:S,invocation:null,revert:w})}(e,a,c,AbiCoder.defaultAbiCoder())}}},26744:function(e,a,c){"use strict";c.d(a,{Bx:function(){return y},Ej:function(){return Reader},QV:function(){return Writer},XI:function(){return Coder},x4:function(){return Result}});var u=c(79635),p=c(52261),f=c(65541),m=c(60533);let y=32,w=new Uint8Array(y),E=["then"],S={},A=new WeakMap;function getNames(e){return A.get(e)}function throwError(e,a){let c=Error(`deferred error during ABI decoding triggered accessing ${e}`);throw c.error=a,c}let Result=class Result extends Array{#e;constructor(...e){var a,c;let p=e[0],f=e[1],m=(e[2]||[]).slice(),y=!0;p!==S&&(f=e,m=[],y=!1),super(f.length),f.forEach((e,a)=>{this[a]=e});let w=m.reduce((e,a)=>("string"==typeof a&&e.set(a,(e.get(a)||0)+1),e),new Map);if(a=Object.freeze(f.map((e,a)=>{let c=m[a];return null!=c&&1===w.get(c)?c:null})),A.set(this,a),this.#e=[],null==this.#e&&this.#e,!y)return;Object.freeze(this);let k=new Proxy(this,{get:(e,a,c)=>{if("string"==typeof a){if(a.match(/^[0-9]+$/)){let c=(0,u.Dx)(a,"%index");if(c<0||c>=this.length)throw RangeError("out of result range");let p=e[c];return p instanceof Error&&throwError(`index ${c}`,p),p}if(E.indexOf(a)>=0)return Reflect.get(e,a,c);let p=e[a];if(p instanceof Function)return function(...a){return p.apply(this===c?e:this,a)};if(!(a in e))return e.getValue.apply(this===c?e:this,[a])}return Reflect.get(e,a,c)}});return c=getNames(this),A.set(k,c),k}toArray(e){let a=[];return this.forEach((c,u)=>{c instanceof Error&&throwError(`index ${u}`,c),e&&c instanceof Result&&(c=c.toArray(e)),a.push(c)}),a}toObject(e){let a=getNames(this);return a.reduce((c,u,f)=>((0,p.hu)(null!=u,`value at index ${f} unnamed`,"UNSUPPORTED_OPERATION",{operation:"toObject()"}),function toObject(e,a,c){return e.indexOf(null)>=0?a.map((e,a)=>e instanceof Result?toObject(getNames(e),e,c):e):e.reduce((e,u,p)=>{let f=a.getValue(u);return u in e||(c&&f instanceof Result&&(f=toObject(getNames(f),f,c)),e[u]=f),e},{})}(a,this,e)),{})}slice(e,a){null==e&&(e=0),e<0&&(e+=this.length)<0&&(e=0),null==a&&(a=this.length),a<0&&(a+=this.length)<0&&(a=0),a>this.length&&(a=this.length);let c=getNames(this),u=[],p=[];for(let f=e;f<a;f++)u.push(this[f]),p.push(c[f]);return new Result(S,u,p)}filter(e,a){let c=getNames(this),u=[],p=[];for(let f=0;f<this.length;f++){let m=this[f];m instanceof Error&&throwError(`index ${f}`,m),e.call(a,m,f,this)&&(u.push(m),p.push(c[f]))}return new Result(S,u,p)}map(e,a){let c=[];for(let u=0;u<this.length;u++){let p=this[u];p instanceof Error&&throwError(`index ${u}`,p),c.push(e.call(a,p,u,this))}return c}getValue(e){let a=getNames(this).indexOf(e);if(-1===a)return;let c=this[a];return c instanceof Error&&throwError(`property ${JSON.stringify(e)}`,c.error),c}static fromItems(e,a){return new Result(S,e,a)}};function getValue(e){let a=(0,u.ot)(e);return(0,p.hu)(a.length<=y,"value out-of-bounds","BUFFER_OVERRUN",{buffer:a,length:y,offset:a.length}),a.length!==y&&(a=(0,f.h_)((0,f.zo)([w.slice(a.length%y),a]))),a}let Coder=class Coder{name;type;localName;dynamic;constructor(e,a,c,u){(0,m.h)(this,{name:e,type:a,localName:c,dynamic:u},{name:"string",type:"string",localName:"string",dynamic:"boolean"})}_throwError(e,a){(0,p.en)(!1,e,this.localName,a)}};let Writer=class Writer{#r;#n;constructor(){this.#r=[],this.#n=0}get data(){return(0,f.zo)(this.#r)}get length(){return this.#n}#i(e){return this.#r.push(e),this.#n+=e.length,e.length}appendWriter(e){return this.#i((0,f.h_)(e.data))}writeBytes(e){let a=(0,f.h_)(e),c=a.length%y;return c&&(a=(0,f.h_)((0,f.zo)([a,w.slice(c)]))),this.#i(a)}writeValue(e){return this.#i(getValue(e))}writeUpdatableValue(){let e=this.#r.length;return this.#r.push(w),this.#n+=y,a=>{this.#r[e]=getValue(a)}}};let Reader=class Reader{allowLoose;#r;#s;#o;#a;#c;constructor(e,a,c){(0,m.h)(this,{allowLoose:!!a}),this.#r=(0,f.h_)(e),this.#o=0,this.#a=null,this.#c=null!=c?c:1024,this.#s=0}get data(){return(0,f.Dv)(this.#r)}get dataLength(){return this.#r.length}get consumed(){return this.#s}get bytes(){return new Uint8Array(this.#r)}#u(e){if(this.#a)return this.#a.#u(e);this.#o+=e,(0,p.hu)(this.#c<1||this.#o<=this.#c*this.dataLength,`compressed ABI data exceeds inflation ratio of ${this.#c} ( see: https://github.com/ethers-io/ethers.js/issues/4537 )`,"BUFFER_OVERRUN",{buffer:(0,f.h_)(this.#r),offset:this.#s,length:e,info:{bytesRead:this.#o,dataLength:this.dataLength}})}#l(e,a,c){let u=Math.ceil(a/y)*y;return this.#s+u>this.#r.length&&(this.allowLoose&&c&&this.#s+a<=this.#r.length?u=a:(0,p.hu)(!1,"data out-of-bounds","BUFFER_OVERRUN",{buffer:(0,f.h_)(this.#r),length:this.#r.length,offset:this.#s+u})),this.#r.slice(this.#s,this.#s+u)}subReader(e){let a=new Reader(this.#r.slice(this.#s+e),this.allowLoose,this.#c);return a.#a=this,a}readBytes(e,a){let c=this.#l(0,e,!!a);return this.#u(e),this.#s+=c.length,c.slice(0,e)}readValue(){return(0,u.Gh)(this.readBytes(y))}readIndex(){return(0,u.He)(this.readBytes(y))}}},71385:function(e,a,c){"use strict";c.d(a,{HY:function(){return Fragment},IC:function(){return ErrorFragment},QV:function(){return EventFragment},Xg:function(){return ConstructorFragment},YW:function(){return FunctionFragment},_R:function(){return ParamType}});var u=c(79635),p=c(52261),f=c(60533),m=c(80437);function setify(e){let a=new Set;return e.forEach(e=>a.add(e)),Object.freeze(a)}let y=setify("external public payable override".split(" ")),w="constant external internal payable private public pure view override",E=setify(w.split(" ")),S="constructor error event fallback function receive struct",A=setify(S.split(" ")),k="calldata memory storage payable indexed",T=setify(k.split(" ")),O=[S,k,"tuple returns",w].join(" "),B=setify(O.split(" ")),C={"(":"OPEN_PAREN",")":"CLOSE_PAREN","[":"OPEN_BRACKET","]":"CLOSE_BRACKET",",":"COMMA","@":"AT"},N=RegExp("^(\\s*)"),R=RegExp("^([0-9]+)"),M=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)"),U=RegExp("^([a-zA-Z$_][a-zA-Z0-9$_]*)$"),D=RegExp("^(address|bool|bytes([0-9]*)|string|u?int([0-9]*))$");let TokenString=class TokenString{#s;#h;get offset(){return this.#s}get length(){return this.#h.length-this.#s}constructor(e){this.#s=0,this.#h=e.slice()}clone(){return new TokenString(this.#h)}reset(){this.#s=0}#p(e=0,a=0){return new TokenString(this.#h.slice(e,a).map(a=>Object.freeze(Object.assign({},a,{match:a.match-e,linkBack:a.linkBack-e,linkNext:a.linkNext-e}))))}popKeyword(e){let a=this.peek();if("KEYWORD"!==a.type||!e.has(a.text))throw Error(`expected keyword ${a.text}`);return this.pop().text}popType(e){if(this.peek().type!==e){let a=this.peek();throw Error(`expected ${e}; got ${a.type} ${JSON.stringify(a.text)}`)}return this.pop().text}popParen(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let a=this.#p(this.#s+1,e.match+1);return this.#s=e.match+1,a}popParams(){let e=this.peek();if("OPEN_PAREN"!==e.type)throw Error("bad start");let a=[];for(;this.#s<e.match-1;){let e=this.peek().linkNext;a.push(this.#p(this.#s+1,e)),this.#s=e}return this.#s=e.match+1,a}peek(){if(this.#s>=this.#h.length)throw Error("out-of-bounds");return this.#h[this.#s]}peekKeyword(e){let a=this.peekType("KEYWORD");return null!=a&&e.has(a)?a:null}peekType(e){if(0===this.length)return null;let a=this.peek();return a.type===e?a.text:null}pop(){let e=this.peek();return this.#s++,e}toString(){let e=[];for(let a=this.#s;a<this.#h.length;a++){let c=this.#h[a];e.push(`${c.type}:${c.text}`)}return`<TokenString ${e.join(" ")}>`}};function lex(e){let a=[],throwError=a=>{let c=f<e.length?JSON.stringify(e[f]):"$EOI";throw Error(`invalid token ${c} at ${f}: ${a}`)},c=[],p=[],f=0;for(;f<e.length;){let m=e.substring(f),y=m.match(N);y&&(f+=y[1].length,m=e.substring(f));let w={depth:c.length,linkBack:-1,linkNext:-1,match:-1,type:"",text:"",offset:f,value:-1};a.push(w);let E=C[m[0]]||"";if(E){if(w.type=E,w.text=m[0],f++,"OPEN_PAREN"===E)c.push(a.length-1),p.push(a.length-1);else if("CLOSE_PAREN"==E)0===c.length&&throwError("no matching open bracket"),w.match=c.pop(),a[w.match].match=a.length-1,w.depth--,w.linkBack=p.pop(),a[w.linkBack].linkNext=a.length-1;else if("COMMA"===E)w.linkBack=p.pop(),a[w.linkBack].linkNext=a.length-1,p.push(a.length-1);else if("OPEN_BRACKET"===E)w.type="BRACKET";else if("CLOSE_BRACKET"===E){let e=a.pop().text;if(a.length>0&&"NUMBER"===a[a.length-1].type){let c=a.pop().text;e=c+e,a[a.length-1].value=(0,u.Dx)(c)}if(0===a.length||"BRACKET"!==a[a.length-1].type)throw Error("missing opening bracket");a[a.length-1].text+=e}continue}if(y=m.match(M)){if(w.text=y[1],f+=w.text.length,B.has(w.text)){w.type="KEYWORD";continue}if(w.text.match(D)){w.type="TYPE";continue}w.type="ID";continue}if(y=m.match(R)){w.text=y[1],w.type="NUMBER",f+=w.text.length;continue}throw Error(`unexpected token ${JSON.stringify(m[0])} at position ${f}`)}return new TokenString(a.map(e=>Object.freeze(e)))}function allowSingle(e,a){let c=[];for(let u in a.keys())e.has(u)&&c.push(u);if(c.length>1)throw Error(`conflicting types: ${c.join(", ")}`)}function consumeName(e,a){if(a.peekKeyword(A)){let c=a.pop().text;if(c!==e)throw Error(`expected ${e}, got ${c}`)}return a.popType("ID")}function consumeKeywords(e,a){let c=new Set;for(;;){let u=e.peekType("KEYWORD");if(null==u||a&&!a.has(u))break;if(e.pop(),c.has(u))throw Error(`duplicate keywords: ${JSON.stringify(u)}`);c.add(u)}return Object.freeze(c)}function consumeMutability(e){let a=consumeKeywords(e,E);return(allowSingle(a,setify("constant payable nonpayable".split(" "))),allowSingle(a,setify("pure view payable nonpayable".split(" "))),a.has("view"))?"view":a.has("pure")?"pure":a.has("payable")?"payable":a.has("nonpayable")?"nonpayable":a.has("constant")?"view":"nonpayable"}function consumeParams(e,a){return e.popParams().map(e=>ParamType.from(e,a))}function consumeGas(e){if(e.peekType("AT")){if(e.pop(),e.peekType("NUMBER"))return(0,u.yT)(e.pop().text);throw Error("invalid gas")}return null}function consumeEoi(e){if(e.length)throw Error(`unexpected tokens at offset ${e.offset}: ${e.toString()}`)}let H=new RegExp(/^(.*)\[([0-9]*)\]$/);function verifyBasicType(e){let a=e.match(D);if((0,p.en)(a,"invalid type","type",e),"uint"===e)return"uint256";if("int"===e)return"int256";if(a[2]){let c=parseInt(a[2]);(0,p.en)(0!==c&&c<=32,"invalid bytes length","type",e)}else if(a[3]){let c=parseInt(a[3]);(0,p.en)(0!==c&&c<=256&&c%8==0,"invalid numeric width","type",e)}return e}let F={},L=Symbol.for("_ethers_internal"),K="_ParamTypeInternal",V="_ErrorInternal",G="_EventInternal",z="_ConstructorInternal",q="_FallbackInternal",W="_FunctionInternal",Q="_StructInternal";let ParamType=class ParamType{name;type;baseType;indexed;components;arrayLength;arrayChildren;constructor(e,a,c,u,m,y,w,E){if((0,p.NK)(e,F,"ParamType"),Object.defineProperty(this,L,{value:K}),y&&(y=Object.freeze(y.slice())),"array"===u){if(null==w||null==E)throw Error("")}else if(null!=w||null!=E)throw Error("");if("tuple"===u){if(null==y)throw Error("")}else if(null!=y)throw Error("");(0,f.h)(this,{name:a,type:c,baseType:u,indexed:m,components:y,arrayLength:w,arrayChildren:E})}format(e){if(null==e&&(e="sighash"),"json"===e){let a=this.name||"";if(this.isArray()){let e=JSON.parse(this.arrayChildren.format("json"));return e.name=a,e.type+=`[${this.arrayLength<0?"":String(this.arrayLength)}]`,JSON.stringify(e)}let c={type:"tuple"===this.baseType?"tuple":this.type,name:a};return"boolean"==typeof this.indexed&&(c.indexed=this.indexed),this.isTuple()&&(c.components=this.components.map(a=>JSON.parse(a.format(e)))),JSON.stringify(c)}let a="";return this.isArray()?a+=this.arrayChildren.format(e)+`[${this.arrayLength<0?"":String(this.arrayLength)}]`:this.isTuple()?a+="("+this.components.map(a=>a.format(e)).join("full"===e?", ":",")+")":a+=this.type,"sighash"!==e&&(!0===this.indexed&&(a+=" indexed"),"full"===e&&this.name&&(a+=" "+this.name)),a}isArray(){return"array"===this.baseType}isTuple(){return"tuple"===this.baseType}isIndexable(){return null!=this.indexed}walk(e,a){if(this.isArray()){if(!Array.isArray(e))throw Error("invalid array value");if(-1!==this.arrayLength&&e.length!==this.arrayLength)throw Error("array is wrong length");let c=this;return e.map(e=>c.arrayChildren.walk(e,a))}if(this.isTuple()){if(!Array.isArray(e))throw Error("invalid tuple value");if(e.length!==this.components.length)throw Error("array is wrong length");let c=this;return e.map((e,u)=>c.components[u].walk(e,a))}return a(this.type,e)}#f(e,a,c,u){if(this.isArray()){if(!Array.isArray(a))throw Error("invalid array value");if(-1!==this.arrayLength&&a.length!==this.arrayLength)throw Error("array is wrong length");let p=this.arrayChildren,f=a.slice();f.forEach((a,u)=>{p.#f(e,a,c,e=>{f[u]=e})}),u(f);return}if(this.isTuple()){let p;let f=this.components;if(Array.isArray(a))p=a.slice();else{if(null==a||"object"!=typeof a)throw Error("invalid tuple value");p=f.map(e=>{if(!e.name)throw Error("cannot use object value with unnamed components");if(!(e.name in a))throw Error(`missing value for component ${e.name}`);return a[e.name]})}if(p.length!==this.components.length)throw Error("array is wrong length");p.forEach((a,u)=>{f[u].#f(e,a,c,e=>{p[u]=e})}),u(p);return}let p=c(this.type,a);p.then?e.push(async function(){u(await p)}()):u(p)}async walkAsync(e,a){let c=[],u=[e];return this.#f(c,e,a,e=>{u[0]=e}),c.length&&await Promise.all(c),u[0]}static from(e,a){if(ParamType.isParamType(e))return e;if("string"==typeof e)try{return ParamType.from(lex(e),a)}catch(a){(0,p.en)(!1,"invalid param type","obj",e)}else if(e instanceof TokenString){let c="",u="",p=null;consumeKeywords(e,setify(["tuple"])).has("tuple")||e.peekType("OPEN_PAREN")?(u="tuple",p=e.popParams().map(e=>ParamType.from(e)),c=`tuple(${p.map(e=>e.format()).join(",")})`):u=c=verifyBasicType(e.popType("TYPE"));let f=null,m=null;for(;e.length&&e.peekType("BRACKET");){let a=e.pop();f=new ParamType(F,"",c,u,null,p,m,f),m=a.value,c+=a.text,u="array",p=null}let y=null,w=consumeKeywords(e,T);if(w.has("indexed")){if(!a)throw Error("");y=!0}let E=e.peekType("ID")?e.pop().text:"";if(e.length)throw Error("leftover tokens");return new ParamType(F,E,c,u,y,p,m,f)}let c=e.name;(0,p.en)(!c||"string"==typeof c&&c.match(U),"invalid name","obj.name",c);let u=e.indexed;null!=u&&((0,p.en)(a,"parameter cannot be indexed","obj.indexed",e.indexed),u=!!u);let f=e.type,m=f.match(H);if(m){let a=parseInt(m[2]||"-1"),p=ParamType.from({type:m[1],components:e.components});return new ParamType(F,c||"",f,"array",u,null,a,p)}if("tuple"===f||f.startsWith("tuple(")||f.startsWith("(")){let a=null!=e.components?e.components.map(e=>ParamType.from(e)):null,p=new ParamType(F,c||"",f,"tuple",u,a,null,null);return p}return f=verifyBasicType(e.type),new ParamType(F,c||"",f,f,u,null,null,null)}static isParamType(e){return e&&e[L]===K}};let Fragment=class Fragment{type;inputs;constructor(e,a,c){(0,p.NK)(e,F,"Fragment"),c=Object.freeze(c.slice()),(0,f.h)(this,{type:a,inputs:c})}static from(e){if("string"==typeof e){try{Fragment.from(JSON.parse(e))}catch(e){}return Fragment.from(lex(e))}if(e instanceof TokenString){let a=e.peekKeyword(A);switch(a){case"constructor":return ConstructorFragment.from(e);case"error":return ErrorFragment.from(e);case"event":return EventFragment.from(e);case"fallback":case"receive":return FallbackFragment.from(e);case"function":return FunctionFragment.from(e);case"struct":return StructFragment.from(e)}}else if("object"==typeof e){switch(e.type){case"constructor":return ConstructorFragment.from(e);case"error":return ErrorFragment.from(e);case"event":return EventFragment.from(e);case"fallback":case"receive":return FallbackFragment.from(e);case"function":return FunctionFragment.from(e);case"struct":return StructFragment.from(e)}(0,p.hu)(!1,`unsupported type: ${e.type}`,"UNSUPPORTED_OPERATION",{operation:"Fragment.from"})}(0,p.en)(!1,"unsupported frgament object","obj",e)}static isConstructor(e){return ConstructorFragment.isFragment(e)}static isError(e){return ErrorFragment.isFragment(e)}static isEvent(e){return EventFragment.isFragment(e)}static isFunction(e){return FunctionFragment.isFragment(e)}static isStruct(e){return StructFragment.isFragment(e)}};let NamedFragment=class NamedFragment extends Fragment{name;constructor(e,a,c,u){super(e,a,u),(0,p.en)("string"==typeof c&&c.match(U),"invalid identifier","name",c),u=Object.freeze(u.slice()),(0,f.h)(this,{name:c})}};function joinParams(e,a){return"("+a.map(a=>a.format(e)).join("full"===e?", ":",")+")"}let ErrorFragment=class ErrorFragment extends NamedFragment{constructor(e,a,c){super(e,"error",a,c),Object.defineProperty(this,L,{value:V})}get selector(){return(0,m.id)(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(a=>JSON.parse(a.format(e)))});let a=[];return"sighash"!==e&&a.push("error"),a.push(this.name+joinParams(e,this.inputs)),a.join(" ")}static from(e){if(ErrorFragment.isFragment(e))return e;if("string"==typeof e)return ErrorFragment.from(lex(e));if(e instanceof TokenString){let a=consumeName("error",e),c=consumeParams(e);return consumeEoi(e),new ErrorFragment(F,a,c)}return new ErrorFragment(F,e.name,e.inputs?e.inputs.map(ParamType.from):[])}static isFragment(e){return e&&e[L]===V}};let EventFragment=class EventFragment extends NamedFragment{anonymous;constructor(e,a,c,u){super(e,"event",a,c),Object.defineProperty(this,L,{value:G}),(0,f.h)(this,{anonymous:u})}get topicHash(){return(0,m.id)(this.format("sighash"))}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(a=>JSON.parse(a.format(e)))});let a=[];return"sighash"!==e&&a.push("event"),a.push(this.name+joinParams(e,this.inputs)),"sighash"!==e&&this.anonymous&&a.push("anonymous"),a.join(" ")}static getTopicHash(e,a){a=(a||[]).map(e=>ParamType.from(e));let c=new EventFragment(F,e,a,!1);return c.topicHash}static from(e){if(EventFragment.isFragment(e))return e;if("string"==typeof e)try{return EventFragment.from(lex(e))}catch(a){(0,p.en)(!1,"invalid event fragment","obj",e)}else if(e instanceof TokenString){let a=consumeName("event",e),c=consumeParams(e,!0),u=!!consumeKeywords(e,setify(["anonymous"])).has("anonymous");return consumeEoi(e),new EventFragment(F,a,c,u)}return new EventFragment(F,e.name,e.inputs?e.inputs.map(e=>ParamType.from(e,!0)):[],!!e.anonymous)}static isFragment(e){return e&&e[L]===G}};let ConstructorFragment=class ConstructorFragment extends Fragment{payable;gas;constructor(e,a,c,u,p){super(e,a,c),Object.defineProperty(this,L,{value:z}),(0,f.h)(this,{payable:u,gas:p})}format(e){if((0,p.hu)(null!=e&&"sighash"!==e,"cannot format a constructor for sighash","UNSUPPORTED_OPERATION",{operation:"format(sighash)"}),"json"===e)return JSON.stringify({type:"constructor",stateMutability:this.payable?"payable":"undefined",payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(a=>JSON.parse(a.format(e)))});let a=[`constructor${joinParams(e,this.inputs)}`];return this.payable&&a.push("payable"),null!=this.gas&&a.push(`@${this.gas.toString()}`),a.join(" ")}static from(e){if(ConstructorFragment.isFragment(e))return e;if("string"==typeof e)try{return ConstructorFragment.from(lex(e))}catch(a){(0,p.en)(!1,"invalid constuctor fragment","obj",e)}else if(e instanceof TokenString){consumeKeywords(e,setify(["constructor"]));let a=consumeParams(e),c=!!consumeKeywords(e,y).has("payable"),u=consumeGas(e);return consumeEoi(e),new ConstructorFragment(F,"constructor",a,c,u)}return new ConstructorFragment(F,"constructor",e.inputs?e.inputs.map(ParamType.from):[],!!e.payable,null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[L]===z}};let FallbackFragment=class FallbackFragment extends Fragment{payable;constructor(e,a,c){super(e,"fallback",a),Object.defineProperty(this,L,{value:q}),(0,f.h)(this,{payable:c})}format(e){let a=0===this.inputs.length?"receive":"fallback";if("json"===e){let e=this.payable?"payable":"nonpayable";return JSON.stringify({type:a,stateMutability:e})}return`${a}()${this.payable?" payable":""}`}static from(e){if(FallbackFragment.isFragment(e))return e;if("string"==typeof e)try{return FallbackFragment.from(lex(e))}catch(a){(0,p.en)(!1,"invalid fallback fragment","obj",e)}else if(e instanceof TokenString){let a=e.toString(),c=e.peekKeyword(setify(["fallback","receive"]));(0,p.en)(c,"type must be fallback or receive","obj",a);let u=e.popKeyword(setify(["fallback","receive"]));if("receive"===u){let a=consumeParams(e);return(0,p.en)(0===a.length,"receive cannot have arguments","obj.inputs",a),consumeKeywords(e,setify(["payable"])),consumeEoi(e),new FallbackFragment(F,[],!0)}let f=consumeParams(e);f.length?(0,p.en)(1===f.length&&"bytes"===f[0].type,"invalid fallback inputs","obj.inputs",f.map(e=>e.format("minimal")).join(", ")):f=[ParamType.from("bytes")];let m=consumeMutability(e);if((0,p.en)("nonpayable"===m||"payable"===m,"fallback cannot be constants","obj.stateMutability",m),consumeKeywords(e,setify(["returns"])).has("returns")){let a=consumeParams(e);(0,p.en)(1===a.length&&"bytes"===a[0].type,"invalid fallback outputs","obj.outputs",a.map(e=>e.format("minimal")).join(", "))}return consumeEoi(e),new FallbackFragment(F,f,"payable"===m)}if("receive"===e.type)return new FallbackFragment(F,[],!0);if("fallback"===e.type){let a=[ParamType.from("bytes")],c="payable"===e.stateMutability;return new FallbackFragment(F,a,c)}(0,p.en)(!1,"invalid fallback description","obj",e)}static isFragment(e){return e&&e[L]===q}};let FunctionFragment=class FunctionFragment extends NamedFragment{constant;outputs;stateMutability;payable;gas;constructor(e,a,c,u,p,m){super(e,"function",a,u),Object.defineProperty(this,L,{value:W}),p=Object.freeze(p.slice());let y="view"===c||"pure"===c,w="payable"===c;(0,f.h)(this,{constant:y,gas:m,outputs:p,payable:w,stateMutability:c})}get selector(){return(0,m.id)(this.format("sighash")).substring(0,10)}format(e){if(null==e&&(e="sighash"),"json"===e)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:"nonpayable"!==this.stateMutability?this.stateMutability:void 0,payable:this.payable,gas:null!=this.gas?this.gas:void 0,inputs:this.inputs.map(a=>JSON.parse(a.format(e))),outputs:this.outputs.map(a=>JSON.parse(a.format(e)))});let a=[];return"sighash"!==e&&a.push("function"),a.push(this.name+joinParams(e,this.inputs)),"sighash"!==e&&("nonpayable"!==this.stateMutability&&a.push(this.stateMutability),this.outputs&&this.outputs.length&&(a.push("returns"),a.push(joinParams(e,this.outputs))),null!=this.gas&&a.push(`@${this.gas.toString()}`)),a.join(" ")}static getSelector(e,a){a=(a||[]).map(e=>ParamType.from(e));let c=new FunctionFragment(F,e,"view",a,[],null);return c.selector}static from(e){if(FunctionFragment.isFragment(e))return e;if("string"==typeof e)try{return FunctionFragment.from(lex(e))}catch(a){(0,p.en)(!1,"invalid function fragment","obj",e)}else if(e instanceof TokenString){let a=consumeName("function",e),c=consumeParams(e),u=consumeMutability(e),p=[];consumeKeywords(e,setify(["returns"])).has("returns")&&(p=consumeParams(e));let f=consumeGas(e);return consumeEoi(e),new FunctionFragment(F,a,u,c,p,f)}let a=e.stateMutability;return null!=a||(a="payable","boolean"==typeof e.constant?(a="view",e.constant||(a="payable","boolean"!=typeof e.payable||e.payable||(a="nonpayable"))):"boolean"!=typeof e.payable||e.payable||(a="nonpayable")),new FunctionFragment(F,e.name,a,e.inputs?e.inputs.map(ParamType.from):[],e.outputs?e.outputs.map(ParamType.from):[],null!=e.gas?e.gas:null)}static isFragment(e){return e&&e[L]===W}};let StructFragment=class StructFragment extends NamedFragment{constructor(e,a,c){super(e,"struct",a,c),Object.defineProperty(this,L,{value:Q})}format(){throw Error("@TODO")}static from(e){if("string"==typeof e)try{return StructFragment.from(lex(e))}catch(a){(0,p.en)(!1,"invalid struct fragment","obj",e)}else if(e instanceof TokenString){let a=consumeName("struct",e),c=consumeParams(e);return consumeEoi(e),new StructFragment(F,a,c)}return new StructFragment(F,e.name,e.inputs?e.inputs.map(ParamType.from):[])}static isFragment(e){return e&&e[L]===Q}}},86157:function(e,a,c){"use strict";c.d(a,{_:function(){return Typed}});var u=c(52261),p=c(60533);let f={};function n(e,a){let c=!1;return a<0&&(c=!0,a*=-1),new Typed(f,`${c?"":"u"}int${a}`,e,{signed:c,width:a})}function b(e,a){return new Typed(f,`bytes${a||""}`,e,{size:a})}let m=Symbol.for("_ethers_typed");let Typed=class Typed{type;value;#d;_typedSymbol;constructor(e,a,c,y){null==y&&(y=null),(0,u.NK)(f,e,"Typed"),(0,p.h)(this,{_typedSymbol:m,type:a,value:c}),this.#d=y,this.format()}format(){if("array"===this.type||"dynamicArray"===this.type)throw Error("");return"tuple"===this.type?`tuple(${this.value.map(e=>e.format()).join(",")})`:this.type}defaultValue(){return 0}minValue(){return 0}maxValue(){return 0}isBigInt(){return!!this.type.match(/^u?int[0-9]+$/)}isData(){return this.type.startsWith("bytes")}isString(){return"string"===this.type}get tupleName(){if("tuple"!==this.type)throw TypeError("not a tuple");return this.#d}get arrayLength(){if("array"!==this.type)throw TypeError("not an array");return!0===this.#d?-1:!1===this.#d?this.value.length:null}static from(e,a){return new Typed(f,e,a)}static uint8(e){return n(e,8)}static uint16(e){return n(e,16)}static uint24(e){return n(e,24)}static uint32(e){return n(e,32)}static uint40(e){return n(e,40)}static uint48(e){return n(e,48)}static uint56(e){return n(e,56)}static uint64(e){return n(e,64)}static uint72(e){return n(e,72)}static uint80(e){return n(e,80)}static uint88(e){return n(e,88)}static uint96(e){return n(e,96)}static uint104(e){return n(e,104)}static uint112(e){return n(e,112)}static uint120(e){return n(e,120)}static uint128(e){return n(e,128)}static uint136(e){return n(e,136)}static uint144(e){return n(e,144)}static uint152(e){return n(e,152)}static uint160(e){return n(e,160)}static uint168(e){return n(e,168)}static uint176(e){return n(e,176)}static uint184(e){return n(e,184)}static uint192(e){return n(e,192)}static uint200(e){return n(e,200)}static uint208(e){return n(e,208)}static uint216(e){return n(e,216)}static uint224(e){return n(e,224)}static uint232(e){return n(e,232)}static uint240(e){return n(e,240)}static uint248(e){return n(e,248)}static uint256(e){return n(e,256)}static uint(e){return n(e,256)}static int8(e){return n(e,-8)}static int16(e){return n(e,-16)}static int24(e){return n(e,-24)}static int32(e){return n(e,-32)}static int40(e){return n(e,-40)}static int48(e){return n(e,-48)}static int56(e){return n(e,-56)}static int64(e){return n(e,-64)}static int72(e){return n(e,-72)}static int80(e){return n(e,-80)}static int88(e){return n(e,-88)}static int96(e){return n(e,-96)}static int104(e){return n(e,-104)}static int112(e){return n(e,-112)}static int120(e){return n(e,-120)}static int128(e){return n(e,-128)}static int136(e){return n(e,-136)}static int144(e){return n(e,-144)}static int152(e){return n(e,-152)}static int160(e){return n(e,-160)}static int168(e){return n(e,-168)}static int176(e){return n(e,-176)}static int184(e){return n(e,-184)}static int192(e){return n(e,-192)}static int200(e){return n(e,-200)}static int208(e){return n(e,-208)}static int216(e){return n(e,-216)}static int224(e){return n(e,-224)}static int232(e){return n(e,-232)}static int240(e){return n(e,-240)}static int248(e){return n(e,-248)}static int256(e){return n(e,-256)}static int(e){return n(e,-256)}static bytes1(e){return b(e,1)}static bytes2(e){return b(e,2)}static bytes3(e){return b(e,3)}static bytes4(e){return b(e,4)}static bytes5(e){return b(e,5)}static bytes6(e){return b(e,6)}static bytes7(e){return b(e,7)}static bytes8(e){return b(e,8)}static bytes9(e){return b(e,9)}static bytes10(e){return b(e,10)}static bytes11(e){return b(e,11)}static bytes12(e){return b(e,12)}static bytes13(e){return b(e,13)}static bytes14(e){return b(e,14)}static bytes15(e){return b(e,15)}static bytes16(e){return b(e,16)}static bytes17(e){return b(e,17)}static bytes18(e){return b(e,18)}static bytes19(e){return b(e,19)}static bytes20(e){return b(e,20)}static bytes21(e){return b(e,21)}static bytes22(e){return b(e,22)}static bytes23(e){return b(e,23)}static bytes24(e){return b(e,24)}static bytes25(e){return b(e,25)}static bytes26(e){return b(e,26)}static bytes27(e){return b(e,27)}static bytes28(e){return b(e,28)}static bytes29(e){return b(e,29)}static bytes30(e){return b(e,30)}static bytes31(e){return b(e,31)}static bytes32(e){return b(e,32)}static address(e){return new Typed(f,"address",e)}static bool(e){return new Typed(f,"bool",!!e)}static bytes(e){return new Typed(f,"bytes",e)}static string(e){return new Typed(f,"string",e)}static array(e,a){throw Error("not implemented yet")}static tuple(e,a){throw Error("not implemented yet")}static overrides(e){return new Typed(f,"overrides",Object.assign({},e))}static isTyped(e){return e&&"object"==typeof e&&"_typedSymbol"in e&&e._typedSymbol===m}static dereference(e,a){if(Typed.isTyped(e)){if(e.type!==a)throw Error(`invalid type: expecetd ${a}, got ${e.type}`);return e.value}return e}}},3635:function(e,a,c){"use strict";c.d(a,{K:function(){return getAddress}});var u=c(62983),p=c(65541),f=c(52261);let m=BigInt(0),y=BigInt(36);function getChecksumAddress(e){e=e.toLowerCase();let a=e.substring(2).split(""),c=new Uint8Array(40);for(let e=0;e<40;e++)c[e]=a[e].charCodeAt(0);let f=(0,p.Pw)((0,u.w)(c));for(let e=0;e<40;e+=2)f[e>>1]>>4>=8&&(a[e]=a[e].toUpperCase()),(15&f[e>>1])>=8&&(a[e+1]=a[e+1].toUpperCase());return"0x"+a.join("")}let w={};for(let e=0;e<10;e++)w[String(e)]=String(e);for(let e=0;e<26;e++)w[String.fromCharCode(65+e)]=String(10+e);let E=function(){let e={};for(let a=0;a<36;a++){let c="0123456789abcdefghijklmnopqrstuvwxyz"[a];e[c]=BigInt(a)}return e}();function getAddress(e){if((0,f.en)("string"==typeof e,"invalid address","address",e),e.match(/^(0x)?[0-9a-fA-F]{40}$/)){e.startsWith("0x")||(e="0x"+e);let a=getChecksumAddress(e);return(0,f.en)(!e.match(/([A-F].*[a-f])|([a-f].*[A-F])/)||a===e,"bad address checksum","address",e),a}if(e.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){(0,f.en)(e.substring(2,4)===function(e){let a=(e=(e=e.toUpperCase()).substring(4)+e.substring(0,2)+"00").split("").map(e=>w[e]).join("");for(;a.length>=15;){let e=a.substring(0,15);a=parseInt(e,10)%97+a.substring(e.length)}let c=String(98-parseInt(a,10)%97);for(;c.length<2;)c="0"+c;return c}(e),"bad icap checksum","address",e);let a=(function(e){e=e.toLowerCase();let a=m;for(let c=0;c<e.length;c++)a=a*y+E[e[c]];return a})(e.substring(4)).toString(16);for(;a.length<40;)a="0"+a;return getChecksumAddress("0x"+a)}(0,f.en)(!1,"invalid address","address",e)}},87272:function(e,a,c){"use strict";c.d(a,{RC:function(){return isAddressable},ru:function(){return resolveAddress}});var u=c(52261),p=c(3635);function isAddressable(e){return e&&"function"==typeof e.getAddress}async function checkAddress(e,a){let c=await a;return(null==c||"0x0000000000000000000000000000000000000000"===c)&&((0,u.hu)("string"!=typeof e,"unconfigured name","UNCONFIGURED_NAME",{value:e}),(0,u.en)(!1,"invalid AddressLike value; did not resolve to a value address","target",e)),(0,p.K)(c)}function resolveAddress(e,a){return"string"==typeof e?e.match(/^0x[0-9a-f]{40}$/i)?(0,p.K)(e):((0,u.hu)(null!=a,"ENS resolution requires a provider","UNSUPPORTED_OPERATION",{operation:"resolveName"}),checkAddress(e,a.resolveName(e))):isAddressable(e)?checkAddress(e,e.getAddress()):e&&"function"==typeof e.then?checkAddress(e,e):void(0,u.en)(!1,"unsupported addressable value","target",e)}},57415:function(e,a,c){"use strict";c.d(a,{CH:function(){return Contract}});var u=c(86157),p=c(62983),f=c(80437),m=c(60533),y=c(52261),w=c(65541),E=c(79635),S=c(65197),A=c(26744),k=c(71385);let LogDescription=class LogDescription{fragment;name;signature;topic;args;constructor(e,a,c){let u=e.name,p=e.format();(0,m.h)(this,{fragment:e,name:u,signature:p,topic:a,args:c})}};let TransactionDescription=class TransactionDescription{fragment;name;args;signature;selector;value;constructor(e,a,c,u){let p=e.name,f=e.format();(0,m.h)(this,{fragment:e,name:p,args:c,signature:f,selector:a,value:u})}};let ErrorDescription=class ErrorDescription{fragment;name;args;signature;selector;constructor(e,a,c){let u=e.name,p=e.format();(0,m.h)(this,{fragment:e,name:u,args:c,signature:p,selector:a})}};let Indexed=class Indexed{hash;_isIndexed;static isIndexed(e){return!!(e&&e._isIndexed)}constructor(e){(0,m.h)(this,{hash:e,_isIndexed:!0})}};let T={0:"generic panic",1:"assert(false)",17:"arithmetic overflow",18:"division or modulo by zero",33:"enum overflow",34:"invalid encoded storage byte array accessed",49:"out-of-bounds array access; popping on an empty array",50:"out-of-bounds access of an array or bytesN",65:"out of memory",81:"uninitialized function"},O={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:e=>`reverted with reason string ${JSON.stringify(e)}`},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"],reason:e=>{let a="unknown panic code";return e>=0&&e<=255&&T[e.toString()]&&(a=T[e.toString()]),`reverted with panic code 0x${e.toString(16)} (${a})`}}};let Interface=class Interface{fragments;deploy;fallback;receive;#m;#g;#y;#b;constructor(e){let a=[];a="string"==typeof e?JSON.parse(e):e,this.#y=new Map,this.#m=new Map,this.#g=new Map;let c=[];for(let e of a)try{c.push(k.HY.from(e))}catch(a){console.log(`[Warning] Invalid Fragment ${JSON.stringify(e)}:`,a.message)}(0,m.h)(this,{fragments:Object.freeze(c)});let u=null,p=!1;this.#b=this.getAbiCoder(),this.fragments.forEach((e,a)=>{let c;switch(e.type){case"constructor":if(this.deploy){console.log("duplicate definition - constructor");return}(0,m.h)(this,{deploy:e});return;case"fallback":0===e.inputs.length?p=!0:((0,y.en)(!u||e.payable!==u.payable,"conflicting fallback fragments",`fragments[${a}]`,e),p=(u=e).payable);return;case"function":c=this.#y;break;case"event":c=this.#g;break;case"error":c=this.#m;break;default:return}let f=e.format();c.has(f)||c.set(f,e)}),this.deploy||(0,m.h)(this,{deploy:k.Xg.from("constructor()")}),(0,m.h)(this,{fallback:u,receive:p})}format(e){let a=e?"minimal":"full",c=this.fragments.map(e=>e.format(a));return c}formatJson(){let e=this.fragments.map(e=>e.format("json"));return JSON.stringify(e.map(e=>JSON.parse(e)))}getAbiCoder(){return S.R.defaultAbiCoder()}#v(e,a,c){if((0,w.A7)(e)){let a=e.toLowerCase();for(let e of this.#y.values())if(a===e.selector)return e;return null}if(-1===e.indexOf("(")){let p=[];for(let[a,c]of this.#y)a.split("(")[0]===e&&p.push(c);if(a){let e=a.length>0?a[a.length-1]:null,c=a.length,f=!0;u._.isTyped(e)&&"overrides"===e.type&&(f=!1,c--);for(let e=p.length-1;e>=0;e--){let a=p[e].inputs.length;a===c||f&&a===c-1||p.splice(e,1)}for(let e=p.length-1;e>=0;e--){let c=p[e].inputs;for(let f=0;f<a.length;f++)if(u._.isTyped(a[f])){if(f>=c.length){if("overrides"===a[f].type)continue;p.splice(e,1);break}if(a[f].type!==c[f].baseType){p.splice(e,1);break}}}}if(1===p.length&&a&&a.length!==p[0].inputs.length){let e=a[a.length-1];(null==e||Array.isArray(e)||"object"!=typeof e)&&p.splice(0,1)}if(0===p.length)return null;if(p.length>1&&c){let a=p.map(e=>JSON.stringify(e.format())).join(", ");(0,y.en)(!1,`ambiguous function description (i.e. matches ${a})`,"key",e)}return p[0]}let p=this.#y.get(k.YW.from(e).format());return p||null}getFunctionName(e){let a=this.#v(e,null,!1);return(0,y.en)(a,"no matching function","key",e),a.name}hasFunction(e){return!!this.#v(e,null,!1)}getFunction(e,a){return this.#v(e,a||null,!0)}forEachFunction(e){let a=Array.from(this.#y.keys());a.sort((e,a)=>e.localeCompare(a));for(let c=0;c<a.length;c++){let u=a[c];e(this.#y.get(u),c)}}#w(e,a,c){if((0,w.A7)(e)){let a=e.toLowerCase();for(let e of this.#g.values())if(a===e.topicHash)return e;return null}if(-1===e.indexOf("(")){let p=[];for(let[a,c]of this.#g)a.split("(")[0]===e&&p.push(c);if(a){for(let e=p.length-1;e>=0;e--)p[e].inputs.length<a.length&&p.splice(e,1);for(let e=p.length-1;e>=0;e--){let c=p[e].inputs;for(let f=0;f<a.length;f++)if(u._.isTyped(a[f])&&a[f].type!==c[f].baseType){p.splice(e,1);break}}}if(0===p.length)return null;if(p.length>1&&c){let a=p.map(e=>JSON.stringify(e.format())).join(", ");(0,y.en)(!1,`ambiguous event description (i.e. matches ${a})`,"key",e)}return p[0]}let p=this.#g.get(k.QV.from(e).format());return p||null}getEventName(e){let a=this.#w(e,null,!1);return(0,y.en)(a,"no matching event","key",e),a.name}hasEvent(e){return!!this.#w(e,null,!1)}getEvent(e,a){return this.#w(e,a||null,!0)}forEachEvent(e){let a=Array.from(this.#g.keys());a.sort((e,a)=>e.localeCompare(a));for(let c=0;c<a.length;c++){let u=a[c];e(this.#g.get(u),c)}}getError(e,a){if((0,w.A7)(e)){let a=e.toLowerCase();if(O[a])return k.IC.from(O[a].signature);for(let e of this.#m.values())if(a===e.selector)return e;return null}if(-1===e.indexOf("(")){let a=[];for(let[c,u]of this.#m)c.split("(")[0]===e&&a.push(u);if(0===a.length)return"Error"===e?k.IC.from("error Error(string)"):"Panic"===e?k.IC.from("error Panic(uint256)"):null;if(a.length>1){let c=a.map(e=>JSON.stringify(e.format())).join(", ");(0,y.en)(!1,`ambiguous error description (i.e. ${c})`,"name",e)}return a[0]}if("Error(string)"===(e=k.IC.from(e).format()))return k.IC.from("error Error(string)");if("Panic(uint256)"===e)return k.IC.from("error Panic(uint256)");let c=this.#m.get(e);return c||null}forEachError(e){let a=Array.from(this.#m.keys());a.sort((e,a)=>e.localeCompare(a));for(let c=0;c<a.length;c++){let u=a[c];e(this.#m.get(u),c)}}_decodeParams(e,a){return this.#b.decode(e,a)}_encodeParams(e,a){return this.#b.encode(e,a)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,a){if("string"==typeof e){let a=this.getError(e);(0,y.en)(a,"unknown error","fragment",e),e=a}return(0,y.en)((0,w.QB)(a,0,4)===e.selector,`data signature does not match error ${e.name}.`,"data",a),this._decodeParams(e.inputs,(0,w.QB)(a,4))}encodeErrorResult(e,a){if("string"==typeof e){let a=this.getError(e);(0,y.en)(a,"unknown error","fragment",e),e=a}return(0,w.zo)([e.selector,this._encodeParams(e.inputs,a||[])])}decodeFunctionData(e,a){if("string"==typeof e){let a=this.getFunction(e);(0,y.en)(a,"unknown function","fragment",e),e=a}return(0,y.en)((0,w.QB)(a,0,4)===e.selector,`data signature does not match function ${e.name}.`,"data",a),this._decodeParams(e.inputs,(0,w.QB)(a,4))}encodeFunctionData(e,a){if("string"==typeof e){let a=this.getFunction(e);(0,y.en)(a,"unknown function","fragment",e),e=a}return(0,w.zo)([e.selector,this._encodeParams(e.inputs,a||[])])}decodeFunctionResult(e,a){if("string"==typeof e){let a=this.getFunction(e);(0,y.en)(a,"unknown function","fragment",e),e=a}let c="invalid length for result data",u=(0,w.h_)(a);if(u.length%32==0)try{return this.#b.decode(e.outputs,u)}catch(e){c="could not decode result data"}(0,y.hu)(!1,c,"BAD_DATA",{value:(0,w.Dv)(u),info:{method:e.name,signature:e.format()}})}makeError(e,a){let c=(0,w.Pw)(e,"data"),u=S.R.getBuiltinCallException("call",a,c);if(u.message.startsWith("execution reverted (unknown custom error)")){let e=(0,w.Dv)(c.slice(0,4)),a=this.getError(e);if(a)try{let e=this.#b.decode(a.inputs,c.slice(4));u.revert={name:a.name,signature:a.format(),args:e},u.reason=u.revert.signature,u.message=`execution reverted: ${u.reason}`}catch(e){u.message="execution reverted (coult not decode custom error)"}}let p=this.parseTransaction(a);return p&&(u.invocation={method:p.name,signature:p.signature,args:p.args}),u}encodeFunctionResult(e,a){if("string"==typeof e){let a=this.getFunction(e);(0,y.en)(a,"unknown function","fragment",e),e=a}return(0,w.Dv)(this.#b.encode(e.outputs,a||[]))}encodeFilterTopics(e,a){if("string"==typeof e){let a=this.getEvent(e);(0,y.en)(a,"unknown event","eventFragment",e),e=a}(0,y.hu)(a.length<=e.inputs.length,`too many arguments for ${e.format()}`,"UNEXPECTED_ARGUMENT",{count:a.length,expectedCount:e.inputs.length});let c=[];e.anonymous||c.push(e.topicHash);let encodeTopic=(e,a)=>"string"===e.type?(0,f.id)(a):"bytes"===e.type?(0,p.w)((0,w.Dv)(a)):("bool"===e.type&&"boolean"==typeof a?a=a?"0x01":"0x00":e.type.match(/^u?int/)?a=(0,E.m9)(a):e.type.match(/^bytes/)?a=(0,w.SK)(a,32):"address"===e.type&&this.#b.encode(["address"],[a]),(0,w.U3)((0,w.Dv)(a),32));for(a.forEach((a,u)=>{let p=e.inputs[u];if(!p.indexed){(0,y.en)(null==a,"cannot filter non-indexed parameters; must be null","contract."+p.name,a);return}null==a?c.push(null):"array"===p.baseType||"tuple"===p.baseType?(0,y.en)(!1,"filtering with tuples or arrays not supported","contract."+p.name,a):Array.isArray(a)?c.push(a.map(e=>encodeTopic(p,e))):c.push(encodeTopic(p,a))});c.length&&null===c[c.length-1];)c.pop();return c}encodeEventLog(e,a){if("string"==typeof e){let a=this.getEvent(e);(0,y.en)(a,"unknown event","eventFragment",e),e=a}let c=[],u=[],m=[];return e.anonymous||c.push(e.topicHash),(0,y.en)(a.length===e.inputs.length,"event arguments/values mismatch","values",a),e.inputs.forEach((e,y)=>{let w=a[y];if(e.indexed){if("string"===e.type)c.push((0,f.id)(w));else if("bytes"===e.type)c.push((0,p.w)(w));else if("tuple"===e.baseType||"array"===e.baseType)throw Error("not implemented");else c.push(this.#b.encode([e.type],[w]))}else u.push(e),m.push(w)}),{data:this.#b.encode(u,m),topics:c}}decodeEventLog(e,a,c){if("string"==typeof e){let a=this.getEvent(e);(0,y.en)(a,"unknown event","eventFragment",e),e=a}if(null!=c&&!e.anonymous){let a=e.topicHash;(0,y.en)((0,w.A7)(c[0],32)&&c[0].toLowerCase()===a,"fragment/topic mismatch","topics[0]",c[0]),c=c.slice(1)}let u=[],p=[],f=[];e.inputs.forEach((e,a)=>{e.indexed?"string"===e.type||"bytes"===e.type||"tuple"===e.baseType||"array"===e.baseType?(u.push(k._R.from({type:"bytes32",name:e.name})),f.push(!0)):(u.push(e),f.push(!1)):(p.push(e),f.push(!1))});let m=null!=c?this.#b.decode(u,(0,w.zo)(c)):null,E=this.#b.decode(p,a,!0),S=[],T=[],O=0,B=0;return e.inputs.forEach((e,a)=>{let c=null;if(e.indexed){if(null==m)c=new Indexed(null);else if(f[a])c=new Indexed(m[B++]);else try{c=m[B++]}catch(e){c=e}}else try{c=E[O++]}catch(e){c=e}S.push(c),T.push(e.name||null)}),A.x4.fromItems(S,T)}parseTransaction(e){let a=(0,w.Pw)(e.data,"tx.data"),c=(0,E.yT)(null!=e.value?e.value:0,"tx.value"),u=this.getFunction((0,w.Dv)(a.slice(0,4)));if(!u)return null;let p=this.#b.decode(u.inputs,a.slice(4));return new TransactionDescription(u,u.selector,p,c)}parseCallResult(e){throw Error("@TODO")}parseLog(e){let a=this.getEvent(e.topics[0]);return!a||a.anonymous?null:new LogDescription(a,a.topicHash,this.decodeEventLog(a,e.data,e.topics))}parseError(e){let a=(0,w.Dv)(e),c=this.getError((0,w.QB)(a,0,4));if(!c)return null;let u=this.#b.decode(c.inputs,(0,w.QB)(a,4));return new ErrorDescription(c,c.selector,u)}static from(e){return e instanceof Interface?e:new Interface("string"==typeof e?JSON.parse(e):"function"==typeof e.formatJson?e.formatJson():"function"==typeof e.format?e.format("json"):e)}};var B=c(87272),C=c(7729),N=c(80691);let EventLog=class EventLog extends C.Zb{interface;fragment;args;constructor(e,a,c){super(e,e.provider);let u=a.decodeEventLog(c,e.data,e.topics);(0,m.h)(this,{args:u,fragment:c,interface:a})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};let UndecodedEventLog=class UndecodedEventLog extends C.Zb{error;constructor(e,a){super(e,e.provider),(0,m.h)(this,{error:a})}};let ContractTransactionReceipt=class ContractTransactionReceipt extends C.IX{#E;constructor(e,a,c){super(c,a),this.#E=e}get logs(){return super.logs.map(e=>{let a=e.topics.length?this.#E.getEvent(e.topics[0]):null;if(a)try{return new EventLog(e,this.#E,a)}catch(a){return new UndecodedEventLog(e,a)}return e})}};let ContractTransactionResponse=class ContractTransactionResponse extends C.Mw{#E;constructor(e,a,c){super(c,a),this.#E=e}async wait(e,a){let c=await super.wait(e,a);return null==c?null:new ContractTransactionReceipt(this.#E,this.provider,c)}};let ContractUnknownEventPayload=class ContractUnknownEventPayload extends N.Z{log;constructor(e,a,c,u){super(e,a,c),(0,m.h)(this,{log:u})}async getBlock(){return await this.log.getBlock()}async getTransaction(){return await this.log.getTransaction()}async getTransactionReceipt(){return await this.log.getTransactionReceipt()}};let ContractEventPayload=class ContractEventPayload extends ContractUnknownEventPayload{constructor(e,a,c,u,p){super(e,a,c,new EventLog(p,e.interface,u));let f=e.interface.decodeEventLog(u,this.log.data,this.log.topics);(0,m.h)(this,{args:f,fragment:u})}get eventName(){return this.fragment.name}get eventSignature(){return this.fragment.format()}};let R=BigInt(0);function canCall(e){return e&&"function"==typeof e.call}function canEstimate(e){return e&&"function"==typeof e.estimateGas}function canResolve(e){return e&&"function"==typeof e.resolveName}function canSend(e){return e&&"function"==typeof e.sendTransaction}function getResolver(e){if(null!=e){if(canResolve(e))return e;if(e.provider)return e.provider}}let PreparedTopicFilter=class PreparedTopicFilter{#S;fragment;constructor(e,a,c){if((0,m.h)(this,{fragment:a}),a.inputs.length<c.length)throw Error("too many arguments");let u=getRunner(e.runner,"resolveName"),p=canResolve(u)?u:null;this.#S=async function(){let u=await Promise.all(a.inputs.map((e,a)=>{let u=c[a];return null==u?null:e.walkAsync(c[a],(e,a)=>"address"===e?Array.isArray(a)?Promise.all(a.map(e=>(0,B.ru)(e,p))):(0,B.ru)(a,p):a)}));return e.interface.encodeFilterTopics(a,u)}()}getTopicFilter(){return this.#S}};function getRunner(e,a){return null==e?null:"function"==typeof e[a]?e:e.provider&&"function"==typeof e.provider[a]?e.provider:null}function getProvider(e){return null==e?null:e.provider||null}async function copyOverrides(e,a){let c=u._.dereference(e,"overrides");(0,y.en)("object"==typeof c,"invalid overrides parameter","overrides",e);let p=(0,C.kK)(c);return(0,y.en)(null==p.to||(a||[]).indexOf("to")>=0,"cannot override to","overrides.to",p.to),(0,y.en)(null==p.data||(a||[]).indexOf("data")>=0,"cannot override data","overrides.data",p.data),p.from&&(p.from=p.from),p}async function resolveArgs(e,a,c){let p=getRunner(e,"resolveName"),f=canResolve(p)?p:null;return await Promise.all(a.map((e,a)=>e.walkAsync(c[a],(e,a)=>(a=u._.dereference(a,e),"address"===e)?(0,B.ru)(a,f):a)))}let M=Symbol.for("_ethersInternal_contract"),U=new WeakMap;function getInternal(e){return U.get(e[M])}async function getSubInfo(e,a){let c;let u=null;if(Array.isArray(a)){let topicHashify=function(a){if((0,w.A7)(a,32))return a;let c=e.interface.getEvent(a);return(0,y.en)(c,"unknown fragment","name",a),c.topicHash};c=a.map(e=>null==e?null:Array.isArray(e)?e.map(topicHashify):topicHashify(e))}else"*"===a?c=[null]:"string"==typeof a?(0,w.A7)(a,32)?c=[a]:(u=e.interface.getEvent(a),(0,y.en)(u,"unknown fragment","event",a),c=[u.topicHash]):a&&"object"==typeof a&&"getTopicFilter"in a&&"function"==typeof a.getTopicFilter&&a.fragment?c=await a.getTopicFilter():"fragment"in a?c=[(u=a.fragment).topicHash]:(0,y.en)(!1,"unknown event name","event",a);c=c.map(e=>{if(null==e)return null;if(Array.isArray(e)){let a=Array.from(new Set(e.map(e=>e.toLowerCase())).values());return 1===a.length?a[0]:(a.sort(),a)}return e.toLowerCase()});let p=c.map(e=>null==e?"null":Array.isArray(e)?e.join("|"):e).join("&");return{fragment:u,tag:p,topics:c}}async function hasSub(e,a){let{subs:c}=getInternal(e);return c.get((await getSubInfo(e,a)).tag)||null}async function getSub(e,a,c){let u=getProvider(e.runner);(0,y.hu)(u,"contract runner does not support subscribing","UNSUPPORTED_OPERATION",{operation:a});let{fragment:p,tag:f,topics:m}=await getSubInfo(e,c),{addr:w,subs:E}=getInternal(e),S=E.get(f);if(!S){let a=w||e,y={address:a,topics:m},listener=a=>{let u=p;if(null==u)try{u=e.interface.getEvent(a.topics[0])}catch(e){}if(u){let f=u,m=p?e.interface.decodeEventLog(p,a.data,a.topics):[];emit(e,c,m,u=>new ContractEventPayload(e,u,c,f,a))}else emit(e,c,[],u=>new ContractUnknownEventPayload(e,u,c,a))},A=[],stop=async()=>{if(0==A.length)return;let e=A;A=[],await Promise.all(e),u.off(y,listener)};S={tag:f,listeners:[],start:()=>{A.length||A.push(u.on(y,listener))},stop},E.set(f,S)}return S}let D=Promise.resolve();async function _emit(e,a,c,u){await D;let p=await hasSub(e,a);if(!p)return!1;let f=p.listeners.length;return p.listeners=p.listeners.filter(({listener:a,once:p})=>{let f=Array.from(c);u&&f.push(u(p?null:a));try{a.call(e,...f)}catch(e){}return!p}),0===p.listeners.length&&(p.stop(),getInternal(e).subs.delete(p.tag)),f>0}async function emit(e,a,c,u){try{await D}catch(e){}let p=_emit(e,a,c,u);return D=p,await p}let H=["then"];let BaseContract=class BaseContract{target;interface;runner;filters;[M];fallback;constructor(e,a,c,u){var p;let f;(0,y.en)("string"==typeof e||(0,B.RC)(e),"invalid value for Contract target","target",e),null==c&&(c=null);let S=Interface.from(a);(0,m.h)(this,{target:e,runner:c,interface:S}),Object.defineProperty(this,M,{value:{}});let A=null,k=null;if(u){let e=getProvider(c);k=new ContractTransactionResponse(this.interface,e,u)}let T=new Map;if("string"==typeof e){if((0,w.A7)(e))A=e,f=Promise.resolve(e);else{let a=getRunner(c,"resolveName");if(!canResolve(a))throw(0,y.wf)("contract runner does not support name resolution","UNSUPPORTED_OPERATION",{operation:"resolveName"});f=a.resolveName(e).then(a=>{if(null==a)throw(0,y.wf)("an ENS name used for a contract target must be correctly configured","UNCONFIGURED_NAME",{value:e});return getInternal(this).addr=a,a})}}else f=e.getAddress().then(e=>{if(null==e)throw Error("TODO");return getInternal(this).addr=e,e});p={addrPromise:f,addr:A,deployTx:k,subs:T},U.set(this[M],p);let O=new Proxy({},{get:(e,a,c)=>{if("symbol"==typeof a||H.indexOf(a)>=0)return Reflect.get(e,a,c);try{return this.getEvent(a)}catch(e){if(!(0,y.VZ)(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,a)=>H.indexOf(a)>=0?Reflect.has(e,a):Reflect.has(e,a)||this.interface.hasEvent(String(a))});return(0,m.h)(this,{filters:O}),(0,m.h)(this,{fallback:S.receive||S.fallback?function(e){let populateTransaction=async function(a){let c=await copyOverrides(a,["data"]);c.to=await e.getAddress(),c.from&&(c.from=await (0,B.ru)(c.from,getResolver(e.runner)));let u=e.interface,p=(0,E.yT)(c.value||R,"overrides.value")===R,f="0x"===(c.data||"0x");!u.fallback||u.fallback.payable||!u.receive||f||p||(0,y.en)(!1,"cannot send data to receive or send value to non-payable fallback","overrides",a),(0,y.en)(u.fallback||f,"cannot send data to receive-only contract","overrides.data",c.data);let m=u.receive||u.fallback&&u.fallback.payable;return(0,y.en)(m||p,"cannot send value to non-payable fallback","overrides.value",c.value),(0,y.en)(u.fallback||f,"cannot send data to receive-only contract","overrides.data",c.data),c},staticCall=async function(a){let c=getRunner(e.runner,"call");(0,y.hu)(canCall(c),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let u=await populateTransaction(a);try{return await c.call(u)}catch(a){if((0,y.Hl)(a)&&a.data)throw e.interface.makeError(a.data,u);throw a}},send=async function(a){let c=e.runner;(0,y.hu)(canSend(c),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let u=await c.sendTransaction(await populateTransaction(a)),p=getProvider(e.runner);return new ContractTransactionResponse(e.interface,p,u)},estimateGas=async function(a){let c=getRunner(e.runner,"estimateGas");return(0,y.hu)(canEstimate(c),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await c.estimateGas(await populateTransaction(a))},method=async e=>await send(e);return(0,m.h)(method,{_contract:e,estimateGas,populateTransaction,send,staticCall}),method}(this):null}),new Proxy(this,{get:(e,a,c)=>{if("symbol"==typeof a||a in e||H.indexOf(a)>=0)return Reflect.get(e,a,c);try{return e.getFunction(a)}catch(e){if(!(0,y.VZ)(e,"INVALID_ARGUMENT")||"key"!==e.argument)throw e}},has:(e,a)=>"symbol"==typeof a||a in e||H.indexOf(a)>=0?Reflect.has(e,a):e.interface.hasFunction(a)})}connect(e){return new BaseContract(this.target,this.interface,e)}attach(e){return new BaseContract(e,this.interface,this.runner)}async getAddress(){return await getInternal(this).addrPromise}async getDeployedCode(){let e=getProvider(this.runner);(0,y.hu)(e,"runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"getDeployedCode"});let a=await e.getCode(await this.getAddress());return"0x"===a?null:a}async waitForDeployment(){let e=this.deploymentTransaction();if(e)return await e.wait(),this;let a=await this.getDeployedCode();if(null!=a)return this;let c=getProvider(this.runner);return(0,y.hu)(null!=c,"contract runner does not support .provider","UNSUPPORTED_OPERATION",{operation:"waitForDeployment"}),new Promise((e,a)=>{let checkCode=async()=>{try{let a=await this.getDeployedCode();if(null!=a)return e(this);c.once("block",checkCode)}catch(e){a(e)}};checkCode()})}deploymentTransaction(){return getInternal(this).deployTx}getFunction(e){"string"!=typeof e&&(e=e.format());let a=function(e,a){let getFragment=function(...c){let u=e.interface.getFunction(a,c);return(0,y.hu)(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:a,args:c}}),u},populateTransaction=async function(...a){let c=getFragment(...a),u={};if(c.inputs.length+1===a.length&&(u=await copyOverrides(a.pop())).from&&(u.from=await (0,B.ru)(u.from,getResolver(e.runner))),c.inputs.length!==a.length)throw Error("internal error: fragment inputs doesn't match arguments; should not happen");let p=await resolveArgs(e.runner,c.inputs,a);return Object.assign({},u,await (0,m.m)({to:e.getAddress(),data:e.interface.encodeFunctionData(c,p)}))},staticCall=async function(...e){let a=await staticCallResult(...e);return 1===a.length?a[0]:a},send=async function(...a){let c=e.runner;(0,y.hu)(canSend(c),"contract runner does not support sending transactions","UNSUPPORTED_OPERATION",{operation:"sendTransaction"});let u=await c.sendTransaction(await populateTransaction(...a)),p=getProvider(e.runner);return new ContractTransactionResponse(e.interface,p,u)},estimateGas=async function(...a){let c=getRunner(e.runner,"estimateGas");return(0,y.hu)(canEstimate(c),"contract runner does not support gas estimation","UNSUPPORTED_OPERATION",{operation:"estimateGas"}),await c.estimateGas(await populateTransaction(...a))},staticCallResult=async function(...a){let c=getRunner(e.runner,"call");(0,y.hu)(canCall(c),"contract runner does not support calling","UNSUPPORTED_OPERATION",{operation:"call"});let u=await populateTransaction(...a),p="0x";try{p=await c.call(u)}catch(a){if((0,y.Hl)(a)&&a.data)throw e.interface.makeError(a.data,u);throw a}let f=getFragment(...a);return e.interface.decodeFunctionResult(f,p)},method=async(...e)=>{let a=getFragment(...e);return a.constant?await staticCall(...e):await send(...e)};return(0,m.h)(method,{name:e.interface.getFunctionName(a),_contract:e,_key:a,getFragment,estimateGas,populateTransaction,send,staticCall,staticCallResult}),Object.defineProperty(method,"fragment",{configurable:!1,enumerable:!0,get:()=>{let c=e.interface.getFunction(a);return(0,y.hu)(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:a}}),c}}),method}(this,e);return a}getEvent(e){return"string"!=typeof e&&(e=e.format()),function(e,a){let getFragment=function(...c){let u=e.interface.getEvent(a,c);return(0,y.hu)(u,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:a,args:c}}),u},method=function(...a){return new PreparedTopicFilter(e,getFragment(...a),a)};return(0,m.h)(method,{name:e.interface.getEventName(a),_contract:e,_key:a,getFragment}),Object.defineProperty(method,"fragment",{configurable:!1,enumerable:!0,get:()=>{let c=e.interface.getEvent(a);return(0,y.hu)(c,"no matching fragment","UNSUPPORTED_OPERATION",{operation:"fragment",info:{key:a}}),c}}),method}(this,e)}async queryTransaction(e){throw Error("@TODO")}async queryFilter(e,a,c){null==a&&(a=0),null==c&&(c="latest");let{addr:u,addrPromise:p}=getInternal(this),f=u||await p,{fragment:m,topics:w}=await getSubInfo(this,e),E={address:f,topics:w,fromBlock:a,toBlock:c},S=getProvider(this.runner);return(0,y.hu)(S,"contract runner does not have a provider","UNSUPPORTED_OPERATION",{operation:"queryFilter"}),(await S.getLogs(E)).map(e=>{let a=m;if(null==a)try{a=this.interface.getEvent(e.topics[0])}catch(e){}if(a)try{return new EventLog(e,this.interface,a)}catch(a){return new UndecodedEventLog(e,a)}return new C.Zb(e,S)})}async on(e,a){let c=await getSub(this,"on",e);return c.listeners.push({listener:a,once:!1}),c.start(),this}async once(e,a){let c=await getSub(this,"once",e);return c.listeners.push({listener:a,once:!0}),c.start(),this}async emit(e,...a){return await emit(this,e,a,null)}async listenerCount(e){if(e){let a=await hasSub(this,e);return a?a.listeners.length:0}let{subs:a}=getInternal(this),c=0;for(let{listeners:e}of a.values())c+=e.length;return c}async listeners(e){if(e){let a=await hasSub(this,e);return a?a.listeners.map(({listener:e})=>e):[]}let{subs:a}=getInternal(this),c=[];for(let{listeners:e}of a.values())c=c.concat(e.map(({listener:e})=>e));return c}async off(e,a){let c=await hasSub(this,e);if(!c)return this;if(a){let e=c.listeners.map(({listener:e})=>e).indexOf(a);e>=0&&c.listeners.splice(e,1)}return(null==a||0===c.listeners.length)&&(c.stop(),getInternal(this).subs.delete(c.tag)),this}async removeAllListeners(e){if(e){let a=await hasSub(this,e);if(!a)return this;a.stop(),getInternal(this).subs.delete(a.tag)}else{let{subs:e}=getInternal(this);for(let{tag:a,stop:c}of e.values())c(),e.delete(a)}return this}async addListener(e,a){return await this.on(e,a)}async removeListener(e,a){return await this.off(e,a)}static buildClass(e){return class extends BaseContract{constructor(a,c=null){super(a,e,c)}}}static from(e,a,c){null==c&&(c=null);let u=new this(e,a,c);return u}};function _ContractBase(){return BaseContract}let Contract=class Contract extends _ContractBase(){}},62983:function(e,a,c){"use strict";c.d(a,{w:function(){return keccak256}});var u=c(49658),p=c(65541);let f=!1,_keccak256=function(e){return(0,u.fr)(e)},m=_keccak256;function keccak256(e){let a=(0,p.Pw)(e,"data");return(0,p.Dv)(m(a))}keccak256._=_keccak256,keccak256.lock=function(){f=!0},keccak256.register=function(e){if(f)throw TypeError("keccak256 is locked");m=e},Object.freeze(keccak256)},80437:function(e,a,c){"use strict";c.d(a,{id:function(){return id}});var u=c(62983),p=c(94178);function id(e){return(0,u.w)((0,p.Y0)(e))}},96505:function(e,a,c){"use strict";let u,p,f,m,y,w,E,S,A,k,T,O,B,C,N;c.d(a,{r6:function(){return JsonRpcProvider}});var R=c(65197),M=c(3635),U=c(87272),D=c(62983),H=c(65541),F=c(79635),L=c(52261),K=c(60533),V=c(80437);let G=new Uint8Array(32);G.fill(0);let z=BigInt(-1),q=BigInt(0),W=BigInt(1),Q=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),Y=(0,F.m9)(W,32),Z=(0,F.m9)(q,32),J={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},X=["name","version","chainId","verifyingContract","salt"];function checkString(e){return function(a){return(0,L.en)("string"==typeof a,`invalid domain value for ${JSON.stringify(e)}`,`domain.${e}`,a),a}}let $={name:checkString("name"),version:checkString("version"),chainId:function(e){let a=(0,F.yT)(e,"domain.chainId");return((0,L.en)(a>=0,"invalid chain ID","domain.chainId",e),Number.isSafeInteger(a))?Number(a):(0,F.B4)(a)},verifyingContract:function(e){try{return(0,M.K)(e).toLowerCase()}catch(e){}(0,L.en)(!1,'invalid domain value "verifyingContract"',"domain.verifyingContract",e)},salt:function(e){let a=(0,H.Pw)(e,"domain.salt");return(0,L.en)(32===a.length,'invalid domain value "salt"',"domain.salt",e),(0,H.Dv)(a)}};function getBaseEncoder(e){{let a=e.match(/^(u?)int(\d+)$/);if(a){let c=""===a[1],u=parseInt(a[2]);(0,L.en)(u%8==0&&0!==u&&u<=256&&a[2]===String(u),"invalid numeric width","type",e);let p=(0,F.sS)(Q,c?u-1:u),f=c?(p+W)*z:q;return function(a){let u=(0,F.yT)(a,"value");return(0,L.en)(u>=f&&u<=p,`value out-of-bounds for ${e}`,"value",u),(0,F.m9)(c?(0,F.$j)(u,256):u,32)}}}{let a=e.match(/^bytes(\d+)$/);if(a){let c=parseInt(a[1]);return(0,L.en)(0!==c&&c<=32&&a[1]===String(c),"invalid bytes width","type",e),function(a){let u=(0,H.Pw)(a);return(0,L.en)(u.length===c,`invalid length for ${e}`,"value",a),function(e){let a=(0,H.Pw)(e),c=a.length%32;return c?(0,H.zo)([a,G.slice(c)]):(0,H.Dv)(a)}(a)}}}switch(e){case"address":return function(e){return(0,H.U3)((0,M.K)(e),32)};case"bool":return function(e){return e?Y:Z};case"bytes":return function(e){return(0,D.w)(e)};case"string":return function(e){return(0,V.id)(e)}}return null}function encodeType(e,a){return`${e}(${a.map(({name:e,type:a})=>a+" "+e).join(",")})`}function splitArray(e){let a=e.match(/^([^\x5b]*)((\x5b\d*\x5d)*)(\x5b(\d*)\x5d)$/);return a?{base:a[1],index:a[2]+a[4],array:{base:a[1],prefix:a[1]+a[2],count:a[5]?parseInt(a[5]):-1}}:{base:e}}let TypedDataEncoder=class TypedDataEncoder{primaryType;#A;get types(){return JSON.parse(this.#A)}#k;#P;constructor(e){this.#k=new Map,this.#P=new Map;let a=new Map,c=new Map,u=new Map,p={};for(let f in Object.keys(e).forEach(f=>{p[f]=e[f].map(({name:a,type:c})=>{let{base:u,index:p}=splitArray(c);return"int"!==u||e.int||(u="int256"),"uint"!==u||e.uint||(u="uint256"),{name:a,type:u+(p||"")}}),a.set(f,new Set),c.set(f,[]),u.set(f,new Set)}),this.#A=JSON.stringify(p),p){let u=new Set;for(let m of p[f]){(0,L.en)(!u.has(m.name),`duplicate variable name ${JSON.stringify(m.name)} in ${JSON.stringify(f)}`,"types",e),u.add(m.name);let p=splitArray(m.type).base;(0,L.en)(p!==f,`circular type reference to ${JSON.stringify(p)}`,"types",e);let y=getBaseEncoder(p);y||((0,L.en)(c.has(p),`unknown type ${JSON.stringify(p)}`,"types",e),c.get(p).push(f),a.get(f).add(p))}}let f=Array.from(c.keys()).filter(e=>0===c.get(e).length);for(let[m,y]of((0,L.en)(0!==f.length,"missing primary type","types",e),(0,L.en)(1===f.length,`ambiguous primary types or unused types: ${f.map(e=>JSON.stringify(e)).join(", ")}`,"types",e),(0,K.h)(this,{primaryType:f[0]}),!function checkCircular(p,f){for(let m of((0,L.en)(!f.has(p),`circular type reference to ${JSON.stringify(p)}`,"types",e),f.add(p),a.get(p)))if(c.has(m))for(let e of(checkCircular(m,f),f))u.get(e).add(m);f.delete(p)}(this.primaryType,new Set),u)){let e=Array.from(y);e.sort(),this.#k.set(m,encodeType(m,p[m])+e.map(e=>encodeType(e,p[e])).join(""))}}getEncoder(e){let a=this.#P.get(e);return a||(a=this.#I(e),this.#P.set(e,a)),a}#I(e){{let a=getBaseEncoder(e);if(a)return a}let a=splitArray(e).array;if(a){let e=a.prefix,c=this.getEncoder(e);return u=>{(0,L.en)(-1===a.count||a.count===u.length,`array length mismatch; expected length ${a.count}`,"value",u);let p=u.map(c);return this.#k.has(e)&&(p=p.map(D.w)),(0,D.w)((0,H.zo)(p))}}let c=this.types[e];if(c){let a=(0,V.id)(this.#k.get(e));return e=>{let u=c.map(({name:a,type:c})=>{let u=this.getEncoder(c)(e[a]);return this.#k.has(c)?(0,D.w)(u):u});return u.unshift(a),(0,H.zo)(u)}}(0,L.en)(!1,`unknown type: ${e}`,"type",e)}encodeType(e){let a=this.#k.get(e);return(0,L.en)(a,`unknown type: ${JSON.stringify(e)}`,"name",e),a}encodeData(e,a){return this.getEncoder(e)(a)}hashStruct(e,a){return(0,D.w)(this.encodeData(e,a))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,a,c){{let u=getBaseEncoder(e);if(u)return c(e,a)}let u=splitArray(e).array;if(u)return(0,L.en)(-1===u.count||u.count===a.length,`array length mismatch; expected length ${u.count}`,"value",a),a.map(e=>this._visit(u.prefix,e,c));let p=this.types[e];if(p)return p.reduce((e,{name:u,type:p})=>(e[u]=this._visit(p,a[u],c),e),{});(0,L.en)(!1,`unknown type: ${e}`,"type",e)}visit(e,a){return this._visit(this.primaryType,e,a)}static from(e){return new TypedDataEncoder(e)}static getPrimaryType(e){return TypedDataEncoder.from(e).primaryType}static hashStruct(e,a,c){return TypedDataEncoder.from(a).hashStruct(e,c)}static hashDomain(e){let a=[];for(let c in e){if(null==e[c])continue;let u=J[c];(0,L.en)(u,`invalid typed-data domain key: ${JSON.stringify(c)}`,"domain",e),a.push({name:c,type:u})}return a.sort((e,a)=>X.indexOf(e.name)-X.indexOf(a.name)),TypedDataEncoder.hashStruct("EIP712Domain",{EIP712Domain:a},e)}static encode(e,a,c){return(0,H.zo)(["0x1901",TypedDataEncoder.hashDomain(e),TypedDataEncoder.from(a).hash(c)])}static hash(e,a,c){return(0,D.w)(TypedDataEncoder.encode(e,a,c))}static async resolveNames(e,a,c,u){for(let a in e=Object.assign({},e))null==e[a]&&delete e[a];let p={};e.verifyingContract&&!(0,H.A7)(e.verifyingContract,20)&&(p[e.verifyingContract]="0x");let f=TypedDataEncoder.from(a);for(let e in f.visit(c,(e,a)=>("address"!==e||(0,H.A7)(a,20)||(p[a]="0x"),a)),p)p[e]=await u(e);return e.verifyingContract&&p[e.verifyingContract]&&(e.verifyingContract=p[e.verifyingContract]),{domain:e,value:c=f.visit(c,(e,a)=>"address"===e&&p[a]?p[a]:a)}}static getPayload(e,a,c){TypedDataEncoder.hashDomain(e);let u={},p=[];X.forEach(a=>{let c=e[a];null!=c&&(u[a]=$[a](c),p.push({name:a,type:J[a]}))});let f=TypedDataEncoder.from(a);a=f.types;let m=Object.assign({},a);return(0,L.en)(null==m.EIP712Domain,"types must not contain EIP712Domain type","types.EIP712Domain",a),m.EIP712Domain=p,f.encode(c),{types:m,domain:u,primaryType:f.primaryType,message:f.visit(c,(e,a)=>{if(e.match(/^bytes(\d*)/))return(0,H.Dv)((0,H.Pw)(a));if(e.match(/^u?int/))return(0,F.yT)(a).toString();switch(e){case"address":return a.toLowerCase();case"bool":return!!a;case"string":return(0,L.en)("string"==typeof a,"invalid string","value",a),a}(0,L.en)(!1,"unsupported type","type",e)})}}};var tt=c(12131),te=c(94178);function createGetUrl(e){return async function(e,a){let c;(0,L.hu)(null==a||!a.cancelled,"request cancelled before sending","CANCELLED");let u=e.url.split(":")[0].toLowerCase();(0,L.hu)("http"===u||"https"===u,`unsupported protocol ${u}`,"UNSUPPORTED_OPERATION",{info:{protocol:u},operation:"request"}),(0,L.hu)("https"===u||!e.credentials||e.allowInsecureAuthentication,"insecure authorized connections unsupported","UNSUPPORTED_OPERATION",{operation:"request"});let p=null,f=new AbortController,m=setTimeout(()=>{p=(0,L.wf)("request timeout","TIMEOUT"),f.abort()},e.timeout);a&&a.addListener(()=>{p=(0,L.wf)("request cancelled","CANCELLED"),f.abort()});let y={method:e.method,headers:new Headers(Array.from(e)),body:e.body||void 0,signal:f.signal};try{c=await fetch(e.url,y)}catch(e){if(clearTimeout(m),p)throw p;throw e}clearTimeout(m);let w={};c.headers.forEach((e,a)=>{w[a.toLowerCase()]=e});let E=await c.arrayBuffer(),S=null==E?null:new Uint8Array(E);return{statusCode:c.status,statusMessage:c.statusText,headers:w,body:S}}}createGetUrl({});let tr=createGetUrl(),tn=RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),ti=RegExp("^ipfs://(ipfs/)?(.*)$","i"),ts=!1;async function dataGatewayFunc(e,a){try{var c;let a=e.match(tn);if(!a)throw Error("invalid data");return new FetchResponse(200,"OK",{"content-type":a[1]||"text/plain"},a[2]?function(e){e=atob(e);let a=new Uint8Array(e.length);for(let c=0;c<e.length;c++)a[c]=e.charCodeAt(c);return(0,H.Pw)(a)}(a[3]):(c=a[3],(0,te.Y0)(c.replace(/%([0-9a-f][0-9a-f])/gi,(e,a)=>String.fromCharCode(parseInt(a,16))))))}catch(a){return new FetchResponse(599,"BAD REQUEST (invalid data: URI)",{},null,new FetchRequest(e))}}function getIpfsGatewayFunc(e){return async function(a,c){try{let c=a.match(ti);if(!c)throw Error("invalid link");return new FetchRequest(`${e}${c[2]}`)}catch(e){return new FetchResponse(599,"BAD REQUEST (invalid IPFS URI)",{},null,new FetchRequest(a))}}}let to={data:dataGatewayFunc,ipfs:getIpfsGatewayFunc("https://gateway.ipfs.io/ipfs/")},ta=new WeakMap;let FetchCancelSignal=class FetchCancelSignal{#T;#_;constructor(e){this.#T=[],this.#_=!1,ta.set(e,()=>{if(!this.#_){for(let e of(this.#_=!0,this.#T))setTimeout(()=>{e()},0);this.#T=[]}})}addListener(e){(0,L.hu)(!this.#_,"singal already cancelled","UNSUPPORTED_OPERATION",{operation:"fetchCancelSignal.addCancelListener"}),this.#T.push(e)}get cancelled(){return this.#_}checkSignal(){(0,L.hu)(!this.cancelled,"cancelled","CANCELLED",{})}};function checkSignal(e){if(null==e)throw Error("missing signal; should not happen");return e.checkSignal(),e}let FetchRequest=class FetchRequest{#O;#B;#C;#x;#N;#R;#M;#U;#D;#H;#F;#L;#K;#j;#V;get url(){return this.#R}set url(e){this.#R=String(e)}get body(){return null==this.#M?null:new Uint8Array(this.#M)}set body(e){if(null==e)this.#M=void 0,this.#U=void 0;else if("string"==typeof e)this.#M=(0,te.Y0)(e),this.#U="text/plain";else if(e instanceof Uint8Array)this.#M=e,this.#U="application/octet-stream";else if("object"==typeof e)this.#M=(0,te.Y0)(JSON.stringify(e)),this.#U="application/json";else throw Error("invalid body")}hasBody(){return null!=this.#M}get method(){return this.#x?this.#x:this.hasBody()?"POST":"GET"}set method(e){null==e&&(e=""),this.#x=String(e).toUpperCase()}get headers(){let e=Object.assign({},this.#C);return this.#D&&(e.authorization=`Basic ${function(e){let a=(0,H.Pw)(e),c="";for(let e=0;e<a.length;e++)c+=String.fromCharCode(a[e]);return btoa(c)}((0,te.Y0)(this.#D))}`),this.allowGzip&&(e["accept-encoding"]="gzip"),null==e["content-type"]&&this.#U&&(e["content-type"]=this.#U),this.body&&(e["content-length"]=String(this.body.length)),e}getHeader(e){return this.headers[e.toLowerCase()]}setHeader(e,a){this.#C[String(e).toLowerCase()]=String(a)}clearHeaders(){this.#C={}}[Symbol.iterator](){let e=this.headers,a=Object.keys(e),c=0;return{next:()=>{if(c<a.length){let u=a[c++];return{value:[u,e[u]],done:!1}}return{value:void 0,done:!0}}}}get credentials(){return this.#D||null}setCredentials(e,a){(0,L.en)(!e.match(/:/),"invalid basic authentication username","username","[REDACTED]"),this.#D=`${e}:${a}`}get allowGzip(){return this.#B}set allowGzip(e){this.#B=!!e}get allowInsecureAuthentication(){return!!this.#O}set allowInsecureAuthentication(e){this.#O=!!e}get timeout(){return this.#N}set timeout(e){(0,L.en)(e>=0,"timeout must be non-zero","timeout",e),this.#N=e}get preflightFunc(){return this.#H||null}set preflightFunc(e){this.#H=e}get processFunc(){return this.#F||null}set processFunc(e){this.#F=e}get retryFunc(){return this.#L||null}set retryFunc(e){this.#L=e}get getUrlFunc(){return this.#V||tr}set getUrlFunc(e){this.#V=e}constructor(e){this.#R=String(e),this.#O=!1,this.#B=!0,this.#C={},this.#x="",this.#N=3e5,this.#j={slotInterval:250,maxAttempts:12},this.#V=null}toString(){return`<FetchRequest method=${JSON.stringify(this.method)} url=${JSON.stringify(this.url)} headers=${JSON.stringify(this.headers)} body=${this.#M?(0,H.Dv)(this.#M):"null"}>`}setThrottleParams(e){null!=e.slotInterval&&(this.#j.slotInterval=e.slotInterval),null!=e.maxAttempts&&(this.#j.maxAttempts=e.maxAttempts)}async #G(e,a,c,u,p){if(e>=this.#j.maxAttempts)return p.makeServerError("exceeded maximum retry limit");(0,L.hu)(getTime()<=a,"timeout","TIMEOUT",{operation:"request.send",reason:"timeout",request:u}),c>0&&await new Promise(e=>setTimeout(e,c));let f=this.clone(),m=(f.url.split(":")[0]||"").toLowerCase();if(m in to){let e=await to[m](f.url,checkSignal(u.#K));if(e instanceof FetchResponse){let a=e;if(this.processFunc){checkSignal(u.#K);try{a=await this.processFunc(f,a)}catch(e){(null==e.throttle||"number"!=typeof e.stall)&&a.makeServerError("error in post-processing function",e).assertOk()}}return a}f=e}this.preflightFunc&&(f=await this.preflightFunc(f));let y=await this.getUrlFunc(f,checkSignal(u.#K)),w=new FetchResponse(y.statusCode,y.statusMessage,y.headers,y.body,u);if(301===w.statusCode||302===w.statusCode){try{let c=w.headers.location||"";return f.redirect(c).#G(e+1,a,0,u,w)}catch(e){}return w}if(429===w.statusCode&&(null==this.retryFunc||await this.retryFunc(f,w,e))){let c=w.headers["retry-after"],p=this.#j.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return"string"==typeof c&&c.match(/^[1-9][0-9]*$/)&&(p=parseInt(c)),f.clone().#G(e+1,a,p,u,w)}if(this.processFunc){checkSignal(u.#K);try{w=await this.processFunc(f,w)}catch(p){(null==p.throttle||"number"!=typeof p.stall)&&w.makeServerError("error in post-processing function",p).assertOk();let c=this.#j.slotInterval*Math.trunc(Math.random()*Math.pow(2,e));return p.stall>=0&&(c=p.stall),f.clone().#G(e+1,a,c,u,w)}}return w}send(){return(0,L.hu)(null==this.#K,"request already sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.send"}),this.#K=new FetchCancelSignal(this),this.#G(0,getTime()+this.timeout,0,this,new FetchResponse(0,"",{},null,this))}cancel(){(0,L.hu)(null!=this.#K,"request has not been sent","UNSUPPORTED_OPERATION",{operation:"fetchRequest.cancel"});let e=ta.get(this);if(!e)throw Error("missing signal; should not happen");e()}redirect(e){let a=this.url.split(":")[0].toLowerCase(),c=e.split(":")[0].toLowerCase();(0,L.hu)("GET"===this.method&&("https"!==a||"http"!==c)&&e.match(/^https?:/),"unsupported redirect","UNSUPPORTED_OPERATION",{operation:`redirect(${this.method} ${JSON.stringify(this.url)} => ${JSON.stringify(e)})`});let u=new FetchRequest(e);return u.method="GET",u.allowGzip=this.allowGzip,u.timeout=this.timeout,u.#C=Object.assign({},this.#C),this.#M&&(u.#M=new Uint8Array(this.#M)),u.#U=this.#U,u}clone(){let e=new FetchRequest(this.url);return e.#x=this.#x,this.#M&&(e.#M=this.#M),e.#U=this.#U,e.#C=Object.assign({},this.#C),e.#D=this.#D,this.allowGzip&&(e.allowGzip=!0),e.timeout=this.timeout,this.allowInsecureAuthentication&&(e.allowInsecureAuthentication=!0),e.#H=this.#H,e.#F=this.#F,e.#L=this.#L,e.#j=Object.assign({},this.#j),e.#V=this.#V,e}static lockConfig(){ts=!0}static getGateway(e){return to[e.toLowerCase()]||null}static registerGateway(e,a){if("http"===(e=e.toLowerCase())||"https"===e)throw Error(`cannot intercept ${e}; use registerGetUrl`);if(ts)throw Error("gateways locked");to[e]=a}static registerGetUrl(e){if(ts)throw Error("gateways locked");tr=e}static createGetUrlFunc(e){return createGetUrl(e)}static createDataGateway(){return dataGatewayFunc}static createIpfsGatewayFunc(e){return getIpfsGatewayFunc(e)}};let FetchResponse=class FetchResponse{#z;#q;#C;#M;#W;#Q;toString(){return`<FetchResponse status=${this.statusCode} body=${this.#M?(0,H.Dv)(this.#M):"null"}>`}get statusCode(){return this.#z}get statusMessage(){return this.#q}get headers(){return Object.assign({},this.#C)}get body(){return null==this.#M?null:new Uint8Array(this.#M)}get bodyText(){try{return null==this.#M?"":(0,te.ZN)(this.#M)}catch(e){(0,L.hu)(!1,"response body is not valid UTF-8 data","UNSUPPORTED_OPERATION",{operation:"bodyText",info:{response:this}})}}get bodyJson(){try{return JSON.parse(this.bodyText)}catch(e){(0,L.hu)(!1,"response body is not valid JSON","UNSUPPORTED_OPERATION",{operation:"bodyJson",info:{response:this}})}}[Symbol.iterator](){let e=this.headers,a=Object.keys(e),c=0;return{next:()=>{if(c<a.length){let u=a[c++];return{value:[u,e[u]],done:!1}}return{value:void 0,done:!0}}}}constructor(e,a,c,u,p){this.#z=e,this.#q=a,this.#C=Object.keys(c).reduce((e,a)=>(e[a.toLowerCase()]=String(c[a]),e),{}),this.#M=null==u?null:new Uint8Array(u),this.#W=p||null,this.#Q={message:""}}makeServerError(e,a){let c;e?c=`CLIENT ESCALATED SERVER ERROR (${this.statusCode} ${this.statusMessage}; ${e})`:(e=`${this.statusCode} ${this.statusMessage}`,c=`CLIENT ESCALATED SERVER ERROR (${e})`);let u=new FetchResponse(599,c,this.headers,this.body,this.#W||void 0);return u.#Q={message:e,error:a},u}throwThrottleError(e,a){null==a?a=-1:(0,L.en)(Number.isInteger(a)&&a>=0,"invalid stall timeout","stall",a);let c=Error(e||"throttling requests");throw(0,K.h)(c,{stall:a,throttle:!0}),c}getHeader(e){return this.headers[e.toLowerCase()]}hasBody(){return null!=this.#M}get request(){return this.#W}ok(){return""===this.#Q.message&&this.statusCode>=200&&this.statusCode<300}assertOk(){if(this.ok())return;let{message:e,error:a}=this.#Q;""===e&&(e=`server response ${this.statusCode} ${this.statusMessage}`);let c=null;this.request&&(c=this.request.url);let u=null;try{this.#M&&(u=(0,te.ZN)(this.#M))}catch(e){}(0,L.hu)(!1,e,"SERVER_ERROR",{request:this.request||"unknown request",response:this,error:a,info:{requestUrl:c,responseBody:u,responseStatus:`${this.statusCode} ${this.statusMessage}`}})}};function getTime(){return new Date().getTime()}let tc="0x0000000000000000000000000000000000000000";var tu=c(57415);let tl=new Map([[8217,"apostrophe"],[8260,"fraction slash"],[12539,"middle dot"]]);function read_compressed_payload(e){var a;let c;return a=function(e){let a=0;function u16(){return e[a++]<<8|e[a++]}let c=u16(),u=1,p=[0,1];for(let e=1;e<c;e++)p.push(u+=u16());let f=u16(),m=a;a+=f;let y=0,w=0;function read_bit(){return 0==y&&(w=w<<8|e[a++],y=8),w>>--y&1}let E=2147483648-1,S=0;for(let e=0;e<31;e++)S=S<<1|read_bit();let A=[],k=0,T=2147483648;for(;;){let e=Math.floor(((S-k+1)*u-1)/T),a=0,f=c;for(;f-a>1;){let c=a+f>>>1;e<p[c]?f=c:a=c}if(0==a)break;A.push(a);let m=k+Math.floor(T*p[a]/u),y=k+Math.floor(T*p[a+1]/u)-1;for(;((m^y)&1073741824)==0;)S=S<<1&E|read_bit(),m=m<<1&E,y=y<<1&E|1;for(;m&~y&536870912;)S=1073741824&S|S<<1&E>>>1|read_bit(),m=m<<1^1073741824,y=(1073741824^y)<<1|1073741825;k=m,T=1+y-m}let O=c-4;return A.map(a=>{switch(a-O){case 3:return O+65792+(e[m++]<<16|e[m++]<<8|e[m++]);case 2:return O+256+(e[m++]<<8|e[m++]);case 1:return O+e[m++];default:return a-1}})}(function(e){let a=[];[..."ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"].forEach((e,c)=>a[e.charCodeAt(0)]=c);let c=e.length,u=new Uint8Array(6*c>>3);for(let p=0,f=0,m=0,y=0;p<c;p++)y=y<<6|a[e.charCodeAt(p)],(m+=6)>=8&&(u[f++]=y>>(m-=8));return u}(e)),c=0,()=>a[c++]}function read_sorted(e,a=0){let c=[];for(;;){let u=e(),p=e();if(!p)break;a+=u;for(let e=0;e<p;e++)c.push(a+e);a+=p+1}return c}function read_sorted_arrays(e){return read_array_while(()=>{let a=read_sorted(e);if(a.length)return a})}function read_mapped(e){let a=[];for(;;){let c=e();if(0==c)break;a.push(function(e,a){let c=1+a(),u=a(),p=read_array_while(a);return read_transposed(p.length,1+e,a).flatMap((e,a)=>{let[f,...m]=e;return Array(p[a]).fill().map((e,a)=>{let p=a*u;return[f+a*c,m.map(e=>e+p)]})})}(c,e))}for(;;){let c=e()-1;if(c<0)break;a.push(read_transposed(1+e(),1+c,e).map(e=>[e[0],e.slice(1)]))}return a.flat()}function read_array_while(e){let a=[];for(;;){let c=e(a.length);if(!c)break;a.push(c)}return a}function read_transposed(e,a,c){let u=Array(e).fill().map(()=>[]);for(let p=0;p<a;p++)(function(e,a){let c=Array(e);for(let p=0,f=0;p<e;p++){var u;c[p]=f+=1&(u=a())?~u>>1:u>>1}return c})(e,c).forEach((e,a)=>u[a].push(e));return u}function quote_cp(e){return`{${e.toString(16).toUpperCase().padStart(2,"0")}}`}function str_from_cps(e){let a=e.length;if(a<4096)return String.fromCodePoint(...e);let c=[];for(let u=0;u<a;)c.push(String.fromCodePoint(...e.slice(u,u+=4096)));return c.join("")}function compare_arrays(e,a){let c=e.length,u=c-a.length;for(let p=0;0==u&&p<c;p++)u=e[p]-a[p];return u}function unpack_cc(e){return e>>24&255}function unpack_cp(e){return 16777215&e}function is_hangul(e){return e>=44032&&e<55204}function decomposed(e){u||function(){let e=read_compressed_payload("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");for(let[a,c]of(u=new Map(read_sorted_arrays(e).flatMap((e,a)=>e.map(e=>[e,a+1<<24]))),p=new Set(read_sorted(e)),f=new Map,m=new Map,read_mapped(e))){if(!p.has(a)&&2==c.length){let[e,u]=c,p=m.get(e);p||(p=new Map,m.set(e,p)),p.set(u,a)}f.set(a,c.reverse())}}();let a=[],c=[],y=!1;function add(e){let c=u.get(e);c&&(y=!0,e|=c),a.push(e)}for(let u of e)for(;;){if(u<128)a.push(u);else if(is_hangul(u)){let e=u-44032,a=e/588|0,c=e%588/28|0,p=e%28;add(4352+a),add(4449+c),p>0&&add(4519+p)}else{let e=f.get(u);e?c.push(...e):add(u)}if(!c.length)break;u=c.pop()}if(y&&a.length>1){let e=unpack_cc(a[0]);for(let c=1;c<a.length;c++){let u=unpack_cc(a[c]);if(0==u||e<=u){e=u;continue}let p=c-1;for(;;){let c=a[p+1];if(a[p+1]=a[p],a[p]=c,!p||(e=unpack_cc(a[--p]))<=u)break}e=unpack_cc(a[c])}}return a}function nfc(e){return function(e){let a=[],c=[],u=-1,p=0;for(let f of e){let e=unpack_cc(f),y=unpack_cp(f);if(-1==u)0==e?u=y:a.push(y);else if(p>0&&p>=e)0==e?(a.push(u,...c),c.length=0,u=y):c.push(y),p=e;else{let f=function(e,a){if(e>=4352&&e<4371&&a>=4449&&a<4470)return 44032+(e-4352)*588+(a-4449)*28;if(is_hangul(e)&&a>4519&&a<4547&&(e-44032)%28==0)return e+(a-4519);{let c=m.get(e);return c&&(c=c.get(a))?c:-1}}(u,y);f>=0?u=f:0==p&&0==e?(a.push(u),u=y):(c.push(y),p=e)}}return u>=0&&a.push(u,...c),a}(decomposed(e))}let Array_from=e=>Array.from(e);function group_has_cp(e,a){return e.P.has(a)||e.Q.has(a)}let Emoji=class Emoji extends Array{get is_emoji(){return!0}};function init(){let e,a;if(y)return;let c=read_compressed_payload("AEEUdwmgDS8BxQKKAP4BOgDjATAAngDUAIMAoABoAOAAagCOAEQAhABMAHIAOwA9ACsANgAmAGIAHgAuACgAJwAXAC0AGgAjAB8ALwAUACkAEgAeAAkAGwARABkAFgA5ACgALQArADcAFQApABAAHgAiABAAGgAeABMAGAUhBe8BFxREN8sF2wC5AK5HAW8ArQkDzQCuhzc3NzcBP68NEfMABQdHBuw5BV8FYAA9MzkI9r4ZBg7QyQAWA9CeOwLNCjcCjqkChuA/lm+RAsXTAoP6ASfnEQDytQFJAjWVCkeXAOsA6godAB/cwdAUE0WlBCN/AQUCQRjFD/MRBjHxDQSJbw0jBzUAswBxme+tnIcAYwabAysG8QAjAEMMmxcDqgPKQyDXCMMxA7kUQwD3NXOrAKmFIAAfBC0D3x4BJQDBGdUFAhEgVD8JnwmQJiNWYUzrg0oAGwAUAB0AFnNcACkAFgBP9h3gPfsDOWDKneY2ChglX1UDYD30ABsAFAAdABZzIGRAnwDD8wAjAEEMzRbDqgMB2sAFYwXqAtCnAsS4AwpUJKRtFHsadUz9AMMVbwLpABM1NJEX0ZkCgYMBEyMAxRVvAukAEzUBUFAtmUwSAy4DBTER33EftQHfSwB5MxJ/AjkWKQLzL8E/cwBB6QH9LQDPDtO9ASNriQC5DQANAwCK21EFI91zHwCoL9kBqQcHBwcHKzUDowBvAQohPvU3fAQgHwCyAc8CKQMA5zMSezr7ULgFmDp/LzVQBgEGAi8FYQVgt8AFcTtlQhpCWEmfe5tmZ6IAExsDzQ8t+X8rBKtTAltbAn0jsy8Bl6utPWMDTR8Ei2kRANkDBrNHNysDBzECQWUAcwFpJ3kAiyUhAJ0BUb8AL3EfAbfNAz81KUsFWwF3YQZtAm0A+VEfAzEJDQBRSQCzAQBlAHsAM70GD/v3IZWHBwARKQAxALsjTwHZAeMPEzmXgIHwABIAGQA8AEUAQDt3gdvIEGcQZAkGTRFMdEIVEwK0D64L7REdDNkq09PgADSxB/MDWwfzA1sDWwfzB/MDWwfzA1sDWwNbA1scEvAi28gQZw9QBHUFlgWTBN4IiyZREYkHMAjaVBV0JhxPA00BBCMtSSQ7mzMTJUpMFE0LCAQ2SmyvfUADTzGzVP2QqgPTMlc5dAkGHnkSqAAyD3skNb1OhnpPcagKU0+2tYdJak5vAsY6sEAACikJm2/Dd1YGRRAfJ6kQ+ww3AbkBPw3xS9wE9QY/BM0fgRkdD9GVoAipLeEM8SbnLqWAXiP5KocF8Uv4POELUVFsD10LaQnnOmeBUgMlAREijwrhDT0IcRD3Cs1vDekRSQc9A9lJngCpBwULFR05FbkmFGKwCw05ewb/GvoLkyazEy17AAXXGiUGUQEtGwMA0y7rhbRaNVwgT2MGBwspI8sUrFAkDSlAu3hMGh8HGSWtApVDdEqLUToelyH6PEENai4XUYAH+TwJGVMLhTyiRq9FEhHWPpE9TCJNTDAEOYMsMyePCdMPiQy9fHYBXQklCbUMdRM1ERs3yQg9Bx0xlygnGQglRplgngT7owP3E9UDDwVDCUUHFwO5HDETMhUtBRGBKNsC9zbZLrcCk1aEARsFzw8pH+MQVEfkDu0InwJpA4cl7wAxFSUAGyKfCEdnAGOP3FMJLs8Iy2pwI3gDaxTrZRF3B5UOWwerHDcVwxzlcMxeD4YMKKezCV8BeQmdAWME5wgNNV+MpCBFZ1eLXBifIGVBQ14AAjUMaRWjRMGHfAKPD28SHwE5AXcHPQ0FAnsR8RFvEJkI74YINbkz/DopBFMhhyAVCisDU2zSCysm/Qz8bQGnEmYDEDRBd/Jnr2C6KBgBBx0yyUFkIfULlk/RDKAaxRhGVDIZ6AfDA/ca9yfuQVsGAwOnBxc6UTPyBMELbQiPCUMATQ6nGwfbGG4KdYzUATWPAbudA1uVhwJzkwY7Bw8Aaw+LBX3pACECqwinAAkA0wNbAD0CsQehAB0AiUUBQQMrMwEl6QKTA5cINc8BmTMB9y0EH8cMGQD7O25OAsO1AoBuZqYF4VwCkgJNOQFRKQQJUktVA7N15QDfAE8GF+NLARmvTs8e50cB43MvAMsA/wAJOQcJRQHRAfdxALsBYws1Caa3uQFR7S0AhwAZbwHbAo0A4QA5AIP1AVcAUQVd/QXXAlNNARU1HC9bZQG/AyMBNwERAH0Gz5GpzQsjBHEH1wIQHxXlAu8yB7kFAyLjE9FCyQK94lkAMhoKPAqrCqpgX2Q3CjV2PVQAEh+sPss/UgVVO1c7XDtXO1w7VztcO1c7XDtXO1wDm8Pmw+YKcF9JYe8Mqg3YRMw6TRPfYFVgNhPMLbsUxRXSJVoZQRrAJwkl6FUNDwgt12Y0CDA0eRfAAEMpbINFY4oeNApPHOtTlVT8LR8AtUumM7MNsBsZREQFS3XxYi4WEgomAmSFAmJGX1GzAV83JAKh+wJonAJmDQKfiDgfDwJmPwJmKgRyBIMDfxcDfpY5Cjl7GzmGOicnAmwhAjI6OA4CbcsCbbLzjgM3a0kvAWsA4gDlAE4JB5wMkQECD8YAEbkCdzMCdqZDAnlPRwJ4viFg30WyRvcCfEMCeswCfQ0CfPRIBEiBZygALxlJXEpfGRtK0ALRBQLQ0EsrA4hTA4fqRMmRNgLypV0HAwOyS9JMMSkH001QTbMCi0MCitzFHwshR2sJuwKOOwKOYESbhQKO3QKOYHxRuFM5AQ5S2FSJApP/ApMQAO0AIFUiVbNV1AosHymZijLleGpFPz0Cl6MC77ZYJawAXSkClpMCloCgAK1ZsFoNhVEAPwKWuQKWUlxIXNUCmc8CmWhczl0LHQKcnznGOqECnBoCn58CnryOACETNS4TAp31Ap6WALlBYThh8wKe1wKgcgGtAp6jIwKeUqljzGQrKS8CJ7MCJoICoP8CoFDbAqYzAqXSAqgDAIECp/ZogGi1AAdNaiBq1QKs5wKssgKtawKtBgJXIQJV4AKx5dsDH1JsmwKywRECsuwbbORtZ21MYwMl0QK2YD9DbpQDKUkCuGICuUsZArkue3A6cOUCvR0DLbYDMhUCvoxyBgMzdQK+HnMmc1MCw88CwwhzhnRPOUl05AM8qwEDPJ4DPcMCxYACxksCxhSNAshtVQLISALJUwLJMgJkoQLd1nh9ZXiyeSlL1AMYp2cGAmH4GfeVKHsPXpZevxUCz28Cz3AzT1fW9xejAMqxAs93AS3uA04Wfk8JAtwrAtuOAtJTA1JgA1NjAQUDVZCAjUMEzxrxZEl5A4LSg5EC2ssC2eKEFIRNp0ADhqkAMwNkEoZ1Xf0AWQLfaQLevHd7AuIz7RgB8zQrAfSfAfLWiwLr9wLpdH0DAur9AuroAP1LAb0C7o0C66CWrpcHAu5DA4XkmH1w5HGlAvMHAG0DjhqZlwL3FwORcgOSiwL3nAL53QL4apogmq+/O5siA52HAv7+AR8APZ8gAZ+3AwWRA6ZuA6bdANXJAwZuoYyiCQ0DDE0BEwEjB3EGZb1rCQC/BG/DFY8etxEAG3k9ACcDNxJRA42DAWcrJQCM8wAlAOanC6OVCLsGI6fJBgCvBRnDBvElRUYFFoAFcD9GSDNCKUK8X3kZX8QAls0FOgCQVCGbwTsuYDoZutcONxjOGJHJ/gVfBWAFXwVgBWsFYAVfBWAFXwVgBV8FYAVfBWBOHQjfjW8KCgoKbF7xMwTRA7kGN8PDAMMEr8MA70gxFroFTj5xPnhCR0K+X30/X/AAWBkzswCNBsxzzASm70aCRS4rDDMeLz49fnXfcsH5GcoscQFz13Y4HwVnBXLJycnACNdRYwgICAqEXoWTxgA7P4kACxbZBu21Kw0AjMsTAwkVAOVtJUUsJ1JCuULESUArXy9gPi9AKwnJRQYKTD9LPoA+iT54PnkCkULEUUpDX9NWV3JVEjQAc1w3A3IBE3YnX+g7QiMJb6MKaiszRCUuQrNCxDPMCcwEX9EWJzYREBEEBwIHKn6l33JCNVIfybPJtAltydPUCmhBZw/tEKsZAJOVJU1CLRuxbUHOQAo7P0s+eEJHHA8SJVRPdGM0NVrpvBoKhfUlM0JHHGUQUhEWO1xLSj8MO0ucNAqJIzVCRxv9EFsqKyA4OQgNj2nwZgp5ZNFgE2A1K3YHS2AhQQojJmC7DgpzGG1WYFUZCQYHZO9gHWCdYIVgu2BTYJlwFh8GvRbcXbG8YgtDHrMBwzPVyQonHQgkCyYBgQJ0Ajc4nVqIAwGSCsBPIgDsK3SWEtIVBa5N8gGjAo+kVwVIZwD/AEUSCDweX4ITrRQsJ8K3TwBXFDwEAB0TvzVcAtoTS20RIwDgVgZ9BBImYgA5AL4Coi8LFnezOkCnIQFjAY4KBAPh9RcGsgZSBsEAJctdsWIRu2kTkQstRw7DAcMBKgpPBGIGMDAwKCYnKTQaLg4AKRSVAFwCdl+YUZ0JdicFD3lPAdt1F9ZZKCGxuE3yBxkFVGcA/wBFEgiCBwAOLHQSjxOtQDg1z7deFRMAZ8QTAGtKb1ApIiPHADkAvgKiLy1DFtYCmBiDAlDDWNB0eo7fpaMO/aEVRRv0ATEQZBIODyMEAc8JQhCbDRgzFD4TAEMAu9YBCgCsAOkAm5I3ABwAYxvONnR+MhXJAxgKQyxL2+kkJhMbhQKDBMkSsvF0AD9BNQ6uQC7WqSQHwxEAEEIu1hkhAH2z4iQPwyJPHNWpdyYBRSpnJALzoBAEVPPsH20MxA0CCEQKRgAFyAtFAlMNwwjEDUQJRArELtapMg7DDZgJIw+TGukEIwvDFkMAqAtDEMMMBhioe+QAO3MMRAACrgnEBSPY9Q0FDnbSBoMAB8MSYxkSxAEJAPIJAAB8FWMOFtMc/HcXwxhDAC7DAvOowwAewwJdKDKHAAHDAALrFUQVwwAbwyvzpWMWv8wA/ABpAy++bcYDUKPD0KhDCwKmJ1MAAmMA5+UZwxAagwipBRL/eADfw6fDGOMCGsOjk3l6BwOpo4sAEsMOGxMAA5sAbcMOAAvDp0MJGkMDwgipnNIPAwfIqUMGAOGDAAPzABXDAAcDAAnDAGmTABrDAA7DChjDjnEWAwABYwAOcwAuUyYABsMAF8MIKQANUgC6wy4AA8MADqMq8wCyYgAcIwAB8wqpAAXOCx0V4wAHowBCwwEKAGnDAAuDAB3DAAjDCakABdIAbqcZ3QCZCCkABdIAAAFDAAfjAB2jCCkABqIACYMAGzMAbSMA5sOIAAhjAAhDABTDBAkpAAbSAOOTAAlDC6kOzPtnAAdDAG6kQFAATwAKwwwAA0MACbUDPwAHIwAZgwACE6cDAAojAApDAAoDp/MGwwAJIwADEwAQQwgAFEMAEXMAD5MADfMADcMAGRMOFiMAFUMAbqMWuwHDAMIAE0MLAGkzEgDhUwACQwAEWgAXgwUjAAbYABjDBSYBgzBaAEFNALcQBxUMegAwMngBrA0IZgJ0KxQHBREPd1N0ZzKRJwaIHAZqNT4DqQq8BwngAB4DAwt2AX56T1ocKQNXAh1GATQGC3tOxYNagkgAMQA5CQADAQEAWxLjAIOYNAEzAH7tFRk6TglSAF8NAAlYAQ+S1ACAQwQorQBiAN4dAJ1wPyeTANVzuQDX3AIeEMp9eyMgXiUAEdkBkJizKltbVVAaRMqRAAEAhyQ/SDEz6BmfVwB6ATEsOClKIRcDOF0E/832AFNt5AByAnkCRxGCOs94NjXdAwINGBonDBwPALW2AwICAgAAAAAAAAYDBQMDARrUAwAtAAAAAgEGBgYGBgYFBQUFBQUEBQYHCAkEBQUFBQQAAAICAAAAIgCNAJAAlT0A6gC7ANwApEQAwgCyAK0AqADuAKYA2gCjAOcBCAEDAMcAgQBiANIA1AEDAN4A8gCQAKkBMQDqAN8A3AsBCQ8yO9ra2tq8xuLT1tRJOB0BUgFcNU0BWgFpAWgBWwFMUUlLbhMBUxsNEAs6PhMOACcUKy0vMj5AQENDQ0RFFEYGJFdXV1dZWVhZL1pbXVxcI2NnZ2ZoZypsbnZ1eHh4eHh4enp6enp6enp6enp8fH18e2IARPIASQCaAHgAMgBm+ACOAFcAVwA3AnbvAIsABfj4AGQAk/IAnwBPAGIAZP//sACFAIUAaQBWALEAJAC2AIMCQAJDAPwA5wD+AP4A6AD/AOkA6QDoAOYALwJ7AVEBQAE+AVQBPgE+AT4BOQE4ATgBOAEcAVgXADEQCAEAUx8SHgsdHhYAjgCWAKYAUQBqIAIxAHYAbwCXAxUDJzIDIUlGTzEAkQJPAMcCVwKkAMAClgKWApYClgKWApYCiwKWApYClgKWApYClgKVApUCmAKgApcClgKWApQClAKUApQCkgKVAnUB1AKXAp8ClgKWApUeAIETBQD+DQOfAmECOh8BVBg9AuIZEjMbAU4/G1WZAXusRAFpYQEFA0FPAQYAmTEeIJdyADFoAHEANgCRA5zMk/C2jGINwjMWygIZCaXdfDILBCs5dAE7YnQBugDlhoiHhoiGiYqKhouOjIaNkI6Ij4qQipGGkoaThpSSlYaWhpeKmIaZhpqGm4aci52QnoqfhuIC4XTpAt90AIp0LHSoAIsAdHQEQwRABEIERQRDBEkERgRBBEcESQRIBEQERgRJAJ5udACrA490ALxuAQ10ANFZdHQA13QCFHQA/mJ0AP4BIQD+APwA/AD9APwDhGZ03ASMK23HAP4A/AD8AP0A/CR0dACRYnQA/gCRASEA/gCRAvQA/gCRA4RmdNwEjCttxyR0AP9idAEhAP4A/gD8APwA/QD8AP8A/AD8AP0A/AOEZnTcBIwrbcckdHQAkWJ0ASEA/gCRAP4AkQL0AP4AkQOEZnTcBIwrbcckdAJLAT50AlIBQXQCU8l0dAJfdHQDpgL0A6YDpgOnA6cDpwOnA4RmdNwEjCttxyR0dACRYnQBIQOmAJEDpgCRAvQDpgCRA4RmdNwEjCttxyR0BDh0AJEEOQCRDpU5dSgCADR03gV2CwArdAEFAM5iCnR0AF1iAAYcOgp0dACRCnQAXAEIwWZ0CnRmdHQAkWZ0CnRmdEXgAFF03gp0dEY0tlT2u3SOAQTwscwhjZZKrhYcBSfFp9XNbKiVDOD2b+cpe4/Z17mQnbtzzhaeQtE2GGj0IDNTjRUSyTxxw/RPHW/+vS7d1NfRt9z9QPZg4X7QFfhCnkvgNPIItOsC2eV6hPannZNHlZ9xrwZXIMOlu3jSoQSq78WEjwLjw1ELSlF1aBvfzwk5ZX7AUvQzjPQKbDuQ+sm4wNOp4A6AdVuRS0t1y/DZpg4R6m7FNjM9HgvW7Bi88zaMjOo6lM8wtBBdj8LP4ylv3zCXPhebMKJc066o9sF71oFW/8JXu86HJbwDID5lzw5GWLR/LhT0Qqnp2JQxNZNfcbLIzPy+YypqRm/lBmGmex+82+PisxUumSeJkALIT6rJezxMH+CTJmQtt5uwTVbL3ptmjDUQzlSIvWi8Tl7ng1NpuRn1Ng4n14Qc+3Iil7OwkvNWogLSPkn3pihIFytyIGmMhOe3n1tWsuMy9BdKyqF4Z3v2SgggTL9KVvMXPnCbRe+oOuFFP3HejBG/w9gvmfNYvg6JuWia2lcSSN1uIjBktzoIazOHPJZ7kKHPz8mRWVdW3lA8WGF9dQF6Bm673boov3BUWDU2JNcahR23GtfHKLOz/viZ+rYnZFaIznXO67CYEJ1fXuTRpZhYZkKe54xeoagkNGLs+NTZHE0rX45/XvQ2RGADX6vcAvdxIUBV27wxGm2zjZo4X3ILgAlrOFheuZ6wtsvaIj4yLY7qqawlliaIcrz2G+c3vscAnCkCuMzMmZvMfu9lLwTvfX+3cVSyPdN9ZwgDZhfjRgNJcLiJ67b9xx8JHswprbiE3v9UphotAPIgnXVIN5KmMc0piXhc6cChPnN+MRhG9adtdttQTTwSIpl8I4/j//d3sz1326qTBTpPRM/Hgh3kzqEXs8ZAk4ErQhNO8hzrQ0DLkWMA/N+91tn2MdOJnWC2FCZehkQrwzwbKOjhvZsbM95QoeL9skYyMf4srVPVJSgg7pOLUtr/n9eT99oe9nLtFRpjA9okV2Kj8h9k5HaC0oivRD8VyXkJ81tcd4fHNXPCfloIQasxsuO18/46dR2jgul/UIet2G0kRvnyONMKhHs6J26FEoqSqd+rfYjeEGwHWVDpX1fh1jBBcKGMqRepju9Y00mDVHC+Xdij/j44rKfvfjGinNs1jO/0F3jB83XCDINN/HB84axlP+3E/klktRo+vl3U/aiyMJbIodE1XSsDn6UAzIoMtUObY2+k/4gY/l+AkZJ5Sj2vQrkyLm3FoxjhDX+31UXBFf9XrAH31fFqoBmDEZvhvvpnZ87N+oZEu7U9O/nnk+QWj3x8uyoRbEnf+O5UMr9i0nHP38IF5AvzrBW8YWBUR0mIAzIvndQq9N3v/Jto3aPjPXUPl8ASdPPyAp7jENf8bk7VMM9ol9XGmlBmeDMuGqt+WzuL6CXAxXjIhCPM5vACchgMJ/8XBGLO/D1isVvGhwwHHr1DLaI5mn2Jr/b1pUD90uciDaS8cXNDzCWvNmT/PhQe5e8nTnnnkt8Ds/SIjibcum/fqDhKopxAY8AkSrPn+IGDEKOO+U3XOP6djFs2H5N9+orhOahiQk5KnEUWa+CzkVzhp8bMHRbg81qhjjXuIKbHjSLSIBKWqockGtKinY+z4/RdBUF6pcc3JmnlxVcNgrI4SEzKUZSwcD2QCyxzKve+gAmg6ZuSRkpPFa6mfThu7LJNu3H5K42uCpNvPAsoedolKV/LHe/eJ+BbaG5MG0NaSGVPRUmNFMFFSSpXEcXwbVh7UETOZZtoVNRGOIbbkig3McEtR68cG0RZAoJevWYo7Dg/lZ1CQzblWeUvVHmr8fY4Nqd9JJiH/zEX24mJviH60fAyFr0A3c4bC1j3yZU60VgJxXn8JgJXLUIsiBnmKmMYz+7yBQFBvqb2eYnuW59joZBf56/wXvWIR4R8wTmV80i1mZy+S4+BUES+hzjk0uXpC///z/IlqHZ1monzlXp8aCfhGKMti73FI1KbL1q6IKO4fuBuZ59gagjn5xU79muMpHXg6S+e+gDM/U9BKLHbl9l6o8czQKl4RUkJJiqftQG2i3BMg/TQlUYFkJDYBOOvAugYuzYSDnZbDDd/aSd9x0Oe6F+bJcHfl9+gp6L5/TgA+BdFFovbfCrQ40s5vMPw8866pNX8zyFGeFWdxIpPVp9Rg1UPOVFbFZrvaFq/YAzHQgqMWpahMYfqHpmwXfHL1/kpYmGuHFwT55mQu0dylfNuq2Oq0hTMCPwqfxnuBIPLXfci4Y1ANy+1CUipQxld/izVh16WyG2Q0CQQ9NqtAnx1HCHwDj7sYxOSB0wopZSnOzxQOcExmxrVTF2BkOthVpGfuhaGECfCJpJKpjnihY+xOT2QJxN61+9K6QSqtv2Shr82I3jgJrqBg0wELFZPjvHpvzTtaJnLK6Vb97Yn933koO/saN7fsjwNKzp4l2lJVx2orjCGzC/4ZL4zCver6aQYtC5sdoychuFE6ufOiog+VWi5UDkbmvmtah/3aArEBIi39s5ILUnlFLgilcGuz9CQshEY7fw2ouoILAYPVT/gyAIq3TFAIwVsl+ktkRz/qGfnCDGrm5gsl/l9QdvCWGsjPz3dU7XuqKfdUrr/6XIgjp4rey6AJBmCmUJMjITHVdFb5m1p+dLMCL8t55zD42cmftmLEJC0Da04YiRCVUBLLa8D071/N5UBNBXDh0LFsmhV/5B5ExOB4j3WVG/S3lfK5o+V6ELHvy6RR9n4ac+VsK4VE4yphPvV+kG9FegTBH4ZRXL2HytUHCduJazB/KykjfetYxOXTLws267aGOd+I+JhKP//+VnXmS90OD/jvLcVu0asyqcuYN1mSb6XTlCkqv1vigZPIYwNF/zpWcT1GR/6aEIRjkh0yhg4LXJfaGobYJTY4JI58KiAKgmmgAKWdl5nYCeLqavRJGQNuYuZtZFGx+IkI4w4NS2xwbetNMunOjBu/hmKCI/w7tfiiyUd//4rbTeWt4izBY8YvGIN6vyKYmP/8X8wHKCeN+WRcKM70+tXKNGyevU9H2Dg5BsljnTf8YbsJ1TmMs74Ce2XlHisleguhyeg44rQOHZuw/6HTkhnnurK2d62q6yS7210SsAIaR+jXMQA+svkrLpsUY+F30Uw89uOdGAR6vo4FIME0EfVVeHTu6eKicfhSqOeXJhbftcd08sWEnNUL1C9fnprTgd83IMut8onVUF0hvqzZfHduPjbjwEXIcoYmy+P6tcJZHmeOv6VrvEdkHDJecjHuHeWANe79VG662qTjA/HCvumVv3qL+LrOcpqGps2ZGwQdFJ7PU4iuyRlBrwfO+xnPyr47s2cXVbWzAyznDiBGjCM3ksxjjqM62GE9C8f5U38kB3VjtabKp/nRdvMESPGDG90bWRLAt1Qk5DyLuazRR1YzdC1c+hZXvAWV8xA72S4A8B67vjVhbba3MMop293FeEXpe7zItMWrJG/LOH9ByOXmYnNJfjmfuX9KbrpgLOba4nZ+fl8Gbdv/ihv+6wFGKHCYrVwmhFC0J3V2bn2tIB1wCc1CST3d3X2OyxhguXcs4sm679UngzofuSeBewMFJboIQHbUh/m2JhW2hG9DIvG2t7yZIzKBTz9wBtnNC+2pCRYhSIuQ1j8xsz5VvqnyUIthvuoyyu7fNIrg/KQUVmGQaqkqZk/Vx5b33/gsEs8yX7SC1J+NV4icz6bvIE7C5G6McBaI8rVg56q5QBJWxn/87Q1sPK4+sQa8fLU5gXo4paaq4cOcQ4wR0VBHPGjKh+UlPCbA1nLXyEUX45qZ8J7/Ln4FPJE2TdzD0Z8MLSNQiykMMmSyOCiFfy84Rq60emYB2vD09KjYwsoIpeDcBDTElBbXxND72yhd9pC/1CMid/5HUMvAL27OtcIJDzNKpRPNqPOpyt2aPGz9QWIs9hQ9LiX5s8m9hjTUu/f7MyIatjjd+tSfQ3ufZxPpmJhTaBtZtKLUcfOCUqADuO+QoH8B9v6U+P0HV1GLQmtoNFTb3s74ivZgjES0qfK+8RdGgBbcCMSy8eBvh98+et1KIFqSe1KQPyXULBMTsIYnysIwiZBJYdI20vseV+wuJkcqGemehKjaAb9L57xZm3g2zX0bZ2xk/fU+bCo7TlnbW7JuF1YdURo/2Gw7VclDG1W7LOtas2LX4upifZ/23rzpsnY/ALfRgrcWP5hYmV9VxVOQA1fZvp9F2UNU+7d7xRyVm5wiLp3/0dlV7vdw1PMiZrbDAYzIVqEjRY2YU03sJhPnlwIPcZUG5ltL6S8XCxU1eYS5cjr34veBmXAvy7yN4ZjArIG0dfD/5UpBNlX1ZPoxJOwyqRi3wQWtOzd4oNKh0LkoTm8cwqgIfKhqqGOhwo71I+zXnMemTv2B2AUzABWyFztGgGULjDDzWYwJUVBTjKCn5K2QGMK1CQT7SzziOjo+BhAmqBjzuc3xYym2eedGeOIRJVyTwDw37iCMe4g5Vbnsb5ZBdxOAnMT7HU4DHpxWGuQ7GeiY30Cpbvzss55+5Km1YsbD5ea3NI9QNYIXol5apgSu9dZ8f8xS5dtHpido5BclDuLWY4lhik0tbJa07yJhH0BOyEut/GRbYTS6RfiTYWGMCkNpfSHi7HvdiTglEVHKZXaVhezH4kkXiIvKopYAlPusftpE4a5IZwvw1x/eLvoDIh/zpo9FiQInsTb2SAkKHV42XYBjpJDg4374XiVb3ws4qM0s9eSQ5HzsMU4OZJKuopFjBM+dAZEl8RUMx5uU2N486Kr141tVsGQfGjORYMCJAMsxELeNT4RmWjRcpdTGBwcx6XN9drWqPmJzcrGrH4+DRc7+n1w3kPZwu0BkNr6hQrqgo7JTB9A5kdJ/H7P4cWBMwsmuixAzJB3yrQpnGIq90lxAXLzDCdn1LPibsRt7rHNjgQBklRgPZ8vTbjXdgXrTWQsK5MdrXXQVPp0Rinq3frzZKJ0qD6Qhc40VzAraUXlob1gvkhK3vpmHgI6FRlQZNx6eRqkp0zy4AQlX813fAPtL3jMRaitGFFjo0zmErloC+h+YYdVQ6k4F/epxAoF0BmqEoKNTt6j4vQZNQ2BoqF9Vj53TOIoNmDiu9Xp15RkIgQIGcoLpfoIbenzpGUAtqFJp5W+LLnx38jHeECTJ/navKY1NWfN0sY1T8/pB8kIH3DU3DX+u6W3YwpypBMYOhbSxGjq84RZ84fWJow8pyHqn4S/9J15EcCMsXqrfwyd9mhiu3+rEo9pPpoJkdZqHjra4NvzFwuThNKy6hao/SlLw3ZADUcUp3w3SRVfW2rhl80zOgTYnKE0Hs2qp1J6H3xqPqIkvUDRMFDYyRbsFI3M9MEyovPk8rlw7/0a81cDVLmBsR2ze2pBuKb23fbeZC0uXoIvDppfTwIDxk1Oq2dGesGc+oJXWJLGkOha3CX+DUnzgAp9HGH9RsPZN63Hn4RMA5eSVhPHO+9RcRb/IOgtW31V1Q5IPGtoxPjC+MEJbVlIMYADd9aHYWUIQKopuPOHmoqSkubnAKnzgKHqgIOfW5RdAgotN6BN+O2ZYHkuemLnvQ8U9THVrS1RtLmKbcC7PeeDsYznvqzeg6VCNwmr0Yyx1wnLjyT84BZz3EJyCptD3yeueAyDWIs0L2qs/VQ3HUyqfrja0V1LdDzqAikeWuV4sc7RLIB69jEIBjCkyZedoUHqCrOvShVzyd73OdrJW0hPOuQv2qOoHDc9xVb6Yu6uq3Xqp2ZaH46A7lzevbxQEmfrzvAYSJuZ4WDk1Hz3QX1LVdiUK0EvlAGAYlG3Md30r7dcPN63yqBCIj25prpvZP0nI4+EgWoFG95V596CurXpKRBGRjQlHCvy5Ib/iW8nZJWwrET3mgd6mEhfP4KCuaLjopWs7h+MdXFdIv8dHQJgg1xi1eYqB0uDYjxwVmri0Sv5XKut/onqapC+FQiC2C1lvYJ9MVco6yDYsS3AANUfMtvtbYI2hfwZatiSsnoUeMZd34GVjkMMKA+XnjJpXgRW2SHTZplVowPmJsvXy6w3cfO1AK2dvtZEKTkC/TY9LFiKHCG0DnrMQdGm2lzlBHM9iEYynH2UcVMhUEjsc0oDBTgo2ZSQ1gzkAHeWeBXYFjYLuuf8yzTCy7/RFR81WDjXMbq2BOH5dURnxo6oivmxL3cKzKInlZkD31nvpHB9Kk7GfcfE1t+1V64b9LtgeJGlpRFxQCAqWJ5DoY77ski8gsOEOr2uywZaoO/NGa0X0y1pNQHBi3b2SUGNpcZxDT7rLbBf1FSnQ8guxGW3W+36BW0gBje4DOz6Ba6SVk0xiKgt+q2JOFyr4SYfnu+Ic1QZYIuwHBrgzr6UvOcSCzPTOo7D6IC4ISeS7zkl4h+2VoeHpnG/uWR3+ysNgPcOIXQbv0n4mr3BwQcdKJxgPSeyuP/z1Jjg4e9nUvoXegqQVIE30EHx5GHv+FAVUNTowYDJgyFhf5IvlYmEqRif6+WN1MkEJmDcQITx9FX23a4mxy1AQRsOHO/+eImX9l8EMJI3oPWzVXxSOeHU1dUWYr2uAA7AMb+vAEZSbU3qob9ibCyXeypEMpZ6863o6QPqlqGHZkuWABSTVNd4cOh9hv3qEpSx2Zy/DJMP6cItEmiBJ5PFqQnDEIt3NrA3COlOSgz43D7gpNFNJ5MBh4oFzhDPiglC2ypsNU4ISywY2erkyb1NC3Qh/IfWj0eDgZI4/ln8WPfBsT3meTjq1Uqt1E7Zl/qftqkx6aM9KueMCekSnMrcHj1CqTWWzEzPsZGcDe3Ue4Ws+XFYVxNbOFF8ezkvQGR6ZOtOLU2lQEnMBStx47vE6Pb7AYMBRj2OOfZXfisjJnpTfSNjo6sZ6qSvNxZNmDeS7Gk3yYyCk1HtKN2UnhMIjOXUzAqDv90lx9O/q/AT1ZMnit5XQe9wmQxnE/WSH0CqZ9/2Hy+Sfmpeg8RwsHI5Z8kC8H293m/LHVVM/BA7HaTJYg5Enk7M/xWpq0192ACfBai2LA/qrCjCr6Dh1BIMzMXINBmX96MJ5Hn2nxln/RXPFhwHxUmSV0EV2V0jm86/dxxuYSU1W7sVkEbN9EzkG0QFwPhyHKyb3t+Fj5WoUUTErcazE/N6EW6Lvp0d//SDPj7EV9UdJN+Amnf3Wwk3A0SlJ9Z00yvXZ7n3z70G47Hfsow8Wq1JXcfwnA+Yxa5mFsgV464KKP4T31wqIgzFPd3eCe3j5ory5fBF2hgCFyVFrLzI9eetNXvM7oQqyFgDo4CTp/hDV9NMX9JDHQ/nyHTLvZLNLF6ftn2OxjGm8+PqOwhxnPHWipkE/8wbtyri80Sr7pMNkQGMfo4ZYK9OcCC4ESVFFbLMIvlxSoRqWie0wxqnLfcLSXMSpMMQEJYDVObYsXIQNv4TGNwjq1kvT1UOkicTrG3IaBZ3XdScS3u8sgeZPVpOLkbiF940FjbCeNRINNvDbd01EPBrTCPpm12m43ze1bBB59Ia6Ovhnur/Nvx3IxwSWol+3H2qfCJR8df6aQf4v6WiONxkK+IqT4pKQrZK/LplgDI/PJZbOep8dtbV7oCr6CgfpWa8NczOkPx81iSHbsNhVSJBOtrLIMrL31LK9TqHqAbAHe0RLmmV806kRLDLNEhUEJfm9u0sxpkL93Zgd6rw+tqBfTMi59xqXHLXSHwSbSBl0EK0+loECOPtrl+/nsaFe197di4yUgoe4jKoAJDXc6DGDjrQOoFDWZJ9HXwt8xDrQP+7aRwWKWI1GF8s8O4KzxWBBcwnl3vnl1Oez3oh6Ea1vjR7/z7DDTrFtqU2W/KAEzAuXDNZ7MY73MF216dzdSbWmUp4lcm7keJfWaMHgut9x5C9mj66Z0lJ+yhsjVvyiWrfk1lzPOTdhG15Y7gQlXtacvI7qv/XNSscDwqkgwHT/gUsD5yB7LdRRvJxQGYINn9hTpodKFVSTPrtGvyQw+HlRFXIkodErAGu9Iy1YpfSPc3jkFh5CX3lPxv7aqjE/JAfTIpEjGb/H7MO0e2vsViSW1qa/Lmi4/n4DEI3g7lYrcanspDfEpKkdV1OjSLOy0BCUqVoECaB55vs06rXl4jqmLsPsFM/7vYJ0vrBhDCm/00A/H81l1uekJ/6Lml3Hb9+NKiLqATJmDpyzfYZFHumEjC662L0Bwkxi7E9U4cQA0XMVDuMYAIeLMPgQaMVOd8fmt5SflFIfuBoszeAw7ow5gXPE2Y/yBc/7jExARUf/BxIHQBF5Sn3i61w4z5xJdCyO1F1X3+3ax+JSvMeZ7S6QSKp1Fp/sjYz6Z+VgCZzibGeEoujryfMulH7Rai5kAft9ebcW50DyJr2uo2z97mTWIu45YsSnNSMrrNUuG1XsYBtD9TDYzQffKB87vWbkM4EbPAFgoBV4GQS+vtFDUqOFAoi1nTtmIOvg38N4hT2Sn8r8clmBCXspBlMBYTnrqFJGBT3wZOzAyJDre9dHH7+x7qaaKDOB4UQALD5ecS0DE4obubQEiuJZ0EpBVpLuYcce8Aa4PYd/V4DLDAJBYKQPCWTcrEaZ5HYbJi11Gd6hjGom1ii18VHYnG28NKpkz2UKVPxlhYSp8uZr367iOmoy7zsxehW9wzcy2zG0a80PBMCRQMb32hnaHeOR8fnNDzZhaNYhkOdDsBUZ3loDMa1YP0uS0cjUP3b/6DBlqmZOeNABDsLl5BI5QJups8uxAuWJdkUB/pO6Zax6tsg7fN5mjjDgMGngO+DPcKqiHIDbFIGudxtPTIyDi9SFMKBDcfdGQRv41q1AqmxgkVfJMnP8w/Bc7N9/TR6C7mGObFqFkIEom8sKi2xYqJLTCHK7cxzaZvqODo22c3wisBCP4HeAgcRbNPAsBkNRhSmD48dHupdBRw4mIvtS5oeF6zeT1KMCyhMnmhpkFAGWnGscoNkwvQ8ZM5lE/vgTHFYL99OuNxdFBxTEDd5v2qLR8y9WkXsWgG6kZNndFG+pO/UAkOCipqIhL3hq7cRSdrCq7YhUsTocEcnaFa6nVkhnSeRYUA1YO0z5itF9Sly3VlxYDw239TJJH6f3EUfYO5lb7bcFcz8Bp7Oo8QmnsUHOz/fagVUBtKEw1iT88j+aKkv8cscKNkMxjYr8344D1kFoZ7/td1W6LCNYN594301tUGRmFjAzeRg5vyoM1F6+bJZ/Q54jN/k8SFd3DxPTYaAUsivsBfgTn7Mx8H2SpPt4GOdYRnEJOH6jHM2p6SgB0gzIRq6fHxGMmSmqaPCmlfwxiuloaVIitLGN8wie2CDWhkzLoCJcODh7KIOAqbHEvXdUxaS4TTTs07Clzj/6GmVs9kiZDerMxEnhUB6QQPlcfqkG9882RqHoLiHGBoHfQuXIsAG8GTAtao2KVwRnvvam8jo1e312GQAKWEa4sUVEAMG4G6ckcONDwRcg1e2D3+ohXgY4UAWF8wHKQMrSnzCgfFpsxh+aHXMGtPQroQasRY4U6UdG0rz1Vjbka0MekOGRZQEvqQFlxseFor8zWFgHek3v29+WqN6gaK5gZOTOMZzpQIC1201LkMCXild3vWXSc5UX9xcFYfbRPzGFa1FDcPfPB/jUEq/FeGt419CI3YmBlVoHsa4KdcwQP5ZSwHHhFJ7/Ph/Rap/4vmG91eDwPP0lDfCDRCLszTqfzM71xpmiKi2HwS4WlqvGNwtvwF5Dqpn6KTq8ax00UMPkxDcZrEEEsIvHiUXXEphdb4GB4FymlPwBz4Gperqq5pW7TQ6/yNRhW8VT5NhuP0udlxo4gILq5ZxAZk8ZGh3g4CqxJlPKY7AQxupfUcVpWT5VItp1+30UqoyP4wWsRo3olRRgkWZZ2ZN6VC3OZFeXB8NbnUrSdikNptD1QiGuKkr8EmSR/AK9Rw+FF3s5uwuPbvHGiPeFOViltMK7AUaOsq9+x9cndk3iJEE5LKZRlWJbKOZweROzmPNVPkjE3K/TyA57Rs68TkZ3MR8akKpm7cFjnjPd/DdkWjgYoKHSr5Wu5ssoBYU4acRs5g2DHxUmdq8VXOXRbunD8QN0LhgkssgahcdoYsNvuXGUK/KXD/7oFb+VGdhqIn02veuM5bLudJOc2Ky0GMaG4W/xWBxIJcL7yliJOXOpx0AkBqUgzlDczmLT4iILXDxxtRR1oZa2JWFgiAb43obrJnG/TZC2KSK2wqOzRZTXavZZFMb1f3bXvVaNaK828w9TO610gk8JNf3gMfETzXXsbcvRGCG9JWQZ6+cDPqc4466Yo2RcKH+PILeKOqtnlbInR3MmBeGG3FH10yzkybuqEC2HSQwpA0An7d9+73BkDUTm30bZmoP/RGbgFN+GrCOfADgqr0WbI1a1okpFms8iHYw9hm0zUvlEMivBRxModrbJJ+9/p3jUdQQ9BCtQdxnOGrT5dzRUmw0593/mbRSdBg0nRvRZM5/E16m7ZHmDEtWhwvfdZCZ8J8M12W0yRMszXamWfQTwIZ4ayYktrnscQuWr8idp3PjT2eF/jmtdhIfcpMnb+IfZY2FebW6UY/AK3jP4u3Tu4zE4qlnQgLFbM19EBIsNf7KhjdbqQ/D6yiDb+NlEi2SKD+ivXVUK8ib0oBo366gXkR8ZxGjpJIDcEgZPa9TcYe0TIbiPl/rPUQDu3XBJ9X/GNq3FAUsKsll57DzaGMrjcT+gctp+9MLYXCq+sqP81eVQ0r9lt+gcQfZbACRbEjvlMskztZG8gbC8Qn9tt26Q7y7nDrbZq/LEz7kR6Jc6pg3N9rVX8Y5MJrGlML9p9lU4jbTkKqCveeZUJjHB03m2KRKR2TytoFkTXOLg7keU1s1lrPMQJpoOKLuAAC+y1HlJucU6ysB5hsXhvSPPLq5J7JtnqHKZ4vYjC4Vy8153QY+6780xDuGARsGbOs1WqzH0QS765rnSKEbbKlkO8oI/VDwUd0is13tKpqILu1mDJFNy/iJAWcvDgjxvusIT+PGz3ST/J9r9Mtfd0jpaGeiLYIqXc7DiHSS8TcjFVksi66PEkxW1z6ujbLLUGNNYnzOWpH8BZGK4bCK7iR+MbIv8ncDAz1u4StN3vTTzewr9IQjk9wxFxn+6N1ddKs0vffJiS08N3a4G1SVrlZ97Q/M+8G9fe5AP6d9/Qq4WRnORVhofPIKEdCr3llspUfE0oKIIYoByBRPh+bX1HLS3JWGJRhIvE1aW4NTd8ePi4Z+kXb+Z8snYfSNcqijhAgVsx4RCM54cXUiYkjeBmmC4ajOHrChoELscJJC7+9jjMjw5BagZKlgRMiSNYz7h7vvZIoQqbtQmspc0cUk1G/73iXtSpROl5wtLgQi0mW2Ex8i3WULhcggx6E1LMVHUsdc9GHI1PH3U2Ko0PyGdn9KdVOLm7FPBui0i9a0HpA60MsewVE4z8CAt5d401Gv6zXlIT5Ybit1VIA0FCs7wtvYreru1fUyW3oLAZ/+aTnZrOcYRNVA8spoRtlRoWflsRClFcgzkqiHOrf0/SVw+EpVaFlJ0g4Kxq1MMOmiQdpMNpte8lMMQqm6cIFXlnGbfJllysKDi+0JJMotkqgIxOSQgU9dn/lWkeVf8nUm3iwX2Nl3WDw9i6AUK3vBAbZZrcJpDQ/N64AVwjT07Jef30GSSmtNu2WlW7YoyW2FlWfZFQUwk867EdLYKk9VG6JgEnBiBxkY7LMo4YLQJJlAo9l/oTvJkSARDF/XtyAzM8O2t3eT/iXa6wDN3WewNmQHdPfsxChU/KtLG2Mn8i4ZqKdSlIaBZadxJmRzVS/o4yA65RTSViq60oa395Lqw0pzY4SipwE0SXXsKV+GZraGSkr/RW08wPRvqvSUkYBMA9lPx4m24az+IHmCbXA+0faxTRE9wuGeO06DIXa6QlKJ3puIyiuAVfPr736vzo2pBirS+Vxel3TMm3JKhz9o2ZoRvaFVpIkykb0Hcm4oHFBMcNSNj7/4GJt43ogonY2Vg4nsDQIWxAcorpXACzgBqQPjYsE/VUpXpwNManEru4NwMCFPkXvMoqvoeLN3qyu/N1eWEHttMD65v19l/0kH2mR35iv/FI+yjoHJ9gPMz67af3Mq/BoWXqu3rphiWMXVkmnPSEkpGpUI2h1MThideGFEOK6YZHPwYzMBvpNC7+ZHxPb7epfefGyIB4JzO9DTNEYnDLVVHdQyvOEVefrk6Uv5kTQYVYWWdqrdcIl7yljwwIWdfQ/y+2QB3eR/qxYObuYyB4gTbo2in4PzarU1sO9nETkmj9/AoxDA+JM3GMqQtJR4jtduHtnoCLxd1gQUscHRB/MoRYIEsP2pDZ9KvHgtlk1iTbWWbHhohwFEYX7y51fUV2nuUmnoUcqnWIQAAgl9LTVX+Bc0QGNEhChxHR4YjfE51PUdGfsSFE6ck7BL3/hTf9jLq4G1IafINxOLKeAtO7quulYvH5YOBc+zX7CrMgWnW47/jfRsWnJjYYoE7xMfWV2HN2iyIqLI"),read_sorted_array=()=>read_sorted(c),read_sorted_set=()=>new Set(read_sorted_array()),set_add_many=(e,a)=>a.forEach(a=>e.add(a));y=new Map(read_mapped(c)),w=read_sorted_set(),E=read_sorted_array(),S=new Set(read_sorted_array().map(e=>E[e])),E=new Set(E),A=read_sorted_set(),read_sorted_set();let u=read_sorted_arrays(c),p=c(),read_chunked=()=>{let e=new Set;return read_sorted_array().forEach(a=>set_add_many(e,u[a])),set_add_many(e,read_sorted_array()),e};k=read_array_while(e=>{let a=read_array_while(c).map(e=>e+96);if(a.length){let u=e>=p;return a[0]-=32,a=str_from_cps(a),u&&(a=`Restricted[${a}]`),{N:a,P:read_chunked(),Q:read_chunked(),M:!c(),R:u}}}),T=read_sorted_set(),O=new Map;let f=read_sorted_array().concat(Array_from(T)).sort((e,a)=>e-a);for(let{V:e,M:a}of(f.forEach((e,a)=>{let u=c(),p=f[a]=u?f[a-u]:{V:[],M:new Map};p.V.push(e),T.has(e)||O.set(e,p)}),new Set(O.values()))){let c=[];for(let a of e){let e=k.filter(e=>group_has_cp(e,a)),u=c.find(({G:a})=>e.some(e=>a.has(e)));u||(u={G:new Set,V:[]},c.push(u)),u.V.push(a),set_add_many(u.G,e)}let u=c.flatMap(e=>Array_from(e.G));for(let{G:e,V:p}of c){let c=new Set(u.filter(a=>!e.has(a)));for(let e of p)a.set(e,c)}}B=new Set;let m=new Set,add_to_union=e=>B.has(e)?m.add(e):B.add(e);for(let e of k){for(let a of e.P)add_to_union(a);for(let a of e.Q)add_to_union(a)}for(let e of B)O.has(e)||m.has(e)||O.set(e,1);for(let u of(set_add_many(B,decomposed(B).map(unpack_cp)),C=(e=[],a=read_sorted(c),function expand({S:a,B:c},u,p){if(!(4&a)||p!==u[u.length-1])for(let f of(2&a&&(p=u[u.length-1]),1&a&&e.push(u),c))for(let e of f.Q)expand(f,[...u,e],p)}(function decode(e){return{S:c(),B:read_array_while(()=>{let e=read_sorted(c).map(e=>a[e]);if(e.length)return decode(e)}),Q:e}}([]),[]),e).map(e=>Emoji.from(e)).sort(compare_arrays),N=new Map,C)){let e=[N];for(let a of u){let c=e.map(e=>{let c=e.get(a);return c||(c=new Map,e.set(a,c)),c});65039===a?e.push(...c):e=c}for(let a of e)a.V=u}}function quoted_cp(e){return(should_escape(e)?"":`${bidi_qq(safe_str_from_cps([e]))} `)+quote_cp(e)}function bidi_qq(e){return`"${e}"\u200E`}function safe_str_from_cps(e,a=1/0,c=quote_cp){var u;let p=[];u=e[0],init(),E.has(u)&&p.push(""),e.length>a&&(a>>=1,e=[...e.slice(0,a),8230,...e.slice(-a)]);let f=0,m=e.length;for(let a=0;a<m;a++){let u=e[a];should_escape(u)&&(p.push(str_from_cps(e.slice(f,a))),p.push(c(u)),f=a+1)}return p.push(str_from_cps(e.slice(f,m))),p.join("")}function should_escape(e){return init(),A.has(e)}function error_disallowed(e){return Error(`disallowed character: ${quoted_cp(e)}`)}function error_group_member(e,a){let c=quoted_cp(a),u=k.find(e=>e.P.has(a));return u&&(c=`${u.N} ${c}`),Error(`illegal mixture: ${e.N} + ${c}`)}function error_placement(e){return Error(`illegal placement: ${e}`)}function filter_fe0f(e){return e.filter(e=>65039!=e)}let th=new Uint8Array(32);function checkComponent(e){return(0,L.en)(0!==e.length,"invalid ENS name; empty component","comp",e),e}function ensNameSplit(e){let a=(0,te.Y0)(function(e){try{var a;if(0===e.length)throw Error("empty label");return(a=function(e,a,c){if(!e)return[];init();let u=0;return e.split(".").map(e=>{let p=function(e){let a=[];for(let c=0,u=e.length;c<u;){let u=e.codePointAt(c);c+=u<65536?1:2,a.push(u)}return a}(e),f={input:p,offset:u};u+=p.length+1;try{let e,u=f.tokens=function(e,a,c){let u=[],p=[];for(e=e.slice().reverse();e.length;){let f=function(e,a){let c,u=N,p=e.length;for(;p&&(u=u.get(e[--p]));){let{V:f}=u;f&&(c=f,a&&a.push(...e.slice(p).reverse()),e.length=p)}return c}(e);if(f)p.length&&(u.push(a(p)),p=[]),u.push(c(f));else{let a=e.pop();if(B.has(a))p.push(a);else{let e=y.get(a);if(e)p.push(...e);else if(!w.has(a))throw error_disallowed(a)}}}return p.length&&u.push(a(p)),u}(p,a,c),m=u.length;if(!m)throw Error("empty label");let A=f.output=u.flat();if(function(e){for(let a=e.lastIndexOf(95);a>0;)if(95!==e[--a])throw Error("underscore allowed only at start")}(A),!(f.emoji=m>1||u[0].is_emoji)&&A.every(e=>e<128))(function(e){if(e.length>=4&&45==e[2]&&45==e[3])throw Error(`invalid label extension: "${str_from_cps(e.slice(0,4))}"`)})(A),e="ASCII";else{let a=u.flatMap(e=>e.is_emoji?[]:e);if(a.length){if(E.has(A[0]))throw error_placement("leading combining mark");for(let e=1;e<m;e++){let a=u[e];if(!a.is_emoji&&E.has(a[0]))throw error_placement(`emoji + combining mark: "${str_from_cps(u[e-1])} + ${safe_str_from_cps([a[0]])}"`)}!function(e){let a=e[0],c=tl.get(a);if(c)throw error_placement(`leading ${c}`);let u=e.length,p=-1;for(let f=1;f<u;f++){a=e[f];let u=tl.get(a);if(u){if(p==f)throw error_placement(`${c} + ${u}`);p=f+1,c=u}}if(p==u)throw error_placement(`trailing ${c}`)}(A);let c=Array_from(new Set(a)),[p]=function(e){let a=k;for(let c of e){let e=a.filter(e=>group_has_cp(e,c));if(!e.length){if(k.some(e=>group_has_cp(e,c)))throw error_group_member(a[0],c);throw error_disallowed(c)}if(a=e,1==e.length)break}return a}(c);(function(e,a){for(let c of a)if(!group_has_cp(e,c))throw error_group_member(e,c);if(e.M){let e=decomposed(a).map(unpack_cp);for(let a=1,c=e.length;a<c;a++)if(S.has(e[a])){let u=a+1;for(let p;u<c&&S.has(p=e[u]);u++)for(let c=a;c<u;c++)if(e[c]==p)throw Error(`duplicate non-spacing marks: ${quoted_cp(p)}`);if(u-a>4)throw Error(`excessive non-spacing marks: ${bidi_qq(safe_str_from_cps(e.slice(a-1,u)))} (${u-a}/4)`);a=u}}})(p,a),function(e,a){let c;let u=[];for(let e of a){let a=O.get(e);if(1===a)return;if(a){let u=a.M.get(e);if(!(c=c?c.filter(e=>u.has(e)):Array_from(u)).length)return}else u.push(e)}if(c){for(let a of c)if(u.every(e=>group_has_cp(a,e)))throw Error(`whole-script confusable: ${e.N}/${a.N}`)}}(p,c),e=p.N}else e="Emoji"}f.type=e}catch(e){f.error=e}return f})}(e,nfc,filter_fe0f)).map(({input:e,error:c,output:u})=>{if(c){let u=c.message;throw Error(1==a.length?u:`Invalid label ${bidi_qq(safe_str_from_cps(e,63))}: ${u}`)}return str_from_cps(u)}).join(".")}catch(a){(0,L.en)(!1,`invalid ENS name (${a.message})`,"name",e)}}(e)),c=[];if(0===e.length)return c;let u=0;for(let e=0;e<a.length;e++){let p=a[e];46===p&&(c.push(checkComponent(a.slice(u,e))),u=e+1)}return(0,L.en)(u<a.length,"invalid ENS name; empty component","name",e),c.push(checkComponent(a.slice(u))),c}function namehash(e){(0,L.en)("string"==typeof e,"invalid ENS name; not a string","name",e),(0,L.en)(e.length,"invalid ENS name (empty label)","name",e);let a=th,c=ensNameSplit(e);for(;c.length;)a=(0,D.w)((0,H.zo)([a,(0,D.w)(c.pop())]));return(0,H.Dv)(a)}th.fill(0);var tp=c(89802),tf=c(4727),td=c(10606),tm=c(32305);let[tg,ty]=td.ZP.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),tb=new Uint32Array(80),tv=new Uint32Array(80);let SHA512=class SHA512 extends tf.N{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:e,Al:a,Bh:c,Bl:u,Ch:p,Cl:f,Dh:m,Dl:y,Eh:w,El:E,Fh:S,Fl:A,Gh:k,Gl:T,Hh:O,Hl:B}=this;return[e,a,c,u,p,f,m,y,w,E,S,A,k,T,O,B]}set(e,a,c,u,p,f,m,y,w,E,S,A,k,T,O,B){this.Ah=0|e,this.Al=0|a,this.Bh=0|c,this.Bl=0|u,this.Ch=0|p,this.Cl=0|f,this.Dh=0|m,this.Dl=0|y,this.Eh=0|w,this.El=0|E,this.Fh=0|S,this.Fl=0|A,this.Gh=0|k,this.Gl=0|T,this.Hh=0|O,this.Hl=0|B}process(e,a){for(let c=0;c<16;c++,a+=4)tb[c]=e.getUint32(a),tv[c]=e.getUint32(a+=4);for(let e=16;e<80;e++){let a=0|tb[e-15],c=0|tv[e-15],u=td.ZP.rotrSH(a,c,1)^td.ZP.rotrSH(a,c,8)^td.ZP.shrSH(a,c,7),p=td.ZP.rotrSL(a,c,1)^td.ZP.rotrSL(a,c,8)^td.ZP.shrSL(a,c,7),f=0|tb[e-2],m=0|tv[e-2],y=td.ZP.rotrSH(f,m,19)^td.ZP.rotrBH(f,m,61)^td.ZP.shrSH(f,m,6),w=td.ZP.rotrSL(f,m,19)^td.ZP.rotrBL(f,m,61)^td.ZP.shrSL(f,m,6),E=td.ZP.add4L(p,w,tv[e-7],tv[e-16]),S=td.ZP.add4H(E,u,y,tb[e-7],tb[e-16]);tb[e]=0|S,tv[e]=0|E}let{Ah:c,Al:u,Bh:p,Bl:f,Ch:m,Cl:y,Dh:w,Dl:E,Eh:S,El:A,Fh:k,Fl:T,Gh:O,Gl:B,Hh:C,Hl:N}=this;for(let e=0;e<80;e++){let a=td.ZP.rotrSH(S,A,14)^td.ZP.rotrSH(S,A,18)^td.ZP.rotrBH(S,A,41),R=td.ZP.rotrSL(S,A,14)^td.ZP.rotrSL(S,A,18)^td.ZP.rotrBL(S,A,41),M=S&k^~S&O,U=A&T^~A&B,D=td.ZP.add5L(N,R,U,ty[e],tv[e]),H=td.ZP.add5H(D,C,a,M,tg[e],tb[e]),F=0|D,L=td.ZP.rotrSH(c,u,28)^td.ZP.rotrBH(c,u,34)^td.ZP.rotrBH(c,u,39),K=td.ZP.rotrSL(c,u,28)^td.ZP.rotrBL(c,u,34)^td.ZP.rotrBL(c,u,39),V=c&p^c&m^p&m,G=u&f^u&y^f&y;C=0|O,N=0|B,O=0|k,B=0|T,k=0|S,T=0|A,({h:S,l:A}=td.ZP.add(0|w,0|E,0|H,0|F)),w=0|m,E=0|y,m=0|p,y=0|f,p=0|c,f=0|u;let z=td.ZP.add3L(F,K,G);c=td.ZP.add3H(z,H,L,V),u=0|z}({h:c,l:u}=td.ZP.add(0|this.Ah,0|this.Al,0|c,0|u)),({h:p,l:f}=td.ZP.add(0|this.Bh,0|this.Bl,0|p,0|f)),({h:m,l:y}=td.ZP.add(0|this.Ch,0|this.Cl,0|m,0|y)),({h:w,l:E}=td.ZP.add(0|this.Dh,0|this.Dl,0|w,0|E)),({h:S,l:A}=td.ZP.add(0|this.Eh,0|this.El,0|S,0|A)),({h:k,l:T}=td.ZP.add(0|this.Fh,0|this.Fl,0|k,0|T)),({h:O,l:B}=td.ZP.add(0|this.Gh,0|this.Gl,0|O,0|B)),({h:C,l:N}=td.ZP.add(0|this.Hh,0|this.Hl,0|C,0|N)),this.set(c,u,p,f,m,y,w,E,S,A,k,T,O,B,C,N)}roundClean(){tb.fill(0),tv.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};let tw=(0,tm.hE)(()=>new SHA512),tE=function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw Error("unable to locate global object")}();function createHash(e){switch(e){case"sha256":return tp.J.create();case"sha512":return tw.create()}(0,L.en)(!1,"invalid hashing algorithm name","algorithm",e)}tE.crypto||tE.msCrypto;let _sha256=function(e){return createHash("sha256").update(e).digest()},_sha512=function(e){return createHash("sha512").update(e).digest()},tS=_sha256,tA=_sha512,tk=!1,tP=!1;function sha2_sha256(e){let a=(0,H.Pw)(e,"data");return(0,H.Dv)(tS(a))}function sha2_sha512(e){let a=(0,H.Pw)(e,"data");return(0,H.Dv)(tA(a))}sha2_sha256._=_sha256,sha2_sha256.lock=function(){tk=!0},sha2_sha256.register=function(e){if(tk)throw Error("sha256 is locked");tS=e},Object.freeze(sha2_sha256),sha2_sha512._=_sha512,sha2_sha512.lock=function(){tP=!0},sha2_sha512.register=function(e){if(tP)throw Error("sha512 is locked");tA=e},Object.freeze(sha2_sha256);let tI="0x0000000000000000000000000000000000000000000000000000000000000000",tT=BigInt(0),t_=BigInt(1),tO=BigInt(2),tB=BigInt(27),tC=BigInt(28),tx=BigInt(35),tN={};function toUint256(e){return(0,H.U3)((0,F.ot)(e),32)}let Signature=class Signature{#Y;#Z;#J;#X;get r(){return this.#Y}set r(e){(0,L.en)(32===(0,H.M5)(e),"invalid r","value",e),this.#Y=(0,H.Dv)(e)}get s(){return this.#Z}set s(e){(0,L.en)(32===(0,H.M5)(e),"invalid s","value",e);let a=(0,H.Dv)(e);(0,L.en)(8>parseInt(a.substring(0,3)),"non-canonical s","value",a),this.#Z=a}get v(){return this.#J}set v(e){let a=(0,F.Dx)(e,"value");(0,L.en)(27===a||28===a,"invalid v","v",e),this.#J=a}get networkV(){return this.#X}get legacyChainId(){let e=this.networkV;return null==e?null:Signature.getChainId(e)}get yParity(){return 27===this.v?0:1}get yParityAndS(){let e=(0,H.Pw)(this.s);return this.yParity&&(e[0]|=128),(0,H.Dv)(e)}get compactSerialized(){return(0,H.zo)([this.r,this.yParityAndS])}get serialized(){return(0,H.zo)([this.r,this.s,this.yParity?"0x1c":"0x1b"])}constructor(e,a,c,u){(0,L.NK)(e,tN,"Signature"),this.#Y=a,this.#Z=c,this.#J=u,this.#X=null}[Symbol.for("nodejs.util.inspect.custom")](){return`Signature { r: "${this.r}", s: "${this.s}", yParity: ${this.yParity}, networkV: ${this.networkV} }`}clone(){let e=new Signature(tN,this.r,this.s,this.v);return this.networkV&&(e.#X=this.networkV),e}toJSON(){let e=this.networkV;return{_type:"signature",networkV:null!=e?e.toString():null,r:this.r,s:this.s,v:this.v}}static getChainId(e){let a=(0,F.yT)(e,"v");return a==tB||a==tC?tT:((0,L.en)(a>=tx,"invalid EIP-155 v","v",e),(a-tx)/tO)}static getChainIdV(e,a){return(0,F.yT)(e)*tO+BigInt(35+a-27)}static getNormalizedV(e){let a=(0,F.yT)(e);return a===tT||a===tB?27:a===t_||a===tC?28:((0,L.en)(a>=tx,"invalid v","v",e),a&t_?27:28)}static from(e){function assertError(a,c){(0,L.en)(a,c,"signature",e)}if(null==e)return new Signature(tN,tI,tI,27);if("string"==typeof e){let a=(0,H.Pw)(e,"signature");if(64===a.length){let e=(0,H.Dv)(a.slice(0,32)),c=a.slice(32,64),u=128&c[0]?28:27;return c[0]&=127,new Signature(tN,e,(0,H.Dv)(c),u)}if(65===a.length){let e=(0,H.Dv)(a.slice(0,32)),c=a.slice(32,64);assertError((128&c[0])==0,"non-canonical s");let u=Signature.getNormalizedV(a[64]);return new Signature(tN,e,(0,H.Dv)(c),u)}assertError(!1,"invalid raw signature length")}if(e instanceof Signature)return e.clone();let a=e.r;assertError(null!=a,"missing r");let c=toUint256(a),u=function(e,a){if(null!=e)return toUint256(e);if(null!=a){assertError((0,H.A7)(a,32),"invalid yParityAndS");let e=(0,H.Pw)(a);return e[0]&=127,(0,H.Dv)(e)}assertError(!1,"missing s")}(e.s,e.yParityAndS);assertError((128&(0,H.Pw)(u)[0])==0,"non-canonical s");let{networkV:p,v:f}=function(e,a,c){if(null!=e){let a=(0,F.yT)(e);return{networkV:a>=tx?a:void 0,v:Signature.getNormalizedV(a)}}if(null!=a)return assertError((0,H.A7)(a,32),"invalid yParityAndS"),{v:128&(0,H.Pw)(a)[0]?28:27};if(null!=c){switch((0,F.Dx)(c,"sig.yParity")){case 0:return{v:27};case 1:return{v:28}}assertError(!1,"invalid yParity")}assertError(!1,"missing v")}(e.v,e.yParityAndS,e.yParity),m=new Signature(tN,c,u,f);return p&&(m.#X=p),assertError(null==e.yParity||(0,F.Dx)(e.yParity,"sig.yParity")===m.yParity,"yParity mismatch"),assertError(null==e.yParityAndS||e.yParityAndS===m.yParityAndS,"yParityAndS mismatch"),m}};var tR=c(57843);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let tM=BigInt(0),tU=BigInt(1),tD=BigInt(2),tH=BigInt(3),tF=BigInt(4),tL=BigInt(5),tK=BigInt(8);function modular_mod(e,a){let c=e%a;return c>=tM?c:a+c}function pow2(e,a,c){let u=e;for(;a-- >tM;)u*=u,u%=c;return u}function invert(e,a){if(e===tM||a<=tM)throw Error(`invert: expected positive integers, got n=${e} mod=${a}`);let c=modular_mod(e,a),u=a,p=tM,f=tU,m=tU,y=tM;for(;c!==tM;){let e=u/c,a=u%c,w=p-m*e,E=f-y*e;u=c,c=a,p=m,f=y,m=w,y=E}let w=u;if(w!==tU)throw Error("invert: does not exist");return modular_mod(p,a)}BigInt(9),BigInt(16);let tj=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function nLength(e,a){let c=void 0!==a?a:e.toString(2).length;return{nBitLength:c,nByteLength:Math.ceil(c/8)}}function getFieldBytesLength(e){if("bigint"!=typeof e)throw Error("field order must be bigint");let a=e.toString(2).length;return Math.ceil(a/8)}function getMinHashLength(e){let a=getFieldBytesLength(e);return a+Math.ceil(a/2)}var tV=c(15493);let HMAC=class HMAC extends tm.kb{constructor(e,a){super(),this.finished=!1,this.destroyed=!1,(0,tV.vp)(e);let c=(0,tm.O0)(a);if(this.iHash=e.create(),"function"!=typeof this.iHash.update)throw Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;let u=this.blockLen,p=new Uint8Array(u);p.set(c.length>u?e.create().update(c).digest():c);for(let e=0;e<p.length;e++)p[e]^=54;this.iHash.update(p),this.oHash=e.create();for(let e=0;e<p.length;e++)p[e]^=106;this.oHash.update(p),p.fill(0)}update(e){return(0,tV.Gg)(this),this.iHash.update(e),this}digestInto(e){(0,tV.Gg)(this),(0,tV.aI)(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){let e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));let{oHash:a,iHash:c,finished:u,destroyed:p,blockLen:f,outputLen:m}=this;return e.finished=u,e.destroyed=p,e.blockLen=f,e.outputLen=m,e.oHash=a._cloneInto(e.oHash),e.iHash=c._cloneInto(e.iHash),e}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};let hmac_hmac=(e,a,c)=>new HMAC(e,a).update(c).digest();hmac_hmac.create=(e,a)=>new HMAC(e,a);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let tG=BigInt(0),tz=BigInt(1);function validateBasic(e){return!function(e){let a=tj.reduce((e,a)=>(e[a]="function",e),{ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"});(0,tR.FF)(e,a)}(e.Fp),(0,tR.FF)(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...nLength(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}let{bytesToNumberBE:tq,hexToBytes:tW}=tR,tQ={Err:class extends Error{constructor(e=""){super(e)}},_parseInt(e){let{Err:a}=tQ;if(e.length<2||2!==e[0])throw new a("Invalid signature integer tag");let c=e[1],u=e.subarray(2,c+2);if(!c||u.length!==c)throw new a("Invalid signature integer: wrong length");if(128&u[0])throw new a("Invalid signature integer: negative");if(0===u[0]&&!(128&u[1]))throw new a("Invalid signature integer: unnecessary leading zero");return{d:tq(u),l:e.subarray(c+2)}},toSig(e){let{Err:a}=tQ,c="string"==typeof e?tW(e):e;if(!(c instanceof Uint8Array))throw Error("ui8a expected");let u=c.length;if(u<2||48!=c[0])throw new a("Invalid signature tag");if(c[1]!==u-2)throw new a("Invalid signature: incorrect length");let{d:p,l:f}=tQ._parseInt(c.subarray(2)),{d:m,l:y}=tQ._parseInt(f);if(y.length)throw new a("Invalid signature: left bytes after parsing");return{r:p,s:m}},hexFromSig(e){let slice=e=>8&Number.parseInt(e[0],16)?"00"+e:e,h=e=>{let a=e.toString(16);return 1&a.length?`0${a}`:a},a=slice(h(e.s)),c=slice(h(e.r)),u=a.length/2,p=c.length/2,f=h(u),m=h(p);return`30${h(p+u+4)}02${m}${c}02${f}${a}`}},tY=BigInt(0),tZ=BigInt(1),tJ=(BigInt(2),BigInt(3));BigInt(4);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */let tX=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),t$=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),t0=BigInt(1),t1=BigInt(2),divNearest=(e,a)=>(e+a/t1)/a,t2=function(e,a,c=!1,u={}){if(e<=tM)throw Error(`Expected Field ORDER > 0, got ${e}`);let{nBitLength:p,nByteLength:f}=nLength(e,a);if(f>2048)throw Error("Field lengths over 2048 bytes are not supported");let m=function(e){if(e%tF===tH){let a=(e+tU)/tF;return function(e,c){let u=e.pow(c,a);if(!e.eql(e.sqr(u),c))throw Error("Cannot find square root");return u}}if(e%tK===tL){let a=(e-tL)/tK;return function(e,c){let u=e.mul(c,tD),p=e.pow(u,a),f=e.mul(c,p),m=e.mul(e.mul(f,tD),p),y=e.mul(f,e.sub(m,e.ONE));if(!e.eql(e.sqr(y),c))throw Error("Cannot find square root");return y}}return function(e){let a,c,u;let p=(e-tU)/tD;for(a=e-tU,c=0;a%tD===tM;a/=tD,c++);for(u=tD;u<e&&function(e,a,c){if(c<=tM||a<tM)throw Error("Expected power/modulo > 0");if(c===tU)return tM;let u=tU;for(;a>tM;)a&tU&&(u=u*e%c),e=e*e%c,a>>=tU;return u}(u,p,e)!==e-tU;u++);if(1===c){let a=(e+tU)/tF;return function(e,c){let u=e.pow(c,a);if(!e.eql(e.sqr(u),c))throw Error("Cannot find square root");return u}}let f=(a+tU)/tD;return function(e,m){if(e.pow(m,p)===e.neg(e.ONE))throw Error("Cannot find square root");let y=c,w=e.pow(e.mul(e.ONE,u),a),E=e.pow(m,f),S=e.pow(m,a);for(;!e.eql(S,e.ONE);){if(e.eql(S,e.ZERO))return e.ZERO;let a=1;for(let c=e.sqr(S);a<y&&!e.eql(c,e.ONE);a++)c=e.sqr(c);let c=e.pow(w,tU<<BigInt(y-a-1));w=e.sqr(c),E=e.mul(E,c),S=e.mul(S,w),y=a}return E}}(e)}(e),y=Object.freeze({ORDER:e,BITS:p,BYTES:f,MASK:(0,tR.dQ)(p),ZERO:tM,ONE:tU,create:a=>modular_mod(a,e),isValid:a=>{if("bigint"!=typeof a)throw Error(`Invalid field element: expected bigint, got ${typeof a}`);return tM<=a&&a<e},is0:e=>e===tM,isOdd:e=>(e&tU)===tU,neg:a=>modular_mod(-a,e),eql:(e,a)=>e===a,sqr:a=>modular_mod(a*a,e),add:(a,c)=>modular_mod(a+c,e),sub:(a,c)=>modular_mod(a-c,e),mul:(a,c)=>modular_mod(a*c,e),pow:(e,a)=>(function(e,a,c){if(c<tM)throw Error("Expected power > 0");if(c===tM)return e.ONE;if(c===tU)return a;let u=e.ONE,p=a;for(;c>tM;)c&tU&&(u=e.mul(u,p)),p=e.sqr(p),c>>=tU;return u})(y,e,a),div:(a,c)=>modular_mod(a*invert(c,e),e),sqrN:e=>e*e,addN:(e,a)=>e+a,subN:(e,a)=>e-a,mulN:(e,a)=>e*a,inv:a=>invert(a,e),sqrt:u.sqrt||(e=>m(y,e)),invertBatch:e=>(function(e,a){let c=Array(a.length),u=a.reduce((a,u,p)=>e.is0(u)?a:(c[p]=a,e.mul(a,u)),e.ONE),p=e.inv(u);return a.reduceRight((a,u,p)=>e.is0(u)?a:(c[p]=e.mul(a,c[p]),e.mul(a,u)),p),c})(y,e),cmov:(e,a,c)=>c?a:e,toBytes:e=>c?(0,tR.S5)(e,f):(0,tR.tL)(e,f),fromBytes:e=>{if(e.length!==f)throw Error(`Fp.fromBytes: expected ${f}, got ${e.length}`);return c?(0,tR.ty)(e):(0,tR.bytesToNumberBE)(e)}});return Object.freeze(y)}(tX,void 0,void 0,{sqrt:function(e){let a=BigInt(3),c=BigInt(6),u=BigInt(11),p=BigInt(22),f=BigInt(23),m=BigInt(44),y=BigInt(88),w=e*e*e%tX,E=w*w*e%tX,S=pow2(E,a,tX)*E%tX,A=pow2(S,a,tX)*E%tX,k=pow2(A,t1,tX)*w%tX,T=pow2(k,u,tX)*k%tX,O=pow2(T,p,tX)*T%tX,B=pow2(O,m,tX)*O%tX,C=pow2(B,y,tX)*B%tX,N=pow2(C,m,tX)*O%tX,R=pow2(N,a,tX)*E%tX,M=pow2(R,f,tX)*T%tX,U=pow2(M,c,tX)*w%tX,D=pow2(U,t1,tX);if(!t2.eql(t2.sqr(D),e))throw Error("Cannot find square root");return D}}),t3=function(e,a){let create=a=>(function(e){let a=function(e){let a=validateBasic(e);return tR.FF(a,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...a})}(e),{Fp:c,n:u}=a,p=c.BYTES+1,f=2*c.BYTES+1;function modN(e){return modular_mod(e,u)}let{ProjectivePoint:m,normPrivateKeyToScalar:y,weierstrassEquation:w,isWithinCurveOrder:E}=function(e){let a=/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function(e){let a=validateBasic(e);tR.FF(a,{a:"field",b:"field"},{allowedPrivateKeyLengths:"array",wrapPrivateKey:"boolean",isTorsionFree:"function",clearCofactor:"function",allowInfinityPoint:"boolean",fromBytes:"function",toBytes:"function"});let{endo:c,Fp:u,a:p}=a;if(c){if(!u.eql(p,u.ZERO))throw Error("Endomorphism can only be defined for Koblitz curves that have a=0");if("object"!=typeof c||"bigint"!=typeof c.beta||"function"!=typeof c.splitScalar)throw Error("Expected endomorphism with beta: bigint and splitScalar: function")}return Object.freeze({...a})}(e),{Fp:c}=a,u=a.toBytes||((e,a,u)=>{let p=a.toAffine();return tR.eV(Uint8Array.from([4]),c.toBytes(p.x),c.toBytes(p.y))}),p=a.fromBytes||(e=>{let a=e.subarray(1),u=c.fromBytes(a.subarray(0,c.BYTES)),p=c.fromBytes(a.subarray(c.BYTES,2*c.BYTES));return{x:u,y:p}});function weierstrassEquation(e){let{a:u,b:p}=a,f=c.sqr(e),m=c.mul(f,e);return c.add(c.add(m,c.mul(e,u)),p)}if(!c.eql(c.sqr(a.Gy),weierstrassEquation(a.Gx)))throw Error("bad generator point: equation left != right");function isWithinCurveOrder(e){return"bigint"==typeof e&&tY<e&&e<a.n}function assertGE(e){if(!isWithinCurveOrder(e))throw Error("Expected valid bigint: 0 < bigint < curve.n")}function normPrivateKeyToScalar(e){let c;let{allowedPrivateKeyLengths:u,nByteLength:p,wrapPrivateKey:f,n:m}=a;if(u&&"bigint"!=typeof e){if(e instanceof Uint8Array&&(e=tR.ci(e)),"string"!=typeof e||!u.includes(e.length))throw Error("Invalid key");e=e.padStart(2*p,"0")}try{c="bigint"==typeof e?e:tR.bytesToNumberBE((0,tR.ql)("private key",e,p))}catch(a){throw Error(`private key must be ${p} bytes, hex or bigint, not ${typeof e}`)}return f&&(c=modular_mod(c,m)),assertGE(c),c}let f=new Map;function assertPrjPoint(e){if(!(e instanceof Point))throw Error("ProjectivePoint expected")}let Point=class Point{constructor(e,a,u){if(this.px=e,this.py=a,this.pz=u,null==e||!c.isValid(e))throw Error("x required");if(null==a||!c.isValid(a))throw Error("y required");if(null==u||!c.isValid(u))throw Error("z required")}static fromAffine(e){let{x:a,y:u}=e||{};if(!e||!c.isValid(a)||!c.isValid(u))throw Error("invalid affine point");if(e instanceof Point)throw Error("projective point not allowed");let is0=e=>c.eql(e,c.ZERO);return is0(a)&&is0(u)?Point.ZERO:new Point(a,u,c.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(e){let a=c.invertBatch(e.map(e=>e.pz));return e.map((e,c)=>e.toAffine(a[c])).map(Point.fromAffine)}static fromHex(e){let a=Point.fromAffine(p((0,tR.ql)("pointHex",e)));return a.assertValidity(),a}static fromPrivateKey(e){return Point.BASE.multiply(normPrivateKeyToScalar(e))}_setWindowSize(e){this._WINDOW_SIZE=e,f.delete(this)}assertValidity(){if(this.is0()){if(a.allowInfinityPoint&&!c.is0(this.py))return;throw Error("bad point: ZERO")}let{x:e,y:u}=this.toAffine();if(!c.isValid(e)||!c.isValid(u))throw Error("bad point: x or y not FE");let p=c.sqr(u),f=weierstrassEquation(e);if(!c.eql(p,f))throw Error("bad point: equation left != right");if(!this.isTorsionFree())throw Error("bad point: not in prime-order subgroup")}hasEvenY(){let{y:e}=this.toAffine();if(c.isOdd)return!c.isOdd(e);throw Error("Field doesn't support isOdd")}equals(e){assertPrjPoint(e);let{px:a,py:u,pz:p}=this,{px:f,py:m,pz:y}=e,w=c.eql(c.mul(a,y),c.mul(f,p)),E=c.eql(c.mul(u,y),c.mul(m,p));return w&&E}negate(){return new Point(this.px,c.neg(this.py),this.pz)}double(){let{a:e,b:u}=a,p=c.mul(u,tJ),{px:f,py:m,pz:y}=this,w=c.ZERO,E=c.ZERO,S=c.ZERO,A=c.mul(f,f),k=c.mul(m,m),T=c.mul(y,y),O=c.mul(f,m);return O=c.add(O,O),S=c.mul(f,y),S=c.add(S,S),w=c.mul(e,S),E=c.mul(p,T),E=c.add(w,E),w=c.sub(k,E),E=c.add(k,E),E=c.mul(w,E),w=c.mul(O,w),S=c.mul(p,S),T=c.mul(e,T),O=c.sub(A,T),O=c.mul(e,O),O=c.add(O,S),S=c.add(A,A),A=c.add(S,A),A=c.add(A,T),A=c.mul(A,O),E=c.add(E,A),T=c.mul(m,y),T=c.add(T,T),A=c.mul(T,O),w=c.sub(w,A),S=c.mul(T,k),S=c.add(S,S),S=c.add(S,S),new Point(w,E,S)}add(e){assertPrjPoint(e);let{px:u,py:p,pz:f}=this,{px:m,py:y,pz:w}=e,E=c.ZERO,S=c.ZERO,A=c.ZERO,k=a.a,T=c.mul(a.b,tJ),O=c.mul(u,m),B=c.mul(p,y),C=c.mul(f,w),N=c.add(u,p),R=c.add(m,y);N=c.mul(N,R),R=c.add(O,B),N=c.sub(N,R),R=c.add(u,f);let M=c.add(m,w);return R=c.mul(R,M),M=c.add(O,C),R=c.sub(R,M),M=c.add(p,f),E=c.add(y,w),M=c.mul(M,E),E=c.add(B,C),M=c.sub(M,E),A=c.mul(k,R),E=c.mul(T,C),A=c.add(E,A),E=c.sub(B,A),A=c.add(B,A),S=c.mul(E,A),B=c.add(O,O),B=c.add(B,O),C=c.mul(k,C),R=c.mul(T,R),B=c.add(B,C),C=c.sub(O,C),C=c.mul(k,C),R=c.add(R,C),O=c.mul(B,R),S=c.add(S,O),O=c.mul(M,R),E=c.mul(N,E),E=c.sub(E,O),O=c.mul(N,B),A=c.mul(M,A),A=c.add(A,O),new Point(E,S,A)}subtract(e){return this.add(e.negate())}is0(){return this.equals(Point.ZERO)}wNAF(e){return y.wNAFCached(this,f,e,e=>{let a=c.invertBatch(e.map(e=>e.pz));return e.map((e,c)=>e.toAffine(a[c])).map(Point.fromAffine)})}multiplyUnsafe(e){let u=Point.ZERO;if(e===tY)return u;if(assertGE(e),e===tZ)return this;let{endo:p}=a;if(!p)return y.unsafeLadder(this,e);let{k1neg:f,k1:m,k2neg:w,k2:E}=p.splitScalar(e),S=u,A=u,k=this;for(;m>tY||E>tY;)m&tZ&&(S=S.add(k)),E&tZ&&(A=A.add(k)),k=k.double(),m>>=tZ,E>>=tZ;return f&&(S=S.negate()),w&&(A=A.negate()),A=new Point(c.mul(A.px,p.beta),A.py,A.pz),S.add(A)}multiply(e){let u,p;assertGE(e);let{endo:f}=a;if(f){let{k1neg:a,k1:m,k2neg:w,k2:E}=f.splitScalar(e),{p:S,f:A}=this.wNAF(m),{p:k,f:T}=this.wNAF(E);S=y.constTimeNegate(a,S),k=y.constTimeNegate(w,k),k=new Point(c.mul(k.px,f.beta),k.py,k.pz),u=S.add(k),p=A.add(T)}else{let{p:a,f:c}=this.wNAF(e);u=a,p=c}return Point.normalizeZ([u,p])[0]}multiplyAndAddUnsafe(e,a,c){let u=Point.BASE,mul=(e,a)=>a!==tY&&a!==tZ&&e.equals(u)?e.multiply(a):e.multiplyUnsafe(a),p=mul(this,a).add(mul(e,c));return p.is0()?void 0:p}toAffine(e){let{px:a,py:u,pz:p}=this,f=this.is0();null==e&&(e=f?c.ONE:c.inv(p));let m=c.mul(a,e),y=c.mul(u,e),w=c.mul(p,e);if(f)return{x:c.ZERO,y:c.ZERO};if(!c.eql(w,c.ONE))throw Error("invZ was invalid");return{x:m,y:y}}isTorsionFree(){let{h:e,isTorsionFree:c}=a;if(e===tZ)return!0;if(c)return c(Point,this);throw Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){let{h:e,clearCofactor:c}=a;return e===tZ?this:c?c(Point,this):this.multiplyUnsafe(a.h)}toRawBytes(e=!0){return this.assertValidity(),u(Point,this,e)}toHex(e=!0){return tR.ci(this.toRawBytes(e))}};Point.BASE=new Point(a.Gx,a.Gy,c.ONE),Point.ZERO=new Point(c.ZERO,c.ONE,c.ZERO);let m=a.nBitLength,y=function(e,a){let constTimeNegate=(e,a)=>{let c=a.negate();return e?c:a},opts=e=>({windows:Math.ceil(a/e)+1,windowSize:2**(e-1)});return{constTimeNegate,unsafeLadder(a,c){let u=e.ZERO,p=a;for(;c>tG;)c&tz&&(u=u.add(p)),p=p.double(),c>>=tz;return u},precomputeWindow(e,a){let{windows:c,windowSize:u}=opts(a),p=[],f=e,m=f;for(let e=0;e<c;e++){m=f,p.push(m);for(let e=1;e<u;e++)m=m.add(f),p.push(m);f=m.double()}return p},wNAF(a,c,u){let{windows:p,windowSize:f}=opts(a),m=e.ZERO,y=e.BASE,w=BigInt(2**a-1),E=2**a,S=BigInt(a);for(let e=0;e<p;e++){let a=e*f,p=Number(u&w);u>>=S,p>f&&(p-=E,u+=tz);let A=a+Math.abs(p)-1,k=e%2!=0,T=p<0;0===p?y=y.add(constTimeNegate(k,c[a])):m=m.add(constTimeNegate(T,c[A]))}return{p:m,f:y}},wNAFCached(e,a,c,u){let p=e._WINDOW_SIZE||1,f=a.get(e);return f||(f=this.precomputeWindow(e,p),1!==p&&a.set(e,u(f))),this.wNAF(p,f,c)}}}(Point,a.endo?Math.ceil(m/2):m);return{CURVE:a,ProjectivePoint:Point,normPrivateKeyToScalar,weierstrassEquation,isWithinCurveOrder}}({...a,toBytes(e,a,u){let p=a.toAffine(),f=c.toBytes(p.x),m=tR.eV;return u?m(Uint8Array.from([a.hasEvenY()?2:3]),f):m(Uint8Array.from([4]),f,c.toBytes(p.y))},fromBytes(e){let a=e.length,u=e[0],m=e.subarray(1);if(a===p&&(2===u||3===u)){let e=tR.bytesToNumberBE(m);if(!(tY<e&&e<c.ORDER))throw Error("Point is not on curve");let a=w(e),p=c.sqrt(a),f=(p&tZ)===tZ;return(1&u)==1!==f&&(p=c.neg(p)),{x:e,y:p}}if(a===f&&4===u){let e=c.fromBytes(m.subarray(0,c.BYTES)),a=c.fromBytes(m.subarray(c.BYTES,2*c.BYTES));return{x:e,y:a}}throw Error(`Point of length ${a} was invalid. Expected ${p} compressed bytes or ${f} uncompressed bytes`)}}),numToNByteStr=e=>tR.ci(tR.tL(e,a.nByteLength));function isBiggerThanHalfOrder(e){let a=u>>tZ;return e>a}let slcNum=(e,a,c)=>tR.bytesToNumberBE(e.slice(a,c));let Signature=class Signature{constructor(e,a,c){this.r=e,this.s=a,this.recovery=c,this.assertValidity()}static fromCompact(e){let c=a.nByteLength;return e=(0,tR.ql)("compactSignature",e,2*c),new Signature(slcNum(e,0,c),slcNum(e,c,2*c))}static fromDER(e){let{r:a,s:c}=tQ.toSig((0,tR.ql)("DER",e));return new Signature(a,c)}assertValidity(){if(!E(this.r))throw Error("r must be 0 < r < CURVE.n");if(!E(this.s))throw Error("s must be 0 < s < CURVE.n")}addRecoveryBit(e){return new Signature(this.r,this.s,e)}recoverPublicKey(e){let{r:p,s:f,recovery:y}=this,w=A((0,tR.ql)("msgHash",e));if(null==y||![0,1,2,3].includes(y))throw Error("recovery id invalid");let E=2===y||3===y?p+a.n:p;if(E>=c.ORDER)throw Error("recovery id 2 or 3 invalid");let S=(1&y)==0?"02":"03",k=m.fromHex(S+numToNByteStr(E)),T=invert(E,u),O=modN(-w*T),B=modN(f*T),C=m.BASE.multiplyAndAddUnsafe(k,O,B);if(!C)throw Error("point at infinify");return C.assertValidity(),C}hasHighS(){return isBiggerThanHalfOrder(this.s)}normalizeS(){return this.hasHighS()?new Signature(this.r,modN(-this.s),this.recovery):this}toDERRawBytes(){return tR.hexToBytes(this.toDERHex())}toDERHex(){return tQ.hexFromSig({r:this.r,s:this.s})}toCompactRawBytes(){return tR.hexToBytes(this.toCompactHex())}toCompactHex(){return numToNByteStr(this.r)+numToNByteStr(this.s)}};function isProbPub(e){let a=e instanceof Uint8Array,c="string"==typeof e,u=(a||c)&&e.length;return a?u===p||u===f:c?u===2*p||u===2*f:e instanceof m}let S=a.bits2int||function(e){let c=tR.bytesToNumberBE(e),u=8*e.length-a.nBitLength;return u>0?c>>BigInt(u):c},A=a.bits2int_modN||function(e){return modN(S(e))},k=tR.dQ(a.nBitLength);function int2octets(e){if("bigint"!=typeof e)throw Error("bigint expected");if(!(tY<=e&&e<k))throw Error(`bigint expected < 2^${a.nBitLength}`);return tR.tL(e,a.nByteLength)}let T={lowS:a.lowS,prehash:!1},O={lowS:a.lowS,prehash:!1};return m.BASE._setWindowSize(8),{CURVE:a,getPublicKey:function(e,a=!0){return m.fromPrivateKey(e).toRawBytes(a)},getSharedSecret:function(e,a,c=!0){if(isProbPub(e))throw Error("first arg must be private key");if(!isProbPub(a))throw Error("second arg must be public key");let u=m.fromHex(a);return u.multiply(y(e)).toRawBytes(c)},sign:function(e,p,f=T){let{seed:w,k2sig:k}=function(e,p,f=T){if(["recovered","canonical"].some(e=>e in f))throw Error("sign() legacy options not supported");let{hash:w,randomBytes:k}=a,{lowS:O,prehash:B,extraEntropy:C}=f;null==O&&(O=!0),e=(0,tR.ql)("msgHash",e),B&&(e=(0,tR.ql)("prehashed msgHash",w(e)));let N=A(e),R=y(p),M=[int2octets(R),int2octets(N)];if(null!=C){let e=!0===C?k(c.BYTES):C;M.push((0,tR.ql)("extraEntropy",e))}let U=tR.eV(...M);return{seed:U,k2sig:function(e){let a=S(e);if(!E(a))return;let c=invert(a,u),p=m.BASE.multiply(a).toAffine(),f=modN(p.x);if(f===tY)return;let y=modN(c*modN(N+f*R));if(y===tY)return;let w=(p.x===f?0:2)|Number(p.y&tZ),A=y;return O&&isBiggerThanHalfOrder(y)&&(A=isBiggerThanHalfOrder(y)?modN(-y):y,w^=1),new Signature(f,A,w)}}}(e,p,f),O=tR.n$(a.hash.outputLen,a.nByteLength,a.hmac);return O(w,k)},verify:function(e,c,p,f=O){let y,w;if(c=(0,tR.ql)("msgHash",c),p=(0,tR.ql)("publicKey",p),"strict"in f)throw Error("options.strict was renamed to lowS");let{lowS:E,prehash:S}=f;try{if("string"==typeof e||e instanceof Uint8Array)try{w=Signature.fromDER(e)}catch(a){if(!(a instanceof tQ.Err))throw a;w=Signature.fromCompact(e)}else if("object"==typeof e&&"bigint"==typeof e.r&&"bigint"==typeof e.s){let{r:a,s:c}=e;w=new Signature(a,c)}else throw Error("PARSE");y=m.fromHex(p)}catch(e){if("PARSE"===e.message)throw Error("signature must be Signature instance, Uint8Array or hex string");return!1}if(E&&w.hasHighS())return!1;S&&(c=a.hash(c));let{r:k,s:T}=w,B=A(c),C=invert(T,u),N=modN(B*C),R=modN(k*C),M=m.BASE.multiplyAndAddUnsafe(y,N,R)?.toAffine();if(!M)return!1;let U=modN(M.x);return U===k},ProjectivePoint:m,Signature,utils:{isValidPrivateKey(e){try{return y(e),!0}catch(e){return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{let e=getMinHashLength(a.n);return function(e,a,c=!1){let u=e.length,p=getFieldBytesLength(a),f=getMinHashLength(a);if(u<16||u<f||u>1024)throw Error(`expected ${f}-1024 bytes of input, got ${u}`);let m=c?(0,tR.bytesToNumberBE)(e):(0,tR.ty)(e),y=modular_mod(m,a-tU)+tU;return c?(0,tR.S5)(y,p):(0,tR.tL)(y,p)}(a.randomBytes(e),a.n)},precompute:(e=8,a=m.BASE)=>(a._setWindowSize(e),a.multiply(BigInt(3)),a)}}})({...e,hash:a,hmac:(e,...c)=>hmac_hmac(a,e,(0,tm.eV)(...c)),randomBytes:tm.O6});return Object.freeze({...create(a),create})}({a:BigInt(0),b:BigInt(7),Fp:t2,n:t$,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:e=>{let a=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),c=-t0*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),u=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),p=BigInt("0x100000000000000000000000000000000"),f=divNearest(a*e,t$),m=divNearest(-c*e,t$),y=modular_mod(e-f*a-m*u,t$),w=modular_mod(-f*c-m*a,t$),E=y>p,S=w>p;if(E&&(y=t$-y),S&&(w=t$-w),y>p||w>p)throw Error("splitScalar: Endomorphism failed, k="+e);return{k1neg:E,k1:y,k2neg:S,k2:w}}}},tp.J);BigInt(0),t3.ProjectivePoint;let SigningKey=class SigningKey{#$;constructor(e){(0,L.en)(32===(0,H.M5)(e),"invalid private key","privateKey","[REDACTED]"),this.#$=(0,H.Dv)(e)}get privateKey(){return this.#$}get publicKey(){return SigningKey.computePublicKey(this.#$)}get compressedPublicKey(){return SigningKey.computePublicKey(this.#$,!0)}sign(e){(0,L.en)(32===(0,H.M5)(e),"invalid digest length","digest",e);let a=t3.sign((0,H.h_)(e),(0,H.h_)(this.#$),{lowS:!0});return Signature.from({r:(0,F.m9)(a.r,32),s:(0,F.m9)(a.s,32),v:a.recovery?28:27})}computeSharedSecret(e){let a=SigningKey.computePublicKey(e);return(0,H.Dv)(t3.getSharedSecret((0,H.h_)(this.#$),(0,H.Pw)(a),!1))}static computePublicKey(e,a){let c=(0,H.Pw)(e,"key");if(32===c.length){let e=t3.getPublicKey(c,!!a);return(0,H.Dv)(e)}if(64===c.length){let e=new Uint8Array(65);e[0]=4,e.set(c,1),c=e}let u=t3.ProjectivePoint.fromHex(c);return(0,H.Dv)(u.toRawBytes(a))}static recoverPublicKey(e,a){(0,L.en)(32===(0,H.M5)(e),"invalid digest length","digest",e);let c=Signature.from(a),u=t3.Signature.fromCompact((0,H.h_)((0,H.zo)([c.r,c.s])));u=u.addRecoveryBit(c.yParity);let p=u.recoverPublicKey((0,H.h_)(e));return(0,L.en)(null!=p,"invalid signautre for digest","signature",a),"0x"+p.toHex(!1)}static addPoints(e,a,c){let u=t3.ProjectivePoint.fromHex(SigningKey.computePublicKey(e).substring(2)),p=t3.ProjectivePoint.fromHex(SigningKey.computePublicKey(a).substring(2));return"0x"+u.add(p).toHex(!!c)}};function unarrayifyInteger(e,a,c){let u=0;for(let p=0;p<c;p++)u=256*u+e[a+p];return u}function _decodeChildren(e,a,c,u){let p=[];for(;c<a+1+u;){let f=_decode(e,c);p.push(f.result),c+=f.consumed,(0,L.hu)(c<=a+1+u,"child data too short","BUFFER_OVERRUN",{buffer:e,length:u,offset:a})}return{consumed:1+u,result:p}}function _decode(e,a){(0,L.hu)(0!==e.length,"data too short","BUFFER_OVERRUN",{buffer:e,length:0,offset:1});let checkOffset=a=>{(0,L.hu)(a<=e.length,"data short segment too short","BUFFER_OVERRUN",{buffer:e,length:e.length,offset:a})};if(e[a]>=248){let c=e[a]-247;checkOffset(a+1+c);let u=unarrayifyInteger(e,a+1,c);return checkOffset(a+1+c+u),_decodeChildren(e,a,a+1+c,c+u)}if(e[a]>=192){let c=e[a]-192;return checkOffset(a+1+c),_decodeChildren(e,a,a+1,c)}if(e[a]>=184){let c=e[a]-183;checkOffset(a+1+c);let u=unarrayifyInteger(e,a+1,c);checkOffset(a+1+c+u);let p=(0,H.Dv)(e.slice(a+1+c,a+1+c+u));return{consumed:1+c+u,result:p}}if(e[a]>=128){let c=e[a]-128;checkOffset(a+1+c);let u=(0,H.Dv)(e.slice(a+1,a+1+c));return{consumed:1+c,result:u}}return{consumed:1,result:function(e){let a=e.toString(16);for(;a.length<2;)a="0"+a;return"0x"+a}(e[a])}}function decodeRlp(e){let a=(0,H.Pw)(e,"data"),c=_decode(a,0);return(0,L.en)(c.consumed===a.length,"unexpected junk after rlp payload","data",e),c.result}function arrayifyInteger(e){let a=[];for(;e;)a.unshift(255&e),e>>=8;return a}let t6="0123456789abcdef";function encodeRlp(e){let a="0x";for(let c of function _encode(e){if(Array.isArray(e)){let a=[];if(e.forEach(function(e){a=a.concat(_encode(e))}),a.length<=55)return a.unshift(192+a.length),a;let c=arrayifyInteger(a.length);return c.unshift(247+c.length),c.concat(a)}let a=Array.prototype.slice.call((0,H.Pw)(e,"object"));if(1===a.length&&a[0]<=127)return a;if(a.length<=55)return a.unshift(128+a.length),a;let c=arrayifyInteger(a.length);return c.unshift(183+c.length),c.concat(a)}(e))a+=t6[c>>4]+t6[15&c];return a}let t8=BigInt(0),t4=BigInt(2),t5=BigInt(27),t7=BigInt(28),t9=BigInt(35),et=BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function getVersionedHash(e,a){let c=e.toString(16);for(;c.length<2;)c="0"+c;return"0x"+(c+=sha2_sha256(a).substring(4))}function handleAddress(e){return"0x"===e?null:(0,M.K)(e)}function handleAccessList(e,a){try{return(0,tt.z)(e)}catch(c){(0,L.en)(!1,c.message,a,e)}}function handleNumber(e,a){return"0x"===e?0:(0,F.Dx)(e,a)}function handleUint(e,a){if("0x"===e)return t8;let c=(0,F.yT)(e,a);return(0,L.en)(c<=et,"value exceeds uint size",a,c),c}function formatNumber(e,a){let c=(0,F.yT)(e,"value"),u=(0,F.ot)(c);return(0,L.en)(u.length<=32,"value too large",`tx.${a}`,c),u}function formatAccessList(e){return(0,tt.z)(e).map(e=>[e.address,e.storageKeys])}function _parseEipSignature(e,a){let c;try{if(c=handleNumber(a[0],"yParity"),0!==c&&1!==c)throw Error("bad yParity")}catch(e){(0,L.en)(!1,"invalid yParity","yParity",a[0])}let u=(0,H.U3)(a[1],32),p=(0,H.U3)(a[2],32),f=Signature.from({r:u,s:p,yParity:c});e.signature=f}let Transaction=class Transaction{#tt;#te;#r;#tr;#tn;#ti;#ts;#to;#ta;#tc;#tu;#tl;#th;#tp;#tf;#td;get type(){return this.#tt}set type(e){switch(e){case null:this.#tt=null;break;case 0:case"legacy":this.#tt=0;break;case 1:case"berlin":case"eip-2930":this.#tt=1;break;case 2:case"london":case"eip-1559":this.#tt=2;break;case 3:case"cancun":case"eip-4844":this.#tt=3;break;default:(0,L.en)(!1,"unsupported transaction type","type",e)}}get typeName(){switch(this.type){case 0:return"legacy";case 1:return"eip-2930";case 2:return"eip-1559";case 3:return"eip-4844"}return null}get to(){let e=this.#te;return null==e&&3===this.type?tc:e}set to(e){this.#te=null==e?null:(0,M.K)(e)}get nonce(){return this.#tr}set nonce(e){this.#tr=(0,F.Dx)(e,"value")}get gasLimit(){return this.#tn}set gasLimit(e){this.#tn=(0,F.yT)(e)}get gasPrice(){let e=this.#ti;return null==e&&(0===this.type||1===this.type)?t8:e}set gasPrice(e){this.#ti=null==e?null:(0,F.yT)(e,"gasPrice")}get maxPriorityFeePerGas(){let e=this.#ts;return null==e?2===this.type||3===this.type?t8:null:e}set maxPriorityFeePerGas(e){this.#ts=null==e?null:(0,F.yT)(e,"maxPriorityFeePerGas")}get maxFeePerGas(){let e=this.#to;return null==e?2===this.type||3===this.type?t8:null:e}set maxFeePerGas(e){this.#to=null==e?null:(0,F.yT)(e,"maxFeePerGas")}get data(){return this.#r}set data(e){this.#r=(0,H.Dv)(e)}get value(){return this.#ta}set value(e){this.#ta=(0,F.yT)(e,"value")}get chainId(){return this.#tc}set chainId(e){this.#tc=(0,F.yT)(e)}get signature(){return this.#tu||null}set signature(e){this.#tu=null==e?null:Signature.from(e)}get accessList(){let e=this.#tl||null;return null==e?1===this.type||2===this.type||3===this.type?[]:null:e}set accessList(e){this.#tl=null==e?null:(0,tt.z)(e)}get maxFeePerBlobGas(){let e=this.#th;return null==e&&3===this.type?t8:e}set maxFeePerBlobGas(e){this.#th=null==e?null:(0,F.yT)(e,"maxFeePerBlobGas")}get blobVersionedHashes(){let e=this.#tp;return null==e&&3===this.type?[]:e}set blobVersionedHashes(e){if(null!=e){(0,L.en)(Array.isArray(e),"blobVersionedHashes must be an Array","value",e),e=e.slice();for(let a=0;a<e.length;a++)(0,L.en)((0,H.A7)(e[a],32),"invalid blobVersionedHash",`value[${a}]`,e[a])}this.#tp=e}get blobs(){return null==this.#td?null:this.#td.map(e=>Object.assign({},e))}set blobs(e){if(null==e){this.#td=null;return}let a=[],c=[];for(let u=0;u<e.length;u++){let p=e[u];if((0,H.Zq)(p)){(0,L.hu)(this.#tf,"adding a raw blob requires a KZG library","UNSUPPORTED_OPERATION",{operation:"set blobs()"});let e=(0,H.Pw)(p);if((0,L.en)(e.length<=131072,"blob is too large",`blobs[${u}]`,p),131072!==e.length){let a=new Uint8Array(131072);a.set(e),e=a}let f=this.#tf.blobToKzgCommitment(e),m=(0,H.Dv)(this.#tf.computeBlobKzgProof(e,f));a.push({data:(0,H.Dv)(e),commitment:(0,H.Dv)(f),proof:m}),c.push(getVersionedHash(1,f))}else{let e=(0,H.Dv)(p.commitment);a.push({data:(0,H.Dv)(p.data),commitment:e,proof:(0,H.Dv)(p.proof)}),c.push(getVersionedHash(1,e))}}this.#td=a,this.#tp=c}get kzg(){return this.#tf}set kzg(e){this.#tf=e}constructor(){this.#tt=null,this.#te=null,this.#tr=0,this.#tn=t8,this.#ti=null,this.#ts=null,this.#to=null,this.#r="0x",this.#ta=t8,this.#tc=t8,this.#tu=null,this.#tl=null,this.#th=null,this.#tp=null,this.#td=null,this.#tf=null}get hash(){return null==this.signature?null:(0,D.w)(this.#tm(!0,!1))}get unsignedHash(){return(0,D.w)(this.unsignedSerialized)}get from(){var e,a,c;let u;return null==this.signature?null:(e=this.unsignedHash,a=this.signature,u="string"==typeof(c=SigningKey.recoverPublicKey(e,a))?SigningKey.computePublicKey(c,!1):c.publicKey,(0,M.K)((0,D.w)("0x"+u.substring(4)).substring(26)))}get fromPublicKey(){return null==this.signature?null:SigningKey.recoverPublicKey(this.unsignedHash,this.signature)}isSigned(){return null!=this.signature}#tm(e,a){(0,L.hu)(!e||null!=this.signature,"cannot serialize unsigned transaction; maybe you meant .unsignedSerialized","UNSUPPORTED_OPERATION",{operation:".serialized"});let c=e?this.signature:null;switch(this.inferType()){case 0:return function(e,a){let c=[formatNumber(e.nonce,"nonce"),formatNumber(e.gasPrice||0,"gasPrice"),formatNumber(e.gasLimit,"gasLimit"),e.to||"0x",formatNumber(e.value,"value"),e.data],u=t8;if(e.chainId!=t8)u=(0,F.yT)(e.chainId,"tx.chainId"),(0,L.en)(!a||null==a.networkV||a.legacyChainId===u,"tx.chainId/sig.v mismatch","sig",a);else if(e.signature){let a=e.signature.legacyChainId;null!=a&&(u=a)}if(!a)return u!==t8&&(c.push((0,F.ot)(u)),c.push("0x"),c.push("0x")),encodeRlp(c);let p=BigInt(27+a.yParity);return u!==t8?p=Signature.getChainIdV(u,a.v):BigInt(a.v)!==p&&(0,L.en)(!1,"tx.chainId/sig.v mismatch","sig",a),c.push((0,F.ot)(p)),c.push((0,F.ot)(a.r)),c.push((0,F.ot)(a.s)),encodeRlp(c)}(this,c);case 1:return function(e,a){let c=[formatNumber(e.chainId,"chainId"),formatNumber(e.nonce,"nonce"),formatNumber(e.gasPrice||0,"gasPrice"),formatNumber(e.gasLimit,"gasLimit"),e.to||"0x",formatNumber(e.value,"value"),e.data,formatAccessList(e.accessList||[])];return a&&(c.push(formatNumber(a.yParity,"recoveryParam")),c.push((0,F.ot)(a.r)),c.push((0,F.ot)(a.s))),(0,H.zo)(["0x01",encodeRlp(c)])}(this,c);case 2:return function(e,a){let c=[formatNumber(e.chainId,"chainId"),formatNumber(e.nonce,"nonce"),formatNumber(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(e.maxFeePerGas||0,"maxFeePerGas"),formatNumber(e.gasLimit,"gasLimit"),e.to||"0x",formatNumber(e.value,"value"),e.data,formatAccessList(e.accessList||[])];return a&&(c.push(formatNumber(a.yParity,"yParity")),c.push((0,F.ot)(a.r)),c.push((0,F.ot)(a.s))),(0,H.zo)(["0x02",encodeRlp(c)])}(this,c);case 3:return function(e,a,c){let u=[formatNumber(e.chainId,"chainId"),formatNumber(e.nonce,"nonce"),formatNumber(e.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),formatNumber(e.maxFeePerGas||0,"maxFeePerGas"),formatNumber(e.gasLimit,"gasLimit"),e.to||tc,formatNumber(e.value,"value"),e.data,formatAccessList(e.accessList||[]),formatNumber(e.maxFeePerBlobGas||0,"maxFeePerBlobGas"),function(e,a){(0,L.en)(Array.isArray(e),`invalid ${a}`,"value",e);for(let a=0;a<e.length;a++)(0,L.en)((0,H.A7)(e[a],32),"invalid ${ param } hash",`value[${a}]`,e[a]);return e}(e.blobVersionedHashes||[],"blobVersionedHashes")];return a&&(u.push(formatNumber(a.yParity,"yParity")),u.push((0,F.ot)(a.r)),u.push((0,F.ot)(a.s)),c)?(0,H.zo)(["0x03",encodeRlp([u,c.map(e=>e.data),c.map(e=>e.commitment),c.map(e=>e.proof)])]):(0,H.zo)(["0x03",encodeRlp(u)])}(this,c,a?this.blobs:null)}(0,L.hu)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:".serialized"})}get serialized(){return this.#tm(!0,!0)}get unsignedSerialized(){return this.#tm(!1,!1)}inferType(){let e=this.inferTypes();return e.indexOf(2)>=0?2:e.pop()}inferTypes(){let e=null!=this.gasPrice,a=null!=this.maxFeePerGas||null!=this.maxPriorityFeePerGas,c=null!=this.accessList,u=null!=this.#th||this.#tp;null!=this.maxFeePerGas&&null!=this.maxPriorityFeePerGas&&(0,L.hu)(this.maxFeePerGas>=this.maxPriorityFeePerGas,"priorityFee cannot be more than maxFee","BAD_DATA",{value:this}),(0,L.hu)(!a||0!==this.type&&1!==this.type,"transaction type cannot have maxFeePerGas or maxPriorityFeePerGas","BAD_DATA",{value:this}),(0,L.hu)(0!==this.type||!c,"legacy transaction cannot have accessList","BAD_DATA",{value:this});let p=[];return null!=this.type?p.push(this.type):a?p.push(2):e?(p.push(1),c||p.push(0)):c?(p.push(1),p.push(2)):(u&&this.to||(p.push(0),p.push(1),p.push(2)),p.push(3)),p.sort(),p}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}clone(){return Transaction.from(this)}toJSON(){let s=e=>null==e?null:e.toString();return{type:this.type,to:this.to,data:this.data,nonce:this.nonce,gasLimit:s(this.gasLimit),gasPrice:s(this.gasPrice),maxPriorityFeePerGas:s(this.maxPriorityFeePerGas),maxFeePerGas:s(this.maxFeePerGas),value:s(this.value),chainId:s(this.chainId),sig:this.signature?this.signature.toJSON():null,accessList:this.accessList}}static from(e){if(null==e)return new Transaction;if("string"==typeof e){let a=(0,H.Pw)(e);if(a[0]>=127)return Transaction.from(function(e){let a=decodeRlp(e);(0,L.en)(Array.isArray(a)&&(9===a.length||6===a.length),"invalid field count for legacy transaction","data",e);let c={type:0,nonce:handleNumber(a[0],"nonce"),gasPrice:handleUint(a[1],"gasPrice"),gasLimit:handleUint(a[2],"gasLimit"),to:handleAddress(a[3]),value:handleUint(a[4],"value"),data:(0,H.Dv)(a[5]),chainId:t8};if(6===a.length)return c;let u=handleUint(a[6],"v"),p=handleUint(a[7],"r"),f=handleUint(a[8],"s");if(p===t8&&f===t8)c.chainId=u;else{let e=(u-t9)/t4;e<t8&&(e=t8),c.chainId=e,(0,L.en)(e!==t8||u===t5||u===t7,"non-canonical legacy v","v",a[6]),c.signature=Signature.from({r:(0,H.U3)(a[7],32),s:(0,H.U3)(a[8],32),v:u})}return c}(a));switch(a[0]){case 1:return Transaction.from(function(e){let a=decodeRlp((0,H.Pw)(e).slice(1));(0,L.en)(Array.isArray(a)&&(8===a.length||11===a.length),"invalid field count for transaction type: 1","data",(0,H.Dv)(e));let c={type:1,chainId:handleUint(a[0],"chainId"),nonce:handleNumber(a[1],"nonce"),gasPrice:handleUint(a[2],"gasPrice"),gasLimit:handleUint(a[3],"gasLimit"),to:handleAddress(a[4]),value:handleUint(a[5],"value"),data:(0,H.Dv)(a[6]),accessList:handleAccessList(a[7],"accessList")};return 8===a.length||_parseEipSignature(c,a.slice(8)),c}(a));case 2:return Transaction.from(function(e){let a=decodeRlp((0,H.Pw)(e).slice(1));(0,L.en)(Array.isArray(a)&&(9===a.length||12===a.length),"invalid field count for transaction type: 2","data",(0,H.Dv)(e));let c={type:2,chainId:handleUint(a[0],"chainId"),nonce:handleNumber(a[1],"nonce"),maxPriorityFeePerGas:handleUint(a[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(a[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(a[4],"gasLimit"),to:handleAddress(a[5]),value:handleUint(a[6],"value"),data:(0,H.Dv)(a[7]),accessList:handleAccessList(a[8],"accessList")};return 9===a.length||_parseEipSignature(c,a.slice(9)),c}(a));case 3:return Transaction.from(function(e){let a=decodeRlp((0,H.Pw)(e).slice(1)),c="3",u=null;if(4===a.length&&Array.isArray(a[0])){c="3 (network format)";let e=a[1],p=a[2],f=a[3];(0,L.en)(Array.isArray(e),"invalid network format: blobs not an array","fields[1]",e),(0,L.en)(Array.isArray(p),"invalid network format: commitments not an array","fields[2]",p),(0,L.en)(Array.isArray(f),"invalid network format: proofs not an array","fields[3]",f),(0,L.en)(e.length===p.length,"invalid network format: blobs/commitments length mismatch","fields",a),(0,L.en)(e.length===f.length,"invalid network format: blobs/proofs length mismatch","fields",a),u=[];for(let c=0;c<a[1].length;c++)u.push({data:e[c],commitment:p[c],proof:f[c]});a=a[0]}(0,L.en)(Array.isArray(a)&&(11===a.length||14===a.length),`invalid field count for transaction type: ${c}`,"data",(0,H.Dv)(e));let p={type:3,chainId:handleUint(a[0],"chainId"),nonce:handleNumber(a[1],"nonce"),maxPriorityFeePerGas:handleUint(a[2],"maxPriorityFeePerGas"),maxFeePerGas:handleUint(a[3],"maxFeePerGas"),gasPrice:null,gasLimit:handleUint(a[4],"gasLimit"),to:handleAddress(a[5]),value:handleUint(a[6],"value"),data:(0,H.Dv)(a[7]),accessList:handleAccessList(a[8],"accessList"),maxFeePerBlobGas:handleUint(a[9],"maxFeePerBlobGas"),blobVersionedHashes:a[10]};u&&(p.blobs=u),(0,L.en)(null!=p.to,`invalid address for transaction type: ${c}`,"data",e),(0,L.en)(Array.isArray(p.blobVersionedHashes),"invalid blobVersionedHashes: must be an array","data",e);for(let a=0;a<p.blobVersionedHashes.length;a++)(0,L.en)((0,H.A7)(p.blobVersionedHashes[a],32),`invalid blobVersionedHash at index ${a}: must be length 32`,"data",e);return 11===a.length||_parseEipSignature(p,a.slice(11)),p}(a))}(0,L.hu)(!1,"unsupported transaction type","UNSUPPORTED_OPERATION",{operation:"from"})}let a=new Transaction;return null!=e.type&&(a.type=e.type),null!=e.to&&(a.to=e.to),null!=e.nonce&&(a.nonce=e.nonce),null!=e.gasLimit&&(a.gasLimit=e.gasLimit),null!=e.gasPrice&&(a.gasPrice=e.gasPrice),null!=e.maxPriorityFeePerGas&&(a.maxPriorityFeePerGas=e.maxPriorityFeePerGas),null!=e.maxFeePerGas&&(a.maxFeePerGas=e.maxFeePerGas),null!=e.maxFeePerBlobGas&&(a.maxFeePerBlobGas=e.maxFeePerBlobGas),null!=e.data&&(a.data=e.data),null!=e.value&&(a.value=e.value),null!=e.chainId&&(a.chainId=e.chainId),null!=e.signature&&(a.signature=Signature.from(e.signature)),null!=e.accessList&&(a.accessList=e.accessList),null!=e.blobVersionedHashes&&(a.blobVersionedHashes=e.blobVersionedHashes),null!=e.kzg&&(a.kzg=e.kzg),null!=e.blobs&&(a.blobs=e.blobs),null!=e.hash&&((0,L.en)(a.isSigned(),"unsigned transaction cannot define '.hash'","tx",e),(0,L.en)(a.hash===e.hash,"hash mismatch","tx",e)),null!=e.from&&((0,L.en)(a.isSigned(),"unsigned transaction cannot define '.from'","tx",e),(0,L.en)(a.from.toLowerCase()===(e.from||"").toLowerCase(),"from mismatch","tx",e)),a}};var ee=c(80691);let er="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";BigInt(0);let en=BigInt(58);function getIpfsLink(e){return e.match(/^ipfs:\/\/ipfs\//i)?e=e.substring(12):e.match(/^ipfs:\/\//i)?e=e.substring(7):(0,L.en)(!1,"unsupported IPFS format","link",e),`https://gateway.ipfs.io/ipfs/${e}`}let MulticoinProviderPlugin=class MulticoinProviderPlugin{name;constructor(e){(0,K.h)(this,{name:e})}connect(e){return this}supportsCoinType(e){return!1}async encodeAddress(e,a){throw Error("unsupported coin")}async decodeAddress(e,a){throw Error("unsupported coin")}};let ei=RegExp("^(ipfs)://(.*)$","i"),es=[RegExp("^(https)://(.*)$","i"),RegExp("^(data):(.*)$","i"),ei,RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];let EnsResolver=class EnsResolver{provider;address;name;#tg;#ty;constructor(e,a,c){(0,K.h)(this,{provider:e,address:a,name:c}),this.#tg=null,this.#ty=new tu.CH(a,["function supportsInterface(bytes4) view returns (bool)","function resolve(bytes, bytes) view returns (bytes)","function addr(bytes32) view returns (address)","function addr(bytes32, uint) view returns (bytes)","function text(bytes32, string) view returns (string)","function contenthash(bytes32) view returns (bytes)"],e)}async supportsWildcard(){return null==this.#tg&&(this.#tg=(async()=>{try{return await this.#ty.supportsInterface("0x9061b923")}catch(e){if((0,L.VZ)(e,"CALL_EXCEPTION"))return!1;throw this.#tg=null,e}})()),await this.#tg}async #tb(e,a){a=(a||[]).slice();let c=this.#ty.interface;a.unshift(namehash(this.name));let u=null;await this.supportsWildcard()&&(u=c.getFunction(e),(0,L.hu)(u,"missing fragment","UNKNOWN_ERROR",{info:{funcName:e}}),a=[function(e,a){let c=null!=a?a:63;return(0,L.en)(c<=255,"DNS encoded label cannot exceed 255","length",c),(0,H.Dv)((0,H.zo)(ensNameSplit(e).map(a=>{(0,L.en)(a.length<=c,`label ${JSON.stringify(e)} exceeds ${c} bytes`,"name",e);let u=new Uint8Array(a.length+1);return u.set(a,1),u[0]=u.length-1,u})))+"00"}(this.name,255),c.encodeFunctionData(u,a)],e="resolve(bytes,bytes)"),a.push({enableCcipRead:!0});try{let p=await this.#ty[e](...a);if(u)return c.decodeFunctionResult(u,p)[0];return p}catch(e){if(!(0,L.VZ)(e,"CALL_EXCEPTION"))throw e}return null}async getAddress(e){if(null==e&&(e=60),60===e)try{let e=await this.#tb("addr(bytes32)");if(null==e||e===tc)return null;return e}catch(e){if((0,L.VZ)(e,"CALL_EXCEPTION"))return null;throw e}if(e>=0&&e<2147483648){let a=e+2147483648,c=await this.#tb("addr(bytes32,uint)",[a]);if((0,H.A7)(c,20))return(0,M.K)(c)}let a=null;for(let c of this.provider.plugins)if(c instanceof MulticoinProviderPlugin&&c.supportsCoinType(e)){a=c;break}if(null==a)return null;let c=await this.#tb("addr(bytes32,uint)",[e]);if(null==c||"0x"===c)return null;let u=await a.decodeAddress(e,c);if(null!=u)return u;(0,L.hu)(!1,"invalid coin data","UNSUPPORTED_OPERATION",{operation:`getAddress(${e})`,info:{coinType:e,data:c}})}async getText(e){let a=await this.#tb("text(bytes32,string)",[e]);return null==a||"0x"===a?null:a}async getContentHash(){let e=await this.#tb("contenthash(bytes32)");if(null==e||"0x"===e)return null;let a=e.match(/^0x(e3010170|e5010172)(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(a){let e="e3010170"===a[1]?"ipfs":"ipns",c=parseInt(a[4],16);if(a[5].length===2*c)return`${e}://${function(e){let a=(0,H.Pw)(e),c=(0,F.Gh)(a),u="";for(;c;)u=er[Number(c%en)]+u,c/=en;for(let e=0;e<a.length&&!a[e];e++)u=er[0]+u;return u}("0x"+a[2])}`}let c=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(c&&64===c[1].length)return`bzz://${c[1]}`;(0,L.hu)(!1,"invalid or unsupported content hash data","UNSUPPORTED_OPERATION",{operation:"getContentHash()",info:{data:e}})}async getAvatar(){let e=await this._getAvatar();return e.url}async _getAvatar(){let e=[{type:"name",value:this.name}];try{let a=await this.getText("avatar");if(null==a)return e.push({type:"!avatar",value:""}),{url:null,linkage:e};e.push({type:"avatar",value:a});for(let c=0;c<es.length;c++){let u=a.match(es[c]);if(null==u)continue;let p=u[1].toLowerCase();switch(p){case"https":case"data":return e.push({type:"url",value:a}),{linkage:e,url:a};case"ipfs":{let c=getIpfsLink(a);return e.push({type:"ipfs",value:a}),e.push({type:"url",value:c}),{linkage:e,url:c}}case"erc721":case"erc1155":{let c="erc721"===p?"tokenURI(uint256)":"uri(uint256)";e.push({type:p,value:a});let f=await this.getAddress();if(null==f)return e.push({type:"!owner",value:""}),{url:null,linkage:e};let m=(u[2]||"").split("/");if(2!==m.length)return e.push({type:`!${p}caip`,value:u[2]||""}),{url:null,linkage:e};let y=m[1],w=new tu.CH(m[0],["function tokenURI(uint) view returns (string)","function ownerOf(uint) view returns (address)","function uri(uint) view returns (string)","function balanceOf(address, uint256) view returns (uint)"],this.provider);if("erc721"===p){let a=await w.ownerOf(y);if(f!==a)return e.push({type:"!owner",value:a}),{url:null,linkage:e};e.push({type:"owner",value:a})}else if("erc1155"===p){let a=await w.balanceOf(f,y);if(!a)return e.push({type:"!balance",value:"0"}),{url:null,linkage:e};e.push({type:"balance",value:a.toString()})}let E=await w[c](y);if(null==E||"0x"===E)return e.push({type:"!metadata-url",value:""}),{url:null,linkage:e};e.push({type:"metadata-url-base",value:E}),"erc1155"===p&&(E=E.replace("{id}",(0,F.m9)(y,32).substring(2)),e.push({type:"metadata-url-expanded",value:E})),E.match(/^ipfs:/i)&&(E=getIpfsLink(E)),e.push({type:"metadata-url",value:E});let S={},A=await new FetchRequest(E).send();A.assertOk();try{S=A.bodyJson}catch(a){try{e.push({type:"!metadata",value:A.bodyText})}catch(c){let a=A.body;a&&e.push({type:"!metadata",value:(0,H.Dv)(a)})}return{url:null,linkage:e}}if(!S)return e.push({type:"!metadata",value:""}),{url:null,linkage:e};e.push({type:"metadata",value:JSON.stringify(S)});let k=S.image;if("string"!=typeof k)return e.push({type:"!imageUrl",value:""}),{url:null,linkage:e};if(k.match(/^(https:\/\/|data:)/i));else{let a=k.match(ei);if(null==a)return e.push({type:"!imageUrl-ipfs",value:k}),{url:null,linkage:e};e.push({type:"imageUrl-ipfs",value:k}),k=getIpfsLink(k)}return e.push({type:"url",value:k}),{linkage:e,url:k}}}}}catch(e){}return{linkage:e,url:null}}static async getEnsAddress(e){let a=await e.getNetwork(),c=a.getPlugin("org.ethers.plugins.network.Ens");return(0,L.hu)(c,"network does not support ENS","UNSUPPORTED_OPERATION",{operation:"getEnsAddress",info:{network:a}}),c.address}static async #tv(e,a){let c=await EnsResolver.getEnsAddress(e);try{let u=new tu.CH(c,["function resolver(bytes32) view returns (address)"],e),p=await u.resolver(namehash(a),{enableCcipRead:!0});if(p===tc)return null;return p}catch(e){throw e}return null}static async fromName(e,a){let c=a;for(;;){if(""===c||"."===c||"eth"!==a&&"eth"===c)return null;let u=await EnsResolver.#tv(e,c);if(null!=u){let p=new EnsResolver(e,u,a);if(c!==a&&!await p.supportsWildcard())return null;return p}c=c.split(".").slice(1).join(".")}}};let eo=BigInt(0);function allowNull(e,a){return function(c){return null==c?a:e(c)}}function arrayOf(e,a){return c=>{if(a&&null==c)return null;if(!Array.isArray(c))throw Error("not an array");return c.map(a=>e(a))}}function object(e,a){return c=>{let u={};for(let p in e){let f=p;if(a&&p in a&&!(f in c)){for(let e of a[p])if(e in c){f=e;break}}try{let a=e[p](c[f]);void 0!==a&&(u[p]=a)}catch(a){let e=a instanceof Error?a.message:"not-an-error";(0,L.hu)(!1,`invalid value for value.${p} (${e})`,"BAD_DATA",{value:c})}}return u}}function formatData(e){return(0,L.en)((0,H.A7)(e,!0),"invalid data","value",e),e}function formatHash(e){return(0,L.en)((0,H.A7)(e,32),"invalid hash","value",e),e}let ea=object({address:M.K,blockHash:formatHash,blockNumber:F.Dx,data:formatData,index:F.Dx,removed:allowNull(function(e){switch(e){case!0:case"true":return!0;case!1:case"false":return!1}(0,L.en)(!1,`invalid boolean; ${JSON.stringify(e)}`,"value",e)},!1),topics:arrayOf(formatHash),transactionHash:formatHash,transactionIndex:F.Dx},{index:["logIndex"]}),ec=object({hash:allowNull(formatHash),parentHash:formatHash,parentBeaconBlockRoot:allowNull(formatHash,null),number:F.Dx,timestamp:F.Dx,nonce:allowNull(formatData),difficulty:F.yT,gasLimit:F.yT,gasUsed:F.yT,stateRoot:allowNull(formatHash,null),receiptsRoot:allowNull(formatHash,null),blobGasUsed:allowNull(F.yT,null),excessBlobGas:allowNull(F.yT,null),miner:allowNull(M.K),prevRandao:allowNull(formatHash,null),extraData:formatData,baseFeePerGas:allowNull(F.yT)},{prevRandao:["mixHash"]}),eu=object({transactionIndex:F.Dx,blockNumber:F.Dx,transactionHash:formatHash,address:M.K,topics:arrayOf(formatHash),data:formatData,index:F.Dx,blockHash:formatHash},{index:["logIndex"]}),el=object({to:allowNull(M.K,null),from:allowNull(M.K,null),contractAddress:allowNull(M.K,null),index:F.Dx,root:allowNull(H.Dv),gasUsed:F.yT,blobGasUsed:allowNull(F.yT,null),logsBloom:allowNull(formatData),blockHash:formatHash,hash:formatHash,logs:arrayOf(function(e){return eu(e)}),blockNumber:F.Dx,cumulativeGasUsed:F.yT,effectiveGasPrice:allowNull(F.yT),blobGasPrice:allowNull(F.yT,null),status:allowNull(F.Dx),type:allowNull(F.Dx,0)},{effectiveGasPrice:["gasPrice"],hash:["transactionHash"],index:["transactionIndex"]});function formatTransactionResponse(e){e.to&&(0,F.yT)(e.to)===eo&&(e.to="0x0000000000000000000000000000000000000000");let a=object({hash:formatHash,index:allowNull(F.Dx,void 0),type:e=>"0x"===e||null==e?0:(0,F.Dx)(e),accessList:allowNull(tt.z,null),blobVersionedHashes:allowNull(arrayOf(formatHash,!0),null),blockHash:allowNull(formatHash,null),blockNumber:allowNull(F.Dx,null),transactionIndex:allowNull(F.Dx,null),from:M.K,gasPrice:allowNull(F.yT),maxPriorityFeePerGas:allowNull(F.yT),maxFeePerGas:allowNull(F.yT),maxFeePerBlobGas:allowNull(F.yT,null),gasLimit:F.yT,to:allowNull(M.K,null),value:F.yT,nonce:F.Dx,data:formatData,creates:allowNull(M.K,null),chainId:allowNull(F.yT,null)},{data:["input"],gasLimit:["gas"],index:["transactionIndex"]})(e);if(null==a.to&&null==a.creates&&(a.creates=function(e){let a=(0,M.K)(e.from),c=(0,F.yT)(e.nonce,"tx.nonce"),u=c.toString(16);return u="0"===u?"0x":u.length%2?"0x0"+u:"0x"+u,(0,M.K)((0,H.QB)((0,D.w)(encodeRlp([a,u])),12))}(a)),(1===e.type||2===e.type)&&null==e.accessList&&(a.accessList=[]),e.signature?a.signature=Signature.from(e.signature):a.signature=Signature.from(e),null==a.chainId){let e=a.signature.legacyChainId;null!=e&&(a.chainId=e)}return a.blockHash&&(0,F.yT)(a.blockHash)===eo&&(a.blockHash=null),a}let NetworkPlugin=class NetworkPlugin{name;constructor(e){(0,K.h)(this,{name:e})}clone(){return new NetworkPlugin(this.name)}};let GasCostPlugin=class GasCostPlugin extends NetworkPlugin{effectiveBlock;txBase;txCreate;txDataZero;txDataNonzero;txAccessListStorageKey;txAccessListAddress;constructor(e,a){null==e&&(e=0),super(`org.ethers.network.plugins.GasCost#${e||0}`);let c={effectiveBlock:e};function set(e,u){let p=(a||{})[e];null==p&&(p=u),(0,L.en)("number"==typeof p,`invalud value for ${e}`,"costs",a),c[e]=p}set("txBase",21e3),set("txCreate",32e3),set("txDataZero",4),set("txDataNonzero",16),set("txAccessListStorageKey",1900),set("txAccessListAddress",2400),(0,K.h)(this,c)}clone(){return new GasCostPlugin(this.effectiveBlock,this)}};let EnsPlugin=class EnsPlugin extends NetworkPlugin{address;targetNetwork;constructor(e,a){super("org.ethers.plugins.network.Ens"),(0,K.h)(this,{address:e||"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",targetNetwork:null==a?1:a})}clone(){return new EnsPlugin(this.address,this.targetNetwork)}};let FetchUrlFeeDataNetworkPlugin=class FetchUrlFeeDataNetworkPlugin extends NetworkPlugin{#R;#tw;get url(){return this.#R}get processFunc(){return this.#tw}constructor(e,a){super("org.ethers.plugins.network.FetchUrlFeeDataPlugin"),this.#R=e,this.#tw=a}clone(){return this}};let eh=new Map;let Network=class Network{#tE;#tc;#tS;constructor(e,a){this.#tE=e,this.#tc=(0,F.yT)(a),this.#tS=new Map}toJSON(){return{name:this.name,chainId:String(this.chainId)}}get name(){return this.#tE}set name(e){this.#tE=e}get chainId(){return this.#tc}set chainId(e){this.#tc=(0,F.yT)(e,"chainId")}matches(e){if(null==e)return!1;if("string"==typeof e){try{return this.chainId===(0,F.yT)(e)}catch(e){}return this.name===e}if("number"==typeof e||"bigint"==typeof e){try{return this.chainId===(0,F.yT)(e)}catch(e){}return!1}if("object"==typeof e){if(null!=e.chainId){try{return this.chainId===(0,F.yT)(e.chainId)}catch(e){}return!1}if(null!=e.name)return this.name===e.name}return!1}get plugins(){return Array.from(this.#tS.values())}attachPlugin(e){if(this.#tS.get(e.name))throw Error(`cannot replace existing plugin: ${e.name} `);return this.#tS.set(e.name,e.clone()),this}getPlugin(e){return this.#tS.get(e)||null}getPlugins(e){return this.plugins.filter(a=>a.name.split("#")[0]===e)}clone(){let e=new Network(this.name,this.chainId);return this.plugins.forEach(a=>{e.attachPlugin(a.clone())}),e}computeIntrinsicGas(e){let a=this.getPlugin("org.ethers.plugins.network.GasCost")||new GasCostPlugin,c=a.txBase;if(null==e.to&&(c+=a.txCreate),e.data)for(let u=2;u<e.data.length;u+=2)"00"===e.data.substring(u,u+2)?c+=a.txDataZero:c+=a.txDataNonzero;if(e.accessList){let u=(0,tt.z)(e.accessList);for(let e in u)c+=a.txAccessListAddress+a.txAccessListStorageKey*u[e].storageKeys.length}return c}static from(e){if(function(){ep||(ep=!0,registerEth("mainnet",1,{ensNetwork:1,altNames:["homestead"]}),registerEth("ropsten",3,{ensNetwork:3}),registerEth("rinkeby",4,{ensNetwork:4}),registerEth("goerli",5,{ensNetwork:5}),registerEth("kovan",42,{ensNetwork:42}),registerEth("sepolia",11155111,{ensNetwork:11155111}),registerEth("holesky",17e3,{ensNetwork:17e3}),registerEth("classic",61,{}),registerEth("classicKotti",6,{}),registerEth("arbitrum",42161,{ensNetwork:1}),registerEth("arbitrum-goerli",421613,{}),registerEth("arbitrum-sepolia",421614,{}),registerEth("base",8453,{ensNetwork:1}),registerEth("base-goerli",84531,{}),registerEth("base-sepolia",84532,{}),registerEth("bnb",56,{ensNetwork:1}),registerEth("bnbt",97,{}),registerEth("linea",59144,{ensNetwork:1}),registerEth("linea-goerli",59140,{}),registerEth("linea-sepolia",59141,{}),registerEth("matic",137,{ensNetwork:1,plugins:[getGasStationPlugin("https://gasstation.polygon.technology/v2")]}),registerEth("matic-amoy",80002,{}),registerEth("matic-mumbai",80001,{altNames:["maticMumbai","maticmum"],plugins:[getGasStationPlugin("https://gasstation-testnet.polygon.technology/v2")]}),registerEth("optimism",10,{ensNetwork:1,plugins:[]}),registerEth("optimism-goerli",420,{}),registerEth("optimism-sepolia",11155420,{}),registerEth("xdai",100,{ensNetwork:1}));function registerEth(e,a,c){let func=function(){let u=new Network(e,a);return null!=c.ensNetwork&&u.attachPlugin(new EnsPlugin(null,c.ensNetwork)),u.attachPlugin(new GasCostPlugin),(c.plugins||[]).forEach(e=>{u.attachPlugin(e)}),u};Network.register(e,func),Network.register(a,func),c.altNames&&c.altNames.forEach(e=>{Network.register(e,func)})}}(),null==e)return Network.from("mainnet");if("number"==typeof e&&(e=BigInt(e)),"string"==typeof e||"bigint"==typeof e){let a=eh.get(e);if(a)return a();if("bigint"==typeof e)return new Network("unknown",e);(0,L.en)(!1,"unknown network","network",e)}if("function"==typeof e.clone){let a=e.clone();return a}if("object"==typeof e){(0,L.en)("string"==typeof e.name&&"number"==typeof e.chainId,"invalid network object name or chainId","network",e);let a=new Network(e.name,e.chainId);return(e.ensAddress||null!=e.ensNetwork)&&a.attachPlugin(new EnsPlugin(e.ensAddress,e.ensNetwork)),a}(0,L.en)(!1,"invalid network","network",e)}static register(e,a){"number"==typeof e&&(e=BigInt(e));let c=eh.get(e);c&&(0,L.en)(!1,`conflicting network for ${JSON.stringify(c.name)}`,"nameOrChainId",e),eh.set(e,a)}};function parseUnits(e,a){let c=String(e);if(!c.match(/^[0-9.]+$/))throw Error(`invalid gwei value: ${e}`);let u=c.split(".");if(1===u.length&&u.push(""),2!==u.length)throw Error(`invalid gwei value: ${e}`);for(;u[1].length<a;)u[1]+="0";if(u[1].length>9){let e=BigInt(u[1].substring(0,9));!u[1].substring(9).match(/^0+$/)&&e++,u[1]=e.toString()}return BigInt(u[0]+u[1])}function getGasStationPlugin(e){return new FetchUrlFeeDataNetworkPlugin(e,async(e,a,c)=>{let u;c.setHeader("User-Agent","ethers");try{let[a,p]=await Promise.all([c.send(),e()]);u=a;let f=u.bodyJson.standard,m={gasPrice:p.gasPrice,maxFeePerGas:parseUnits(f.maxFee,9),maxPriorityFeePerGas:parseUnits(f.maxPriorityFee,9)};return m}catch(e){(0,L.hu)(!1,`error encountered with polygon gas station (${JSON.stringify(c.url)})`,"SERVER_ERROR",{request:c,response:u,error:e})}})}let ep=!1;var ef=c(7729);function copy(e){return JSON.parse(JSON.stringify(e))}let PollingBlockSubscriber=class PollingBlockSubscriber{#tA;#tk;#tP;#tI;constructor(e){this.#tA=e,this.#tk=null,this.#tP=4e3,this.#tI=-2}get pollingInterval(){return this.#tP}set pollingInterval(e){this.#tP=e}async #tT(){try{let e=await this.#tA.getBlockNumber();if(-2===this.#tI){this.#tI=e;return}if(e!==this.#tI){for(let a=this.#tI+1;a<=e;a++){if(null==this.#tk)return;await this.#tA.emit("block",a)}this.#tI=e}}catch(e){}null!=this.#tk&&(this.#tk=this.#tA._setTimeout(this.#tT.bind(this),this.#tP))}start(){this.#tk||(this.#tk=this.#tA._setTimeout(this.#tT.bind(this),this.#tP),this.#tT())}stop(){this.#tk&&(this.#tA._clearTimeout(this.#tk),this.#tk=null)}pause(e){this.stop(),e&&(this.#tI=-2)}resume(){this.start()}};let OnBlockSubscriber=class OnBlockSubscriber{#tA;#tT;#t_;constructor(e){this.#tA=e,this.#t_=!1,this.#tT=e=>{this._poll(e,this.#tA)}}async _poll(e,a){throw Error("sub-classes must override this")}start(){this.#t_||(this.#t_=!0,this.#tT(-2),this.#tA.on("block",this.#tT))}stop(){this.#t_&&(this.#t_=!1,this.#tA.off("block",this.#tT))}pause(e){this.stop()}resume(){this.start()}};let PollingBlockTagSubscriber=class PollingBlockTagSubscriber extends OnBlockSubscriber{#tO;#tB;constructor(e,a){super(e),this.#tO=a,this.#tB=-2}pause(e){e&&(this.#tB=-2),super.pause(e)}async _poll(e,a){let c=await a.getBlock(this.#tO);null!=c&&(-2===this.#tB?this.#tB=c.number:c.number>this.#tB&&(a.emit(this.#tO,c.number),this.#tB=c.number))}};let PollingOrphanSubscriber=class PollingOrphanSubscriber extends OnBlockSubscriber{#S;constructor(e,a){super(e),this.#S=copy(a)}async _poll(e,a){throw Error("@TODO")}};let PollingTransactionSubscriber=class PollingTransactionSubscriber extends OnBlockSubscriber{#tC;constructor(e,a){super(e),this.#tC=a}async _poll(e,a){let c=await a.getTransactionReceipt(this.#tC);c&&a.emit(this.#tC,c)}};let PollingEventSubscriber=class PollingEventSubscriber{#tA;#S;#tk;#t_;#tI;constructor(e,a){this.#tA=e,this.#S=copy(a),this.#tk=this.#tT.bind(this),this.#t_=!1,this.#tI=-2}async #tT(e){if(-2===this.#tI)return;let a=copy(this.#S);a.fromBlock=this.#tI+1,a.toBlock=e;let c=await this.#tA.getLogs(a);if(0===c.length){this.#tI<e-60&&(this.#tI=e-60);return}for(let e of c)this.#tA.emit(this.#S,e),this.#tI=e.blockNumber}start(){this.#t_||(this.#t_=!0,-2===this.#tI&&this.#tA.getBlockNumber().then(e=>{this.#tI=e}),this.#tA.on("block",this.#tk))}stop(){this.#t_&&(this.#t_=!1,this.#tA.off("block",this.#tk))}pause(e){this.stop(),e&&(this.#tI=-2)}resume(){this.start()}};let ed=BigInt(2);function isPromise(e){return e&&"function"==typeof e.then}function getTag(e,a){return e+":"+JSON.stringify(a,(e,a)=>{if(null==a)return"null";if("bigint"==typeof a)return`bigint:${a.toString()}`;if("string"==typeof a)return a.toLowerCase();if("object"==typeof a&&!Array.isArray(a)){let e=Object.keys(a);return e.sort(),e.reduce((e,c)=>(e[c]=a[c],e),{})}return a})}let UnmanagedSubscriber=class UnmanagedSubscriber{name;constructor(e){(0,K.h)(this,{name:e})}start(){}stop(){}pause(e){}resume(){}};function concisify(e){return(e=Array.from(new Set(e).values())).sort(),e}async function getSubscription(e,a){if(null==e)throw Error("invalid event");if(Array.isArray(e)&&(e={topics:e}),"string"==typeof e)switch(e){case"block":case"debug":case"error":case"finalized":case"network":case"pending":case"safe":return{type:e,tag:e}}if((0,H.A7)(e,32)){let a=e.toLowerCase();return{type:"transaction",tag:getTag("tx",{hash:a}),hash:a}}if(e.orphan){let a=e;return{type:"orphan",tag:getTag("orphan",a),filter:JSON.parse(JSON.stringify(a))}}if(e.address||e.topics){let c=e,u={topics:(c.topics||[]).map(e=>null==e?null:Array.isArray(e)?concisify(e.map(e=>e.toLowerCase())):e.toLowerCase())};if(c.address){let e=[],p=[],addAddress=c=>{(0,H.A7)(c)?e.push(c):p.push((async()=>{e.push(await (0,U.ru)(c,a))})())};Array.isArray(c.address)?c.address.forEach(addAddress):addAddress(c.address),p.length&&await Promise.all(p),u.address=concisify(e.map(e=>e.toLowerCase()))}return{filter:u,tag:getTag("event",u),type:"event"}}(0,L.en)(!1,"unknown ProviderEvent","event",e)}function abstract_provider_getTime(){return new Date().getTime()}let em={cacheTimeout:250,pollingInterval:4e3};let AbstractProvider=class AbstractProvider{#tx;#tS;#tN;#tR;#tM;#tU;#tD;#tH;#tF;#tL;#tK;#d;constructor(e,a){if(this.#d=Object.assign({},em,a||{}),"any"===e)this.#tU=!0,this.#tM=null;else if(e){let a=Network.from(e);this.#tU=!1,this.#tM=Promise.resolve(a),setTimeout(()=>{this.emit("network",a,null)},0)}else this.#tU=!1,this.#tM=null;this.#tH=-1,this.#tD=new Map,this.#tx=new Map,this.#tS=new Map,this.#tN=null,this.#tR=!1,this.#tF=1,this.#tL=new Map,this.#tK=!1}get pollingInterval(){return this.#d.pollingInterval}get provider(){return this}get plugins(){return Array.from(this.#tS.values())}attachPlugin(e){if(this.#tS.get(e.name))throw Error(`cannot replace existing plugin: ${e.name} `);return this.#tS.set(e.name,e.connect(this)),this}getPlugin(e){return this.#tS.get(e)||null}get disableCcipRead(){return this.#tK}set disableCcipRead(e){this.#tK=!!e}async #tj(e){let a=this.#d.cacheTimeout;if(a<0)return await this._perform(e);let c=getTag(e.method,e),u=this.#tD.get(c);return u||(u=this._perform(e),this.#tD.set(c,u),setTimeout(()=>{this.#tD.get(c)===u&&this.#tD.delete(c)},a)),await u}async ccipReadFetch(e,a,c){if(this.disableCcipRead||0===c.length||null==e.to)return null;let u=e.to.toLowerCase(),p=a.toLowerCase(),f=[];for(let a=0;a<c.length;a++){let m=c[a],y=m.replace("{sender}",u).replace("{data}",p),w=new FetchRequest(y);-1===m.indexOf("{data}")&&(w.body={data:p,sender:u}),this.emit("debug",{action:"sendCcipReadFetchRequest",request:w,index:a,urls:c});let E="unknown error",S=await w.send();try{let e=S.bodyJson;if(e.data)return this.emit("debug",{action:"receiveCcipReadFetchResult",request:w,result:e}),e.data;e.message&&(E=e.message),this.emit("debug",{action:"receiveCcipReadFetchError",request:w,result:e})}catch(e){}(0,L.hu)(S.statusCode<400||S.statusCode>=500,`response not found during CCIP fetch: ${E}`,"OFFCHAIN_FAULT",{reason:"404_MISSING_RESOURCE",transaction:e,info:{url:m,errorMessage:E}}),f.push(E)}(0,L.hu)(!1,`error encountered during CCIP fetch: ${f.map(e=>JSON.stringify(e)).join(", ")}`,"OFFCHAIN_FAULT",{reason:"500_SERVER_ERROR",transaction:e,info:{urls:c,errorMessages:f}})}_wrapBlock(e,a){return new ef.gO(function(e){let a=ec(e);return a.transactions=e.transactions.map(e=>"string"==typeof e?e:formatTransactionResponse(e)),a}(e),this)}_wrapLog(e,a){return new ef.Zb(ea(e),this)}_wrapTransactionReceipt(e,a){return new ef.IX(el(e),this)}_wrapTransactionResponse(e,a){return new ef.Mw(formatTransactionResponse(e),this)}_detectNetwork(){(0,L.hu)(!1,"sub-classes must implement this","UNSUPPORTED_OPERATION",{operation:"_detectNetwork"})}async _perform(e){(0,L.hu)(!1,`unsupported method: ${e.method}`,"UNSUPPORTED_OPERATION",{operation:e.method,info:e})}async getBlockNumber(){let e=(0,F.Dx)(await this.#tj({method:"getBlockNumber"}),"%response");return this.#tH>=0&&(this.#tH=e),e}_getAddress(e){return(0,U.ru)(e,this)}_getBlockTag(e){if(null==e)return"latest";switch(e){case"earliest":return"0x0";case"finalized":case"latest":case"pending":case"safe":return e}return(0,H.A7)(e)?(0,H.A7)(e,32)?e:(0,F.B4)(e):("bigint"==typeof e&&(e=(0,F.Dx)(e,"blockTag")),"number"==typeof e)?e>=0?(0,F.B4)(e):this.#tH>=0?(0,F.B4)(this.#tH+e):this.getBlockNumber().then(a=>(0,F.B4)(a+e)):void(0,L.en)(!1,"invalid blockTag","blockTag",e)}_getFilter(e){let a,c;let u=(e.topics||[]).map(e=>null==e?null:Array.isArray(e)?concisify(e.map(e=>e.toLowerCase())):e.toLowerCase()),p="blockHash"in e?e.blockHash:void 0,resolve=(e,a,c)=>{let f;switch(e.length){case 0:break;case 1:f=e[0];break;default:e.sort(),f=e}if(p&&(null!=a||null!=c))throw Error("invalid filter");let m={};return f&&(m.address=f),u.length&&(m.topics=u),a&&(m.fromBlock=a),c&&(m.toBlock=c),p&&(m.blockHash=p),m},f=[];if(e.address){if(Array.isArray(e.address))for(let a of e.address)f.push(this._getAddress(a));else f.push(this._getAddress(e.address))}return"fromBlock"in e&&(a=this._getBlockTag(e.fromBlock)),("toBlock"in e&&(c=this._getBlockTag(e.toBlock)),f.filter(e=>"string"!=typeof e).length||null!=a&&"string"!=typeof a||null!=c&&"string"!=typeof c)?Promise.all([Promise.all(f),a,c]).then(e=>resolve(e[0],e[1],e[2])):resolve(f,a,c)}_getTransactionRequest(e){let a=(0,ef.kK)(e),c=[];if(["to","from"].forEach(e=>{if(null==a[e])return;let u=(0,U.ru)(a[e],this);isPromise(u)?c.push(async function(){a[e]=await u}()):a[e]=u}),null!=a.blockTag){let e=this._getBlockTag(a.blockTag);isPromise(e)?c.push(async function(){a.blockTag=await e}()):a.blockTag=e}return c.length?async function(){return await Promise.all(c),a}():a}async getNetwork(){if(null==this.#tM){let e=(async()=>{try{let e=await this._detectNetwork();return this.emit("network",e,null),e}catch(a){throw this.#tM===e&&(this.#tM=null),a}})();return this.#tM=e,(await e).clone()}let e=this.#tM,[a,c]=await Promise.all([e,this._detectNetwork()]);return a.chainId!==c.chainId&&(this.#tU?(this.emit("network",c,a),this.#tM===e&&(this.#tM=Promise.resolve(c))):(0,L.hu)(!1,`network changed: ${a.chainId} => ${c.chainId} `,"NETWORK_ERROR",{event:"changed"})),a.clone()}async getFeeData(){let e=await this.getNetwork(),getFeeDataFunc=async()=>{let{_block:a,gasPrice:c,priorityFee:u}=await (0,K.m)({_block:this.#tV("latest",!1),gasPrice:(async()=>{try{let e=await this.#tj({method:"getGasPrice"});return(0,F.yT)(e,"%response")}catch(e){}return null})(),priorityFee:(async()=>{try{let e=await this.#tj({method:"getPriorityFee"});return(0,F.yT)(e,"%response")}catch(e){}return null})()}),p=null,f=null,m=this._wrapBlock(a,e);return m&&m.baseFeePerGas&&(f=null!=u?u:BigInt("1000000000"),p=m.baseFeePerGas*ed+f),new ef.jW(c,p,f)},a=e.getPlugin("org.ethers.plugins.network.FetchUrlFeeDataPlugin");if(a){let e=new FetchRequest(a.url),c=await a.processFunc(getFeeDataFunc,this,e);return new ef.jW(c.gasPrice,c.maxFeePerGas,c.maxPriorityFeePerGas)}return await getFeeDataFunc()}async estimateGas(e){let a=this._getTransactionRequest(e);return isPromise(a)&&(a=await a),(0,F.yT)(await this.#tj({method:"estimateGas",transaction:a}),"%response")}async #tG(e,a,c){(0,L.hu)(c<10,"CCIP read exceeded maximum redirections","OFFCHAIN_FAULT",{reason:"TOO_MANY_REDIRECTS",transaction:Object.assign({},e,{blockTag:a,enableCcipRead:!0})});let u=(0,ef.kK)(e);try{return(0,H.Dv)(await this._perform({method:"call",transaction:u,blockTag:a}))}catch(e){if(!this.disableCcipRead&&(0,L.Hl)(e)&&e.data&&c>=0&&"latest"===a&&null!=u.to&&"0x556f1830"===(0,H.QB)(e.data,0,4)){let p;let f=e.data,m=await (0,U.ru)(u.to,this);try{p=function(e){let a={sender:"",urls:[],calldata:"",selector:"",extraData:"",errorArgs:[]};(0,L.hu)((0,H.M5)(e)>=160,"insufficient OffchainLookup data","OFFCHAIN_FAULT",{reason:"insufficient OffchainLookup data"});let c=(0,H.QB)(e,0,32);(0,L.hu)((0,H.QB)(c,0,12)===(0,H.QB)(ey,0,12),"corrupt OffchainLookup sender","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup sender"}),a.sender=(0,H.QB)(c,12);try{let c=[],u=(0,F.Dx)((0,H.QB)(e,32,64)),p=(0,F.Dx)((0,H.QB)(e,u,u+32)),f=(0,H.QB)(e,u+32);for(let e=0;e<p;e++){let a=function(e,a){try{let c=_parseBytes(e,a);if(c)return(0,te.ZN)(c)}catch(e){}return null}(f,32*e);if(null==a)throw Error("abort");c.push(a)}a.urls=c}catch(e){(0,L.hu)(!1,"corrupt OffchainLookup urls","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup urls"})}try{let c=_parseBytes(e,64);if(null==c)throw Error("abort");a.calldata=c}catch(e){(0,L.hu)(!1,"corrupt OffchainLookup calldata","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup calldata"})}(0,L.hu)((0,H.QB)(e,100,128)===(0,H.QB)(ey,0,28),"corrupt OffchainLookup callbaackSelector","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup callbaackSelector"}),a.selector=(0,H.QB)(e,96,100);try{let c=_parseBytes(e,128);if(null==c)throw Error("abort");a.extraData=c}catch(e){(0,L.hu)(!1,"corrupt OffchainLookup extraData","OFFCHAIN_FAULT",{reason:"corrupt OffchainLookup extraData"})}return a.errorArgs="sender,urls,calldata,selector,extraData".split(/,/).map(e=>a[e]),a}((0,H.QB)(e.data,4))}catch(e){(0,L.hu)(!1,e.message,"OFFCHAIN_FAULT",{reason:"BAD_DATA",transaction:u,info:{data:f}})}(0,L.hu)(p.sender.toLowerCase()===m.toLowerCase(),"CCIP Read sender mismatch","CALL_EXCEPTION",{action:"call",data:f,reason:"OffchainLookup",transaction:u,invocation:null,revert:{signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",name:"OffchainLookup",args:p.errorArgs}});let y=await this.ccipReadFetch(u,p.calldata,p.urls);(0,L.hu)(null!=y,"CCIP Read failed to fetch data","OFFCHAIN_FAULT",{reason:"FETCH_FAILED",transaction:u,info:{data:e.data,errorArgs:p.errorArgs}});let w={to:m,data:(0,H.zo)([p.selector,function(e){let a=[],c=0;for(let u=0;u<e.length;u++)a.push(eg),c+=32;for(let u=0;u<e.length;u++){let p=(0,H.Pw)(e[u]);a[u]=numPad(c),a.push(numPad(p.length)),a.push(function(e){if(e.length%32==0)return e;let a=new Uint8Array(32*Math.ceil(e.length/32));return a.set(e),a}(p)),c+=32+32*Math.ceil(p.length/32)}return(0,H.zo)(a)}([y,p.extraData])])};this.emit("debug",{action:"sendCcipReadCall",transaction:w});try{let e=await this.#tG(w,a,c+1);return this.emit("debug",{action:"receiveCcipReadCallResult",transaction:Object.assign({},w),result:e}),e}catch(e){throw this.emit("debug",{action:"receiveCcipReadCallError",transaction:Object.assign({},w),error:e}),e}}throw e}}async #tz(e){let{value:a}=await (0,K.m)({network:this.getNetwork(),value:e});return a}async call(e){let{tx:a,blockTag:c}=await (0,K.m)({tx:this._getTransactionRequest(e),blockTag:this._getBlockTag(e.blockTag)});return await this.#tz(this.#tG(a,c,e.enableCcipRead?0:-1))}async #tq(e,a,c){let u=this._getAddress(a),p=this._getBlockTag(c);return("string"!=typeof u||"string"!=typeof p)&&([u,p]=await Promise.all([u,p])),await this.#tz(this.#tj(Object.assign(e,{address:u,blockTag:p})))}async getBalance(e,a){return(0,F.yT)(await this.#tq({method:"getBalance"},e,a),"%response")}async getTransactionCount(e,a){return(0,F.Dx)(await this.#tq({method:"getTransactionCount"},e,a),"%response")}async getCode(e,a){return(0,H.Dv)(await this.#tq({method:"getCode"},e,a))}async getStorage(e,a,c){let u=(0,F.yT)(a,"position");return(0,H.Dv)(await this.#tq({method:"getStorage",position:u},e,c))}async broadcastTransaction(e){let{blockNumber:a,hash:c,network:u}=await (0,K.m)({blockNumber:this.getBlockNumber(),hash:this._perform({method:"broadcastTransaction",signedTransaction:e}),network:this.getNetwork()}),p=Transaction.from(e);if(p.hash!==c)throw Error("@TODO: the returned hash did not match");return this._wrapTransactionResponse(p,u).replaceableTransaction(a)}async #tV(e,a){if((0,H.A7)(e,32))return await this.#tj({method:"getBlock",blockHash:e,includeTransactions:a});let c=this._getBlockTag(e);return"string"!=typeof c&&(c=await c),await this.#tj({method:"getBlock",blockTag:c,includeTransactions:a})}async getBlock(e,a){let{network:c,params:u}=await (0,K.m)({network:this.getNetwork(),params:this.#tV(e,!!a)});return null==u?null:this._wrapBlock(u,c)}async getTransaction(e){let{network:a,params:c}=await (0,K.m)({network:this.getNetwork(),params:this.#tj({method:"getTransaction",hash:e})});return null==c?null:this._wrapTransactionResponse(c,a)}async getTransactionReceipt(e){let{network:a,params:c}=await (0,K.m)({network:this.getNetwork(),params:this.#tj({method:"getTransactionReceipt",hash:e})});if(null==c)return null;if(null==c.gasPrice&&null==c.effectiveGasPrice){let a=await this.#tj({method:"getTransaction",hash:e});if(null==a)throw Error("report this; could not find tx or effectiveGasPrice");c.effectiveGasPrice=a.gasPrice}return this._wrapTransactionReceipt(c,a)}async getTransactionResult(e){let{result:a}=await (0,K.m)({network:this.getNetwork(),result:this.#tj({method:"getTransactionResult",hash:e})});return null==a?null:(0,H.Dv)(a)}async getLogs(e){let a=this._getFilter(e);isPromise(a)&&(a=await a);let{network:c,params:u}=await (0,K.m)({network:this.getNetwork(),params:this.#tj({method:"getLogs",filter:a})});return u.map(e=>this._wrapLog(e,c))}_getProvider(e){(0,L.hu)(!1,"provider cannot connect to target network","UNSUPPORTED_OPERATION",{operation:"_getProvider()"})}async getResolver(e){return await EnsResolver.fromName(this,e)}async getAvatar(e){let a=await this.getResolver(e);return a?await a.getAvatar():null}async resolveName(e){let a=await this.getResolver(e);return a?await a.getAddress():null}async lookupAddress(e){e=(0,M.K)(e);let a=namehash(e.substring(2).toLowerCase()+".addr.reverse");try{let c=await EnsResolver.getEnsAddress(this),u=new tu.CH(c,["function resolver(bytes32) view returns (address)"],this),p=await u.resolver(a);if(null==p||p===tc)return null;let f=new tu.CH(p,["function name(bytes32) view returns (string)"],this),m=await f.name(a),y=await this.resolveName(m);if(y!==e)return null;return m}catch(e){if((0,L.VZ)(e,"BAD_DATA")&&"0x"===e.value||(0,L.VZ)(e,"CALL_EXCEPTION"))return null;throw e}return null}async waitForTransaction(e,a,c){let u=null!=a?a:1;return 0===u?this.getTransactionReceipt(e):new Promise(async(a,p)=>{let f=null,listener=async c=>{try{let p=await this.getTransactionReceipt(e);if(null!=p&&c-p.blockNumber+1>=u){a(p),f&&(clearTimeout(f),f=null);return}}catch(e){console.log("EEE",e)}this.once("block",listener)};null!=c&&(f=setTimeout(()=>{null!=f&&(f=null,this.off("block",listener),p((0,L.wf)("timeout","TIMEOUT",{reason:"timeout"})))},c)),listener(await this.getBlockNumber())})}async waitForBlock(e){(0,L.hu)(!1,"not implemented yet","NOT_IMPLEMENTED",{operation:"waitForBlock"})}_clearTimeout(e){let a=this.#tL.get(e);a&&(a.timer&&clearTimeout(a.timer),this.#tL.delete(e))}_setTimeout(e,a){null==a&&(a=0);let c=this.#tF++,func=()=>{this.#tL.delete(c),e()};if(this.paused)this.#tL.set(c,{timer:null,func,time:a});else{let e=setTimeout(func,a);this.#tL.set(c,{timer:e,func,time:abstract_provider_getTime()})}return c}_forEachSubscriber(e){for(let a of this.#tx.values())e(a.subscriber)}_getSubscriber(e){switch(e.type){case"debug":case"error":case"network":return new UnmanagedSubscriber(e.type);case"block":{let e=new PollingBlockSubscriber(this);return e.pollingInterval=this.pollingInterval,e}case"safe":case"finalized":return new PollingBlockTagSubscriber(this,e.type);case"event":return new PollingEventSubscriber(this,e.filter);case"transaction":return new PollingTransactionSubscriber(this,e.hash);case"orphan":return new PollingOrphanSubscriber(this,e.filter)}throw Error(`unsupported event: ${e.type}`)}_recoverSubscriber(e,a){for(let c of this.#tx.values())if(c.subscriber===e){c.started&&c.subscriber.stop(),c.subscriber=a,c.started&&a.start(),null!=this.#tN&&a.pause(this.#tN);break}}async #tW(e,a){let c=await getSubscription(e,this);return"event"===c.type&&a&&a.length>0&&!0===a[0].removed&&(c=await getSubscription({orphan:"drop-log",log:a[0]},this)),this.#tx.get(c.tag)||null}async #tQ(e){let a=await getSubscription(e,this),c=a.tag,u=this.#tx.get(c);if(!u){let e=this._getSubscriber(a),p=new WeakMap,f=new Map;u={subscriber:e,tag:c,addressableMap:p,nameMap:f,started:!1,listeners:[]},this.#tx.set(c,u)}return u}async on(e,a){let c=await this.#tQ(e);return c.listeners.push({listener:a,once:!1}),c.started||(c.subscriber.start(),c.started=!0,null!=this.#tN&&c.subscriber.pause(this.#tN)),this}async once(e,a){let c=await this.#tQ(e);return c.listeners.push({listener:a,once:!0}),c.started||(c.subscriber.start(),c.started=!0,null!=this.#tN&&c.subscriber.pause(this.#tN)),this}async emit(e,...a){let c=await this.#tW(e,a);if(!c||0===c.listeners.length)return!1;let u=c.listeners.length;return c.listeners=c.listeners.filter(({listener:c,once:u})=>{let p=new ee.Z(this,u?null:c,e);try{c.call(this,...a,p)}catch(e){}return!u}),0===c.listeners.length&&(c.started&&c.subscriber.stop(),this.#tx.delete(c.tag)),u>0}async listenerCount(e){if(e){let a=await this.#tW(e);return a?a.listeners.length:0}let a=0;for(let{listeners:e}of this.#tx.values())a+=e.length;return a}async listeners(e){if(e){let a=await this.#tW(e);return a?a.listeners.map(({listener:e})=>e):[]}let a=[];for(let{listeners:e}of this.#tx.values())a=a.concat(e.map(({listener:e})=>e));return a}async off(e,a){let c=await this.#tW(e);if(!c)return this;if(a){let e=c.listeners.map(({listener:e})=>e).indexOf(a);e>=0&&c.listeners.splice(e,1)}return a&&0!==c.listeners.length||(c.started&&c.subscriber.stop(),this.#tx.delete(c.tag)),this}async removeAllListeners(e){if(e){let{tag:a,started:c,subscriber:u}=await this.#tQ(e);c&&u.stop(),this.#tx.delete(a)}else for(let[e,{started:a,subscriber:c}]of this.#tx)a&&c.stop(),this.#tx.delete(e);return this}async addListener(e,a){return await this.on(e,a)}async removeListener(e,a){return this.off(e,a)}get destroyed(){return this.#tR}destroy(){for(let e of(this.removeAllListeners(),this.#tL.keys()))this._clearTimeout(e);this.#tR=!0}get paused(){return null!=this.#tN}set paused(e){!!e!==this.paused&&(this.paused?this.resume():this.pause(!1))}pause(e){if(this.#tH=-1,null!=this.#tN){if(!!e==this.#tN)return;(0,L.hu)(!1,"cannot change pause type; resume first","UNSUPPORTED_OPERATION",{operation:"pause"})}for(let a of(this._forEachSubscriber(a=>a.pause(e)),this.#tN=!!e,this.#tL.values()))a.timer&&clearTimeout(a.timer),a.time=abstract_provider_getTime()-a.time}resume(){if(null!=this.#tN)for(let e of(this._forEachSubscriber(e=>e.resume()),this.#tN=null,this.#tL.values())){let a=e.time;a<0&&(a=0),e.time=abstract_provider_getTime(),setTimeout(e.func,a)}}};function _parseBytes(e,a){if("0x"===e)return null;try{let c=(0,F.Dx)((0,H.QB)(e,a,a+32)),u=(0,F.Dx)((0,H.QB)(e,c,c+32));return(0,H.QB)(e,c+32,c+32+u)}catch(e){}return null}function numPad(e){let a=(0,F.ot)(e);if(a.length>32)throw Error("internal; should not happen");let c=new Uint8Array(32);return c.set(a,32-a.length),c}let eg=new Uint8Array([]),ey="0x0000000000000000000000000000000000000000000000000000000000000000";function checkProvider(e,a){if(e.provider)return e.provider;(0,L.hu)(!1,"missing provider","UNSUPPORTED_OPERATION",{operation:a})}async function populate(e,a){let c=(0,ef.kK)(a);if(null!=c.to&&(c.to=(0,U.ru)(c.to,e)),null!=c.from){let a=c.from;c.from=Promise.all([e.getAddress(),(0,U.ru)(a,e)]).then(([e,a])=>((0,L.en)(e.toLowerCase()===a.toLowerCase(),"transaction from mismatch","tx.from",a),e))}else c.from=e.getAddress();return await (0,K.m)(c)}let AbstractSigner=class AbstractSigner{provider;constructor(e){(0,K.h)(this,{provider:e||null})}async getNonce(e){return checkProvider(this,"getTransactionCount").getTransactionCount(await this.getAddress(),e)}async populateCall(e){let a=await populate(this,e);return a}async populateTransaction(e){let a=checkProvider(this,"populateTransaction"),c=await populate(this,e);null==c.nonce&&(c.nonce=await this.getNonce("pending")),null==c.gasLimit&&(c.gasLimit=await this.estimateGas(c));let u=await this.provider.getNetwork();if(null!=c.chainId){let a=(0,F.yT)(c.chainId);(0,L.en)(a===u.chainId,"transaction chainId mismatch","tx.chainId",e.chainId)}else c.chainId=u.chainId;let p=null!=c.maxFeePerGas||null!=c.maxPriorityFeePerGas;if(null!=c.gasPrice&&(2===c.type||p)?(0,L.en)(!1,"eip-1559 transaction do not support gasPrice","tx",e):(0===c.type||1===c.type)&&p&&(0,L.en)(!1,"pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","tx",e),(2===c.type||null==c.type)&&null!=c.maxFeePerGas&&null!=c.maxPriorityFeePerGas)c.type=2;else if(0===c.type||1===c.type){let e=await a.getFeeData();(0,L.hu)(null!=e.gasPrice,"network does not support gasPrice","UNSUPPORTED_OPERATION",{operation:"getGasPrice"}),null==c.gasPrice&&(c.gasPrice=e.gasPrice)}else{let e=await a.getFeeData();if(null==c.type){if(null!=e.maxFeePerGas&&null!=e.maxPriorityFeePerGas){if(c.type=2,null!=c.gasPrice){let e=c.gasPrice;delete c.gasPrice,c.maxFeePerGas=e,c.maxPriorityFeePerGas=e}else null==c.maxFeePerGas&&(c.maxFeePerGas=e.maxFeePerGas),null==c.maxPriorityFeePerGas&&(c.maxPriorityFeePerGas=e.maxPriorityFeePerGas)}else null!=e.gasPrice?((0,L.hu)(!p,"network does not support EIP-1559","UNSUPPORTED_OPERATION",{operation:"populateTransaction"}),null==c.gasPrice&&(c.gasPrice=e.gasPrice),c.type=0):(0,L.hu)(!1,"failed to get consistent fee data","UNSUPPORTED_OPERATION",{operation:"signer.getFeeData"})}else(2===c.type||3===c.type)&&(null==c.maxFeePerGas&&(c.maxFeePerGas=e.maxFeePerGas),null==c.maxPriorityFeePerGas&&(c.maxPriorityFeePerGas=e.maxPriorityFeePerGas))}return await (0,K.m)(c)}async estimateGas(e){return checkProvider(this,"estimateGas").estimateGas(await this.populateCall(e))}async call(e){return checkProvider(this,"call").call(await this.populateCall(e))}async resolveName(e){let a=checkProvider(this,"resolveName");return await a.resolveName(e)}async sendTransaction(e){let a=checkProvider(this,"sendTransaction"),c=await this.populateTransaction(e);delete c.from;let u=Transaction.from(c);return await a.broadcastTransaction(await this.signTransaction(u))}};let FilterIdSubscriber=class FilterIdSubscriber{#tA;#tY;#tk;#t_;#tZ;#tJ;constructor(e){this.#tA=e,this.#tY=null,this.#tk=this.#tT.bind(this),this.#t_=!1,this.#tZ=null,this.#tJ=!1}_subscribe(e){throw Error("subclasses must override this")}_emitResults(e,a){throw Error("subclasses must override this")}_recover(e){throw Error("subclasses must override this")}async #tT(e){try{null==this.#tY&&(this.#tY=this._subscribe(this.#tA));let e=null;try{e=await this.#tY}catch(e){if(!(0,L.VZ)(e,"UNSUPPORTED_OPERATION")||"eth_newFilter"!==e.operation)throw e}if(null==e){this.#tY=null,this.#tA._recoverSubscriber(this,this._recover(this.#tA));return}let a=await this.#tA.getNetwork();if(this.#tZ||(this.#tZ=a),this.#tZ.chainId!==a.chainId)throw Error("chaid changed");if(this.#tJ)return;let c=await this.#tA.send("eth_getFilterChanges",[e]);await this._emitResults(this.#tA,c)}catch(e){console.log("@TODO",e)}this.#tA.once("block",this.#tk)}#tX(){let e=this.#tY;e&&(this.#tY=null,e.then(e=>{this.#tA.destroyed||this.#tA.send("eth_uninstallFilter",[e])}))}start(){this.#t_||(this.#t_=!0,this.#tT(-2))}stop(){this.#t_&&(this.#t_=!1,this.#tJ=!0,this.#tX(),this.#tA.off("block",this.#tk))}pause(e){e&&this.#tX(),this.#tA.off("block",this.#tk)}resume(){this.start()}};let FilterIdEventSubscriber=class FilterIdEventSubscriber extends FilterIdSubscriber{#t$;constructor(e,a){super(e),this.#t$=JSON.parse(JSON.stringify(a))}_recover(e){return new PollingEventSubscriber(e,this.#t$)}async _subscribe(e){let a=await e.send("eth_newFilter",[this.#t$]);return a}async _emitResults(e,a){for(let c of a)e.emit(this.#t$,e._wrapLog(c,e._network))}};let FilterIdPendingSubscriber=class FilterIdPendingSubscriber extends FilterIdSubscriber{async _subscribe(e){return await e.send("eth_newPendingTransactionFilter",[])}async _emitResults(e,a){for(let c of a)e.emit("pending",c)}};let eb="bigint,boolean,function,number,string,symbol".split(/,/g);function deepCopy(e){if(null==e||eb.indexOf(typeof e)>=0||"function"==typeof e.getAddress)return e;if(Array.isArray(e))return e.map(deepCopy);if("object"==typeof e)return Object.keys(e).reduce((a,c)=>(a[c]=e[c],a),{});throw Error(`should not happen: ${e} (${typeof e})`)}function getLowerCase(e){return e?e.toLowerCase():e}function isPollable(e){return e&&"number"==typeof e.pollingInterval}let ev={polling:!1,staticNetwork:null,batchStallTime:10,batchMaxSize:1048576,batchMaxCount:100,cacheTimeout:250,pollingInterval:4e3};let JsonRpcSigner=class JsonRpcSigner extends AbstractSigner{address;constructor(e,a){super(e),a=(0,M.K)(a),(0,K.h)(this,{address:a})}connect(e){(0,L.hu)(!1,"cannot reconnect JsonRpcSigner","UNSUPPORTED_OPERATION",{operation:"signer.connect"})}async getAddress(){return this.address}async populateTransaction(e){return await this.populateCall(e)}async sendUncheckedTransaction(e){let a=deepCopy(e),c=[];if(a.from){let u=a.from;c.push((async()=>{let c=await (0,U.ru)(u,this.provider);(0,L.en)(null!=c&&c.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),a.from=c})())}else a.from=this.address;if(null==a.gasLimit&&c.push((async()=>{a.gasLimit=await this.provider.estimateGas({...a,from:this.address})})()),null!=a.to){let e=a.to;c.push((async()=>{a.to=await (0,U.ru)(e,this.provider)})())}c.length&&await Promise.all(c);let u=this.provider.getRpcTransaction(a);return this.provider.send("eth_sendTransaction",[u])}async sendTransaction(e){let a=await this.provider.getBlockNumber(),c=await this.sendUncheckedTransaction(e);return await new Promise((e,u)=>{let p=[1e3,100],f=0,checkTx=async()=>{try{let u=await this.provider.getTransaction(c);if(null!=u){e(u.replaceableTransaction(a));return}}catch(e){if((0,L.VZ)(e,"CANCELLED")||(0,L.VZ)(e,"BAD_DATA")||(0,L.VZ)(e,"NETWORK_ERROR")){null==e.info&&(e.info={}),e.info.sendTransactionHash=c,u(e);return}if((0,L.VZ)(e,"INVALID_ARGUMENT")&&(f++,null==e.info&&(e.info={}),e.info.sendTransactionHash=c,f>10)){u(e);return}this.provider.emit("error",(0,L.wf)("failed to fetch transation after sending (will try again)","UNKNOWN_ERROR",{error:e}))}this.provider._setTimeout(()=>{checkTx()},p.pop()||4e3)};checkTx()})}async signTransaction(e){let a=deepCopy(e);if(a.from){let c=await (0,U.ru)(a.from,this.provider);(0,L.en)(null!=c&&c.toLowerCase()===this.address.toLowerCase(),"from address mismatch","transaction",e),a.from=c}else a.from=this.address;let c=this.provider.getRpcTransaction(a);return await this.provider.send("eth_signTransaction",[c])}async signMessage(e){let a="string"==typeof e?(0,te.Y0)(e):e;return await this.provider.send("personal_sign",[(0,H.Dv)(a),this.address.toLowerCase()])}async signTypedData(e,a,c){let u=deepCopy(c),p=await TypedDataEncoder.resolveNames(e,a,u,async e=>{let a=await (0,U.ru)(e);return(0,L.en)(null!=a,"TypedData does not support null address","value",e),a});return await this.provider.send("eth_signTypedData_v4",[this.address.toLowerCase(),JSON.stringify(TypedDataEncoder.getPayload(p.domain,a,p.value))])}async unlock(e){return this.provider.send("personal_unlockAccount",[this.address.toLowerCase(),e,null])}async _legacySignMessage(e){let a="string"==typeof e?(0,te.Y0)(e):e;return await this.provider.send("eth_sign",[this.address.toLowerCase(),(0,H.Dv)(a)])}};let JsonRpcApiProvider=class JsonRpcApiProvider extends AbstractProvider{#d;#t0;#t1;#t2;#t3;#tZ;#t6;#t8(){if(this.#t2)return;let e=1===this._getOption("batchMaxCount")?0:this._getOption("batchStallTime");this.#t2=setTimeout(()=>{this.#t2=null;let e=this.#t1;for(this.#t1=[];e.length;){let a=[e.shift()];for(;e.length&&a.length!==this.#d.batchMaxCount;){a.push(e.shift());let c=JSON.stringify(a.map(e=>e.payload));if(c.length>this.#d.batchMaxSize){e.unshift(a.pop());break}}(async()=>{let e=1===a.length?a[0].payload:a.map(e=>e.payload);this.emit("debug",{action:"sendRpcPayload",payload:e});try{let c=await this._send(e);for(let{resolve:e,reject:u,payload:p}of(this.emit("debug",{action:"receiveRpcResult",result:c}),a)){if(this.destroyed){u((0,L.wf)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:p.method}));continue}let a=c.filter(e=>e.id===p.id)[0];if(null==a){let e=(0,L.wf)("missing response for request","BAD_DATA",{value:c,info:{payload:p}});this.emit("error",e),u(e);continue}if("error"in a){u(this.getRpcError(p,a));continue}e(a.result)}}catch(e){for(let{reject:c}of(this.emit("debug",{action:"receiveRpcError",error:e}),a))c(e)}})()}},e)}constructor(e,a){super(e,a),this.#t0=1,this.#d=Object.assign({},ev,a||{}),this.#t1=[],this.#t2=null,this.#tZ=null,this.#t6=null;{let e=null,a=new Promise(a=>{e=a});this.#t3={promise:a,resolve:e}}let c=this._getOption("staticNetwork");"boolean"==typeof c?((0,L.en)(!c||"any"!==e,"staticNetwork cannot be used on special network 'any'","options",a),c&&null!=e&&(this.#tZ=Network.from(e))):c&&((0,L.en)(null==e||c.matches(e),"staticNetwork MUST match network object","options",a),this.#tZ=c)}_getOption(e){return this.#d[e]}get _network(){return(0,L.hu)(this.#tZ,"network is not available yet","NETWORK_ERROR"),this.#tZ}async _perform(e){if("call"===e.method||"estimateGas"===e.method){let a=e.transaction;if(a&&null!=a.type&&(0,F.yT)(a.type)&&null==a.maxFeePerGas&&null==a.maxPriorityFeePerGas){let c=await this.getFeeData();null==c.maxFeePerGas&&null==c.maxPriorityFeePerGas&&(e=Object.assign({},e,{transaction:Object.assign({},a,{type:void 0})}))}}let a=this.getRpcRequest(e);return null!=a?await this.send(a.method,a.args):super._perform(e)}async _detectNetwork(){let e=this._getOption("staticNetwork");if(e){if(!0!==e)return e;if(this.#tZ)return this.#tZ}return this.#t6||(this.ready?this.#t6=(async()=>{try{let e=Network.from((0,F.yT)(await this.send("eth_chainId",[])));return this.#t6=null,e}catch(e){throw this.#t6=null,e}})():this.#t6=(async()=>{let e;let a={id:this.#t0++,method:"eth_chainId",params:[],jsonrpc:"2.0"};this.emit("debug",{action:"sendRpcPayload",payload:a});try{e=(await this._send(a))[0],this.#t6=null}catch(e){throw this.#t6=null,this.emit("debug",{action:"receiveRpcError",error:e}),e}if(this.emit("debug",{action:"receiveRpcResult",result:e}),"result"in e)return Network.from((0,F.yT)(e.result));throw this.getRpcError(a,e)})()),await this.#t6}_start(){null!=this.#t3&&null!=this.#t3.resolve&&(this.#t3.resolve(),this.#t3=null,(async()=>{for(;null==this.#tZ&&!this.destroyed;)try{this.#tZ=await this._detectNetwork()}catch(e){if(this.destroyed)break;console.log("JsonRpcProvider failed to detect network and cannot start up; retry in 1s (perhaps the URL is wrong or the node is not started)"),this.emit("error",(0,L.wf)("failed to bootstrap network detection","NETWORK_ERROR",{event:"initial-network-discovery",info:{error:e}})),await new Promise(e=>{setTimeout(e,1e3)})}this.#t8()})())}async _waitUntilReady(){if(null!=this.#t3)return await this.#t3.promise}_getSubscriber(e){return"pending"===e.type?new FilterIdPendingSubscriber(this):"event"===e.type?this._getOption("polling")?new PollingEventSubscriber(this,e.filter):new FilterIdEventSubscriber(this,e.filter):"orphan"===e.type&&"drop-log"===e.filter.orphan?new UnmanagedSubscriber("orphan"):super._getSubscriber(e)}get ready(){return null==this.#t3}getRpcTransaction(e){let a={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(c=>{if(null==e[c])return;let u=c;"gasLimit"===c&&(u="gas"),a[u]=(0,F.B4)((0,F.yT)(e[c],`tx.${c}`))}),["from","to","data"].forEach(c=>{null!=e[c]&&(a[c]=(0,H.Dv)(e[c]))}),e.accessList&&(a.accessList=(0,tt.z)(e.accessList)),e.blobVersionedHashes&&(a.blobVersionedHashes=e.blobVersionedHashes.map(e=>e.toLowerCase())),a}getRpcRequest(e){switch(e.method){case"chainId":return{method:"eth_chainId",args:[]};case"getBlockNumber":return{method:"eth_blockNumber",args:[]};case"getGasPrice":return{method:"eth_gasPrice",args:[]};case"getPriorityFee":return{method:"eth_maxPriorityFeePerGas",args:[]};case"getBalance":return{method:"eth_getBalance",args:[getLowerCase(e.address),e.blockTag]};case"getTransactionCount":return{method:"eth_getTransactionCount",args:[getLowerCase(e.address),e.blockTag]};case"getCode":return{method:"eth_getCode",args:[getLowerCase(e.address),e.blockTag]};case"getStorage":return{method:"eth_getStorageAt",args:[getLowerCase(e.address),"0x"+e.position.toString(16),e.blockTag]};case"broadcastTransaction":return{method:"eth_sendRawTransaction",args:[e.signedTransaction]};case"getBlock":if("blockTag"in e)return{method:"eth_getBlockByNumber",args:[e.blockTag,!!e.includeTransactions]};if("blockHash"in e)return{method:"eth_getBlockByHash",args:[e.blockHash,!!e.includeTransactions]};break;case"getTransaction":return{method:"eth_getTransactionByHash",args:[e.hash]};case"getTransactionReceipt":return{method:"eth_getTransactionReceipt",args:[e.hash]};case"call":return{method:"eth_call",args:[this.getRpcTransaction(e.transaction),e.blockTag]};case"estimateGas":return{method:"eth_estimateGas",args:[this.getRpcTransaction(e.transaction)]};case"getLogs":return e.filter&&null!=e.filter.address&&(Array.isArray(e.filter.address)?e.filter.address=e.filter.address.map(getLowerCase):e.filter.address=getLowerCase(e.filter.address)),{method:"eth_getLogs",args:[e.filter]}}return null}getRpcError(e,a){let{method:c}=e,{error:u}=a;if("eth_estimateGas"===c&&u.message){let a=u.message;if(!a.match(/revert/i)&&a.match(/insufficient funds/i))return(0,L.wf)("insufficient funds","INSUFFICIENT_FUNDS",{transaction:e.params[0],info:{payload:e,error:u}})}if("eth_call"===c||"eth_estimateGas"===c){let a=function spelunkData(e){if(null==e)return null;if("string"==typeof e.message&&e.message.match(/revert/i)&&(0,H.A7)(e.data))return{message:e.message,data:e.data};if("object"==typeof e){for(let a in e){let c=spelunkData(e[a]);if(c)return c}return null}if("string"==typeof e)try{return spelunkData(JSON.parse(e))}catch(e){}return null}(u),p=R.R.getBuiltinCallException("eth_call"===c?"call":"estimateGas",e.params[0],a?a.data:null);return p.info={error:u,payload:e},p}let p=JSON.stringify(function(e){let a=[];return!function _spelunkMessage(e,a){if(null!=e){if("string"==typeof e.message&&a.push(e.message),"object"==typeof e)for(let c in e)_spelunkMessage(e[c],a);if("string"==typeof e)try{return _spelunkMessage(JSON.parse(e),a)}catch(e){}}}(e,a),a}(u));if("string"==typeof u.message&&u.message.match(/user denied|ethers-user-denied/i))return(0,L.wf)("user rejected action","ACTION_REJECTED",{action:{eth_sign:"signMessage",personal_sign:"signMessage",eth_signTypedData_v4:"signTypedData",eth_signTransaction:"signTransaction",eth_sendTransaction:"sendTransaction",eth_requestAccounts:"requestAccess",wallet_requestAccounts:"requestAccess"}[c]||"unknown",reason:"rejected",info:{payload:e,error:u}});if("eth_sendRawTransaction"===c||"eth_sendTransaction"===c){let a=e.params[0];if(p.match(/insufficient funds|base fee exceeds gas limit/i))return(0,L.wf)("insufficient funds for intrinsic transaction cost","INSUFFICIENT_FUNDS",{transaction:a,info:{error:u}});if(p.match(/nonce/i)&&p.match(/too low/i))return(0,L.wf)("nonce has already been used","NONCE_EXPIRED",{transaction:a,info:{error:u}});if(p.match(/replacement transaction/i)&&p.match(/underpriced/i))return(0,L.wf)("replacement fee too low","REPLACEMENT_UNDERPRICED",{transaction:a,info:{error:u}});if(p.match(/only replay-protected/i))return(0,L.wf)("legacy pre-eip-155 transactions not supported","UNSUPPORTED_OPERATION",{operation:c,info:{transaction:a,info:{error:u}}})}let f=!!p.match(/the method .* does not exist/i);return(!f&&u&&u.details&&u.details.startsWith("Unauthorized method:")&&(f=!0),f)?(0,L.wf)("unsupported operation","UNSUPPORTED_OPERATION",{operation:e.method,info:{error:u,payload:e}}):(0,L.wf)("could not coalesce error","UNKNOWN_ERROR",{error:u,payload:e})}send(e,a){if(this.destroyed)return Promise.reject((0,L.wf)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e}));let c=this.#t0++,u=new Promise((u,p)=>{this.#t1.push({resolve:u,reject:p,payload:{method:e,params:a,id:c,jsonrpc:"2.0"}})});return this.#t8(),u}async getSigner(e){null==e&&(e=0);let a=this.send("eth_accounts",[]);if("number"==typeof e){let c=await a;if(e>=c.length)throw Error("no such account");return new JsonRpcSigner(this,c[e])}let{accounts:c}=await (0,K.m)({network:this.getNetwork(),accounts:a});for(let a of(e=(0,M.K)(e),c))if((0,M.K)(a)===e)return new JsonRpcSigner(this,e);throw Error("invalid account")}async listAccounts(){let e=await this.send("eth_accounts",[]);return e.map(e=>new JsonRpcSigner(this,e))}destroy(){for(let{payload:e,reject:a}of(this.#t2&&(clearTimeout(this.#t2),this.#t2=null),this.#t1))a((0,L.wf)("provider destroyed; cancelled request","UNSUPPORTED_OPERATION",{operation:e.method}));this.#t1=[],super.destroy()}};let JsonRpcApiPollingProvider=class JsonRpcApiPollingProvider extends JsonRpcApiProvider{#t4;constructor(e,a){super(e,a);let c=this._getOption("pollingInterval");null==c&&(c=ev.pollingInterval),this.#t4=c}_getSubscriber(e){let a=super._getSubscriber(e);return isPollable(a)&&(a.pollingInterval=this.#t4),a}get pollingInterval(){return this.#t4}set pollingInterval(e){if(!Number.isInteger(e)||e<0)throw Error("invalid interval");this.#t4=e,this._forEachSubscriber(e=>{isPollable(e)&&(e.pollingInterval=this.#t4)})}};let JsonRpcProvider=class JsonRpcProvider extends JsonRpcApiPollingProvider{#t5;constructor(e,a,c){null==e&&(e="http://localhost:8545"),super(a,c),"string"==typeof e?this.#t5=new FetchRequest(e):this.#t5=e.clone()}_getConnection(){return this.#t5.clone()}async send(e,a){return await this._start(),await super.send(e,a)}async _send(e){let a=this._getConnection();a.body=JSON.stringify(e),a.setHeader("content-type","application/json");let c=await a.send();c.assertOk();let u=c.bodyJson;return Array.isArray(u)||(u=[u]),u}}},7729:function(e,a,c){"use strict";c.d(a,{IX:function(){return TransactionReceipt},Mw:function(){return TransactionResponse},Zb:function(){return Log},gO:function(){return Block},jW:function(){return FeeData},kK:function(){return copyRequest}});var u=c(60533),p=c(65541),f=c(79635),m=c(52261),y=c(12131);let w=BigInt(0);function getValue(e){return null==e?null:e}function toJson(e){return null==e?null:e.toString()}let FeeData=class FeeData{gasPrice;maxFeePerGas;maxPriorityFeePerGas;constructor(e,a,c){(0,u.h)(this,{gasPrice:getValue(e),maxFeePerGas:getValue(a),maxPriorityFeePerGas:getValue(c)})}toJSON(){let{gasPrice:e,maxFeePerGas:a,maxPriorityFeePerGas:c}=this;return{_type:"FeeData",gasPrice:toJson(e),maxFeePerGas:toJson(a),maxPriorityFeePerGas:toJson(c)}}};function copyRequest(e){let a={};for(let c of(e.to&&(a.to=e.to),e.from&&(a.from=e.from),e.data&&(a.data=(0,p.Dv)(e.data)),"chainId,gasLimit,gasPrice,maxFeePerBlobGas,maxFeePerGas,maxPriorityFeePerGas,value".split(/,/)))c in e&&null!=e[c]&&(a[c]=(0,f.yT)(e[c],`request.${c}`));for(let c of"type,nonce".split(/,/))c in e&&null!=e[c]&&(a[c]=(0,f.Dx)(e[c],`request.${c}`));return e.accessList&&(a.accessList=(0,y.z)(e.accessList)),"blockTag"in e&&(a.blockTag=e.blockTag),"enableCcipRead"in e&&(a.enableCcipRead=!!e.enableCcipRead),"customData"in e&&(a.customData=e.customData),"blobVersionedHashes"in e&&e.blobVersionedHashes&&(a.blobVersionedHashes=e.blobVersionedHashes.slice()),"kzg"in e&&(a.kzg=e.kzg),"blobs"in e&&e.blobs&&(a.blobs=e.blobs.map(e=>(0,p.Zq)(e)?(0,p.Dv)(e):Object.assign({},e))),a}let Block=class Block{provider;number;hash;timestamp;parentHash;parentBeaconBlockRoot;nonce;difficulty;gasLimit;gasUsed;stateRoot;receiptsRoot;blobGasUsed;excessBlobGas;miner;prevRandao;extraData;baseFeePerGas;#t7;constructor(e,a){this.#t7=e.transactions.map(e=>"string"!=typeof e?new TransactionResponse(e,a):e),(0,u.h)(this,{provider:a,hash:getValue(e.hash),number:e.number,timestamp:e.timestamp,parentHash:e.parentHash,parentBeaconBlockRoot:e.parentBeaconBlockRoot,nonce:e.nonce,difficulty:e.difficulty,gasLimit:e.gasLimit,gasUsed:e.gasUsed,blobGasUsed:e.blobGasUsed,excessBlobGas:e.excessBlobGas,miner:e.miner,prevRandao:getValue(e.prevRandao),extraData:e.extraData,baseFeePerGas:getValue(e.baseFeePerGas),stateRoot:e.stateRoot,receiptsRoot:e.receiptsRoot})}get transactions(){return this.#t7.map(e=>"string"==typeof e?e:e.hash)}get prefetchedTransactions(){let e=this.#t7.slice();return 0===e.length?[]:((0,m.hu)("object"==typeof e[0],"transactions were not prefetched with block request","UNSUPPORTED_OPERATION",{operation:"transactionResponses()"}),e)}toJSON(){let{baseFeePerGas:e,difficulty:a,extraData:c,gasLimit:u,gasUsed:p,hash:f,miner:m,prevRandao:y,nonce:w,number:E,parentHash:S,parentBeaconBlockRoot:A,stateRoot:k,receiptsRoot:T,timestamp:O,transactions:B}=this;return{_type:"Block",baseFeePerGas:toJson(e),difficulty:toJson(a),extraData:c,gasLimit:toJson(u),gasUsed:toJson(p),blobGasUsed:toJson(this.blobGasUsed),excessBlobGas:toJson(this.excessBlobGas),hash:f,miner:m,prevRandao:y,nonce:w,number:E,parentHash:S,timestamp:O,parentBeaconBlockRoot:A,stateRoot:k,receiptsRoot:T,transactions:B}}[Symbol.iterator](){let e=0,a=this.transactions;return{next:()=>e<this.length?{value:a[e++],done:!1}:{value:void 0,done:!0}}}get length(){return this.#t7.length}get date(){return null==this.timestamp?null:new Date(1e3*this.timestamp)}async getTransaction(e){let a;if("number"==typeof e)a=this.#t7[e];else{let c=e.toLowerCase();for(let e of this.#t7){if("string"==typeof e){if(e!==c)continue;a=e;break}if(e.hash!==c){a=e;break}}}if(null==a)throw Error("no such tx");return"string"==typeof a?await this.provider.getTransaction(a):a}getPrefetchedTransaction(e){let a=this.prefetchedTransactions;if("number"==typeof e)return a[e];for(let c of(e=e.toLowerCase(),a))if(c.hash===e)return c;(0,m.en)(!1,"no matching transaction","indexOrHash",e)}isMined(){return!!this.hash}isLondon(){return!!this.baseFeePerGas}orphanedEvent(){if(!this.isMined())throw Error("");return{orphan:"drop-block",hash:this.hash,number:this.number}}};let Log=class Log{provider;transactionHash;blockHash;blockNumber;removed;address;data;topics;index;transactionIndex;constructor(e,a){this.provider=a;let c=Object.freeze(e.topics.slice());(0,u.h)(this,{transactionHash:e.transactionHash,blockHash:e.blockHash,blockNumber:e.blockNumber,removed:e.removed,address:e.address,data:e.data,topics:c,index:e.index,transactionIndex:e.transactionIndex})}toJSON(){let{address:e,blockHash:a,blockNumber:c,data:u,index:p,removed:f,topics:m,transactionHash:y,transactionIndex:w}=this;return{_type:"log",address:e,blockHash:a,blockNumber:c,data:u,index:p,removed:f,topics:m,transactionHash:y,transactionIndex:w}}async getBlock(){let e=await this.provider.getBlock(this.blockHash);return(0,m.hu)(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransaction(){let e=await this.provider.getTransaction(this.transactionHash);return(0,m.hu)(!!e,"failed to find transaction","UNKNOWN_ERROR",{}),e}async getTransactionReceipt(){let e=await this.provider.getTransactionReceipt(this.transactionHash);return(0,m.hu)(!!e,"failed to find transaction receipt","UNKNOWN_ERROR",{}),e}removedEvent(){return{orphan:"drop-log",log:{transactionHash:this.transactionHash,blockHash:this.blockHash,blockNumber:this.blockNumber,address:this.address,data:this.data,topics:Object.freeze(this.topics.slice()),index:this.index}}}};let TransactionReceipt=class TransactionReceipt{provider;to;from;contractAddress;hash;index;blockHash;blockNumber;logsBloom;gasUsed;blobGasUsed;cumulativeGasUsed;gasPrice;blobGasPrice;type;status;root;#t9;constructor(e,a){this.#t9=Object.freeze(e.logs.map(e=>new Log(e,a)));let c=w;null!=e.effectiveGasPrice?c=e.effectiveGasPrice:null!=e.gasPrice&&(c=e.gasPrice),(0,u.h)(this,{provider:a,to:e.to,from:e.from,contractAddress:e.contractAddress,hash:e.hash,index:e.index,blockHash:e.blockHash,blockNumber:e.blockNumber,logsBloom:e.logsBloom,gasUsed:e.gasUsed,cumulativeGasUsed:e.cumulativeGasUsed,blobGasUsed:e.blobGasUsed,gasPrice:c,blobGasPrice:e.blobGasPrice,type:e.type,status:e.status,root:e.root})}get logs(){return this.#t9}toJSON(){let{to:e,from:a,contractAddress:c,hash:u,index:p,blockHash:f,blockNumber:m,logsBloom:y,logs:w,status:E,root:S}=this;return{_type:"TransactionReceipt",blockHash:f,blockNumber:m,contractAddress:c,cumulativeGasUsed:toJson(this.cumulativeGasUsed),from:a,gasPrice:toJson(this.gasPrice),blobGasUsed:toJson(this.blobGasUsed),blobGasPrice:toJson(this.blobGasPrice),gasUsed:toJson(this.gasUsed),hash:u,index:p,logs:w,logsBloom:y,root:S,status:E,to:e}}get length(){return this.logs.length}[Symbol.iterator](){let e=0;return{next:()=>e<this.length?{value:this.logs[e++],done:!1}:{value:void 0,done:!0}}}get fee(){return this.gasUsed*this.gasPrice}async getBlock(){let e=await this.provider.getBlock(this.blockHash);if(null==e)throw Error("TODO");return e}async getTransaction(){let e=await this.provider.getTransaction(this.hash);if(null==e)throw Error("TODO");return e}async getResult(){return await this.provider.getTransactionResult(this.hash)}async confirmations(){return await this.provider.getBlockNumber()-this.blockNumber+1}removedEvent(){return createRemovedTransactionFilter(this)}reorderedEvent(e){return(0,m.hu)(!e||e.isMined(),"unmined 'other' transction cannot be orphaned","UNSUPPORTED_OPERATION",{operation:"reorderedEvent(other)"}),createReorderedTransactionFilter(this,e)}};let TransactionResponse=class TransactionResponse{provider;blockNumber;blockHash;index;hash;type;to;from;nonce;gasLimit;gasPrice;maxPriorityFeePerGas;maxFeePerGas;maxFeePerBlobGas;data;value;chainId;signature;accessList;blobVersionedHashes;#et;constructor(e,a){this.provider=a,this.blockNumber=null!=e.blockNumber?e.blockNumber:null,this.blockHash=null!=e.blockHash?e.blockHash:null,this.hash=e.hash,this.index=e.index,this.type=e.type,this.from=e.from,this.to=e.to||null,this.gasLimit=e.gasLimit,this.nonce=e.nonce,this.data=e.data,this.value=e.value,this.gasPrice=e.gasPrice,this.maxPriorityFeePerGas=null!=e.maxPriorityFeePerGas?e.maxPriorityFeePerGas:null,this.maxFeePerGas=null!=e.maxFeePerGas?e.maxFeePerGas:null,this.maxFeePerBlobGas=null!=e.maxFeePerBlobGas?e.maxFeePerBlobGas:null,this.chainId=e.chainId,this.signature=e.signature,this.accessList=null!=e.accessList?e.accessList:null,this.blobVersionedHashes=null!=e.blobVersionedHashes?e.blobVersionedHashes:null,this.#et=-1}toJSON(){let{blockNumber:e,blockHash:a,index:c,hash:u,type:p,to:f,from:m,nonce:y,data:w,signature:E,accessList:S,blobVersionedHashes:A}=this;return{_type:"TransactionResponse",accessList:S,blockNumber:e,blockHash:a,blobVersionedHashes:A,chainId:toJson(this.chainId),data:w,from:m,gasLimit:toJson(this.gasLimit),gasPrice:toJson(this.gasPrice),hash:u,maxFeePerGas:toJson(this.maxFeePerGas),maxPriorityFeePerGas:toJson(this.maxPriorityFeePerGas),maxFeePerBlobGas:toJson(this.maxFeePerBlobGas),nonce:y,signature:E,to:f,index:c,type:p,value:toJson(this.value)}}async getBlock(){let e=this.blockNumber;if(null==e){let a=await this.getTransaction();a&&(e=a.blockNumber)}if(null==e)return null;let a=this.provider.getBlock(e);if(null==a)throw Error("TODO");return a}async getTransaction(){return this.provider.getTransaction(this.hash)}async confirmations(){if(null==this.blockNumber){let{tx:e,blockNumber:a}=await (0,u.m)({tx:this.getTransaction(),blockNumber:this.provider.getBlockNumber()});return null==e||null==e.blockNumber?0:a-e.blockNumber+1}let e=await this.provider.getBlockNumber();return e-this.blockNumber+1}async wait(e,a){let c=null==e?1:e,p=null==a?0:a,f=this.#et,y=-1,E=-1===f,checkReplacement=async()=>{if(E)return null;let{blockNumber:e,nonce:a}=await (0,u.m)({blockNumber:this.provider.getBlockNumber(),nonce:this.provider.getTransactionCount(this.from)});if(a<this.nonce){f=e;return}if(E)return null;let p=await this.getTransaction();if(!p||null==p.blockNumber)for(-1===y&&(y=f-3)<this.#et&&(y=this.#et);y<=e;){if(E)return null;let a=await this.provider.getBlock(y,!0);if(null==a)break;for(let e of a)if(e===this.hash)return;for(let u=0;u<a.length;u++){let p=await a.getTransaction(u);if(p.from===this.from&&p.nonce===this.nonce){if(E)return null;let a=await this.provider.getTransactionReceipt(p.hash);if(null==a||e-a.blockNumber+1<c)return;let u="replaced";p.data===this.data&&p.to===this.to&&p.value===this.value?u="repriced":"0x"===p.data&&p.from===p.to&&p.value===w&&(u="cancelled"),(0,m.hu)(!1,"transaction was replaced","TRANSACTION_REPLACED",{cancelled:"replaced"===u||"cancelled"===u,reason:u,replacement:p.replaceableTransaction(f),hash:p.hash,receipt:a})}}y++}},checkReceipt=e=>{if(null==e||0!==e.status)return e;(0,m.hu)(!1,"transaction execution reverted","CALL_EXCEPTION",{action:"sendTransaction",data:null,reason:null,invocation:null,revert:null,transaction:{to:e.to,from:e.from,data:""},receipt:e})},S=await this.provider.getTransactionReceipt(this.hash);if(0===c)return checkReceipt(S);if(S){if(await S.confirmations()>=c)return checkReceipt(S)}else if(await checkReplacement(),0===c)return null;let A=new Promise((e,a)=>{let u=[],cancel=()=>{u.forEach(e=>e())};if(u.push(()=>{E=!0}),p>0){let e=setTimeout(()=>{cancel(),a((0,m.wf)("wait for transaction timeout","TIMEOUT"))},p);u.push(()=>{clearTimeout(e)})}let txListener=async u=>{if(await u.confirmations()>=c){cancel();try{e(checkReceipt(u))}catch(e){a(e)}}};if(u.push(()=>{this.provider.off(this.hash,txListener)}),this.provider.on(this.hash,txListener),f>=0){let replaceListener=async()=>{try{await checkReplacement()}catch(e){if((0,m.VZ)(e,"TRANSACTION_REPLACED")){cancel(),a(e);return}}E||this.provider.once("block",replaceListener)};u.push(()=>{this.provider.off("block",replaceListener)}),this.provider.once("block",replaceListener)}});return await A}isMined(){return null!=this.blockHash}isLegacy(){return 0===this.type}isBerlin(){return 1===this.type}isLondon(){return 2===this.type}isCancun(){return 3===this.type}removedEvent(){return(0,m.hu)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),createRemovedTransactionFilter(this)}reorderedEvent(e){return(0,m.hu)(this.isMined(),"unmined transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),(0,m.hu)(!e||e.isMined(),"unmined 'other' transaction canot be orphaned","UNSUPPORTED_OPERATION",{operation:"removeEvent()"}),createReorderedTransactionFilter(this,e)}replaceableTransaction(e){(0,m.en)(Number.isInteger(e)&&e>=0,"invalid startBlock","startBlock",e);let a=new TransactionResponse(this,this.provider);return a.#et=e,a}};function createReorderedTransactionFilter(e,a){return{orphan:"reorder-transaction",tx:e,other:a}}function createRemovedTransactionFilter(e){return{orphan:"drop-transaction",tx:e}}},12131:function(e,a,c){"use strict";c.d(a,{z:function(){return accessListify}});var u=c(3635),p=c(52261),f=c(65541);function accessSetify(e,a){return{address:(0,u.K)(e),storageKeys:a.map((e,a)=>((0,p.en)((0,f.A7)(e,32),"invalid slot",`storageKeys[${a}]`,e),e.toLowerCase()))}}function accessListify(e){if(Array.isArray(e))return e.map((a,c)=>Array.isArray(a)?((0,p.en)(2===a.length,"invalid slot set",`value[${c}]`,a),accessSetify(a[0],a[1])):((0,p.en)(null!=a&&"object"==typeof a,"invalid address-slot set","value",e),accessSetify(a.address,a.storageKeys)));(0,p.en)(null!=e&&"object"==typeof e,"invalid access list","value",e);let a=Object.keys(e).map(a=>{let c=e[a].reduce((e,a)=>(e[a]=!0,e),{});return accessSetify(a,Object.keys(c).sort())});return a.sort((e,a)=>e.address.localeCompare(a.address)),a}},80691:function(e,a,c){"use strict";c.d(a,{Z:function(){return EventPayload}});var u=c(60533);let EventPayload=class EventPayload{filter;emitter;#ee;constructor(e,a,c){this.#ee=a,(0,u.h)(this,{emitter:e,filter:c})}async removeListener(){null!=this.#ee&&await this.emitter.off(this.filter,this.#ee)}}},3605:function(e,a,c){"use strict";c.d(a,{bM:function(){return formatUnits}});var u=c(52261),p=c(65541),f=c(79635),m=c(60533);let y=BigInt(-1),w=BigInt(0),E=BigInt(1),S=BigInt(5),A={},k="0000";for(;k.length<80;)k+=k;function getTens(e){let a=k;for(;a.length<e;)a+=a;return BigInt("1"+a.substring(0,e))}function checkValue(e,a,c){let p=BigInt(a.width);if(a.signed){let a=E<<p-E;(0,u.hu)(null==c||e>=-a&&e<a,"overflow","NUMERIC_FAULT",{operation:c,fault:"overflow",value:e}),e=e>w?(0,f._Y)((0,f.sS)(e,p),p):-(0,f._Y)((0,f.sS)(-e,p),p)}else{let a=E<<p;(0,u.hu)(null==c||e>=0&&e<a,"overflow","NUMERIC_FAULT",{operation:c,fault:"overflow",value:e}),e=(e%a+a)%a&a-E}return e}function getFormat(e){"number"==typeof e&&(e=`fixed128x${e}`);let a=!0,c=128,p=18;if("string"==typeof e){if("fixed"===e);else if("ufixed"===e)a=!1;else{let f=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);(0,u.en)(f,"invalid fixed format","format",e),a="u"!==f[1],c=parseInt(f[2]),p=parseInt(f[3])}}else if(e){let f=e,check=(e,a,c)=>null==f[e]?c:((0,u.en)(typeof f[e]===a,"invalid fixed format ("+e+" not "+a+")","format."+e,f[e]),f[e]);a=check("signed","boolean",a),c=check("width","number",c),p=check("decimals","number",p)}(0,u.en)(c%8==0,"invalid FixedNumber width (not byte aligned)","format.width",c),(0,u.en)(p<=80,"invalid FixedNumber decimals (too large)","format.decimals",p);let f=(a?"":"u")+"fixed"+String(c)+"x"+String(p);return{signed:a,width:c,decimals:p,name:f}}let fixednumber_FixedNumber=class fixednumber_FixedNumber{format;#er;#en;#ei;_value;constructor(e,a,c){(0,u.NK)(e,A,"FixedNumber"),this.#en=a,this.#er=c;let p=function(e,a){let c="";e<w&&(c="-",e*=y);let u=e.toString();if(0===a)return c+u;for(;u.length<=a;)u=k+u;let p=u.length-a;for(u=u.substring(0,p)+"."+u.substring(p);"0"===u[0]&&"."!==u[1];)u=u.substring(1);for(;"0"===u[u.length-1]&&"."!==u[u.length-2];)u=u.substring(0,u.length-1);return c+u}(a,c.decimals);(0,m.h)(this,{format:c.name,_value:p}),this.#ei=getTens(c.decimals)}get signed(){return this.#er.signed}get width(){return this.#er.width}get decimals(){return this.#er.decimals}get value(){return this.#en}#es(e){(0,u.en)(this.format===e.format,"incompatible format; use fixedNumber.toFormat","other",e)}#eo(e,a){return e=checkValue(e,this.#er,a),new fixednumber_FixedNumber(A,e,this.#er)}#ea(e,a){return this.#es(e),this.#eo(this.#en+e.#en,a)}addUnsafe(e){return this.#ea(e)}add(e){return this.#ea(e,"add")}#ec(e,a){return this.#es(e),this.#eo(this.#en-e.#en,a)}subUnsafe(e){return this.#ec(e)}sub(e){return this.#ec(e,"sub")}#eu(e,a){return this.#es(e),this.#eo(this.#en*e.#en/this.#ei,a)}mulUnsafe(e){return this.#eu(e)}mul(e){return this.#eu(e,"mul")}mulSignal(e){this.#es(e);let a=this.#en*e.#en;return(0,u.hu)(a%this.#ei===w,"precision lost during signalling mul","NUMERIC_FAULT",{operation:"mulSignal",fault:"underflow",value:this}),this.#eo(a/this.#ei,"mulSignal")}#el(e,a){return(0,u.hu)(e.#en!==w,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#es(e),this.#eo(this.#en*this.#ei/e.#en,a)}divUnsafe(e){return this.#el(e)}div(e){return this.#el(e,"div")}divSignal(e){(0,u.hu)(e.#en!==w,"division by zero","NUMERIC_FAULT",{operation:"div",fault:"divide-by-zero",value:this}),this.#es(e);let a=this.#en*this.#ei;return(0,u.hu)(a%e.#en===w,"precision lost during signalling div","NUMERIC_FAULT",{operation:"divSignal",fault:"underflow",value:this}),this.#eo(a/e.#en,"divSignal")}cmp(e){let a=this.value,c=e.value,u=this.decimals-e.decimals;return(u>0?c*=getTens(u):u<0&&(a*=getTens(-u)),a<c)?-1:a>c?1:0}eq(e){return 0===this.cmp(e)}lt(e){return 0>this.cmp(e)}lte(e){return 0>=this.cmp(e)}gt(e){return this.cmp(e)>0}gte(e){return this.cmp(e)>=0}floor(){let e=this.#en;return this.#en<w&&(e-=this.#ei-E),e=this.#en/this.#ei*this.#ei,this.#eo(e,"floor")}ceiling(){let e=this.#en;return this.#en>w&&(e+=this.#ei-E),e=this.#en/this.#ei*this.#ei,this.#eo(e,"ceiling")}round(e){if(null==e&&(e=0),e>=this.decimals)return this;let a=this.decimals-e,c=S*getTens(a-1),u=this.value+c,p=getTens(a);return checkValue(u=u/p*p,this.#er,"round"),new fixednumber_FixedNumber(A,u,this.#er)}isZero(){return this.#en===w}isNegative(){return this.#en<w}toString(){return this._value}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return fixednumber_FixedNumber.fromString(this.toString(),e)}static fromValue(e,a,c){let p=null==a?0:(0,f.Dx)(a),m=getFormat(c),y=(0,f.yT)(e,"value"),E=p-m.decimals;if(E>0){let a=getTens(E);(0,u.hu)(y%a===w,"value loses precision for format","NUMERIC_FAULT",{operation:"fromValue",fault:"underflow",value:e}),y/=a}else E<0&&(y*=getTens(-E));return checkValue(y,m,"fromValue"),new fixednumber_FixedNumber(A,y,m)}static fromString(e,a){let c=e.match(/^(-?)([0-9]*)\.?([0-9]*)$/);(0,u.en)(c&&c[2].length+c[3].length>0,"invalid FixedNumber string value","value",e);let p=getFormat(a),f=c[2]||"0",m=c[3]||"";for(;m.length<p.decimals;)m+=k;(0,u.hu)(m.substring(p.decimals).match(/^0*$/),"too many decimals for format","NUMERIC_FAULT",{operation:"fromString",fault:"underflow",value:e}),m=m.substring(0,p.decimals);let y=BigInt(c[1]+f+m);return checkValue(y,p,"fromString"),new fixednumber_FixedNumber(A,y,p)}static fromBytes(e,a){let c=(0,f.Gh)((0,p.Pw)(e,"value")),u=getFormat(a);return u.signed&&(c=(0,f._Y)(c,u.width)),checkValue(c,u,"fromBytes"),new fixednumber_FixedNumber(A,c,u)}};let T=["wei","kwei","mwei","gwei","szabo","finney","ether"];function formatUnits(e,a){let c=18;if("string"==typeof a){let e=T.indexOf(a);(0,u.en)(e>=0,"invalid unit","unit",a),c=3*e}else null!=a&&(c=(0,f.Dx)(a,"unit"));return fixednumber_FixedNumber.fromValue(e,c,{decimals:c,width:512}).toString()}},94178:function(e,a,c){"use strict";c.d(a,{Y0:function(){return toUtf8Bytes},ZN:function(){return toUtf8String}});var u=c(65541),p=c(52261);function ignoreFunc(e,a,c,u,p){if("BAD_PREFIX"===e||"UNEXPECTED_CONTINUE"===e){let e=0;for(let u=a+1;u<c.length&&c[u]>>6==2;u++)e++;return e}return"OVERRUN"===e?c.length-a-1:0}let f=Object.freeze({error:function(e,a,c,u,f){(0,p.en)(!1,`invalid codepoint at offset ${a}; ${e}`,"bytes",c)},ignore:ignoreFunc,replace:function(e,a,c,u,f){return"OVERLONG"===e?((0,p.en)("number"==typeof f,"invalid bad code point for replacement","badCodepoint",f),u.push(f),0):(u.push(65533),ignoreFunc(e,a,c,u,f))}});function toUtf8Bytes(e,a){(0,p.en)("string"==typeof e,"invalid string value","str",e),null!=a&&((0,p.fA)(a),e=e.normalize(a));let c=[];for(let a=0;a<e.length;a++){let u=e.charCodeAt(a);if(u<128)c.push(u);else if(u<2048)c.push(u>>6|192),c.push(63&u|128);else if((64512&u)==55296){a++;let f=e.charCodeAt(a);(0,p.en)(a<e.length&&(64512&f)==56320,"invalid surrogate pair","str",e);let m=65536+((1023&u)<<10)+(1023&f);c.push(m>>18|240),c.push(m>>12&63|128),c.push(m>>6&63|128),c.push(63&m|128)}else c.push(u>>12|224),c.push(u>>6&63|128),c.push(63&u|128)}return new Uint8Array(c)}function toUtf8String(e,a){return(function(e,a){null==a&&(a=f.error);let c=(0,u.Pw)(e,"bytes"),p=[],m=0;for(;m<c.length;){let e=c[m++];if(e>>7==0){p.push(e);continue}let u=null,f=null;if((224&e)==192)u=1,f=127;else if((240&e)==224)u=2,f=2047;else if((248&e)==240)u=3,f=65535;else{(192&e)==128?m+=a("UNEXPECTED_CONTINUE",m-1,c,p):m+=a("BAD_PREFIX",m-1,c,p);continue}if(m-1+u>=c.length){m+=a("OVERRUN",m-1,c,p);continue}let y=e&(1<<8-u-1)-1;for(let e=0;e<u;e++){let e=c[m];if((192&e)!=128){m+=a("MISSING_CONTINUE",m,c,p),y=null;break}y=y<<6|63&e,m++}if(null!==y){if(y>1114111){m+=a("OUT_OF_RANGE",m-1-u,c,p,y);continue}if(y>=55296&&y<=57343){m+=a("UTF16_SURROGATE",m-1-u,c,p,y);continue}if(y<=f){m+=a("OVERLONG",m-1-u,c,p,y);continue}p.push(y)}}return p})(e,a).map(e=>e<=65535?String.fromCharCode(e):String.fromCharCode(((e-=65536)>>10&1023)+55296,(1023&e)+56320)).join("")}},84481:function(e){"use strict";e.exports={i8:"10.2.1"}}}]);